var Zm=Object.defineProperty;var ey=(e,t,n)=>t in e?Zm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>ey(e,typeof t!="symbol"?t+"":t,n);function ty(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kf={exports:{}},ea={},Wf={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=Symbol.for("react.element"),ny=Symbol.for("react.portal"),ry=Symbol.for("react.fragment"),iy=Symbol.for("react.strict_mode"),oy=Symbol.for("react.profiler"),sy=Symbol.for("react.provider"),ay=Symbol.for("react.context"),ly=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),cy=Symbol.for("react.memo"),dy=Symbol.for("react.lazy"),yd=Symbol.iterator;function fy(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var $f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vf=Object.assign,qf={};function di(e,t,n){this.props=e,this.context=t,this.refs=qf,this.updater=n||$f}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hf(){}Hf.prototype=di.prototype;function Ru(e,t,n){this.props=e,this.context=t,this.refs=qf,this.updater=n||$f}var Ou=Ru.prototype=new Hf;Ou.constructor=Ru;Vf(Ou,di.prototype);Ou.isPureReactComponent=!0;var vd=Array.isArray,Qf=Object.prototype.hasOwnProperty,Du={current:null},Gf={key:!0,ref:!0,__self:!0,__source:!0};function Yf(e,t,n){var r,i={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Qf.call(t,r)&&!Gf.hasOwnProperty(r)&&(i[r]=t[r]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var p=Array(d),y=0;y<d;y++)p[y]=arguments[y+2];i.children=p}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:go,type:e,key:s,ref:l,props:i,_owner:Du.current}}function py(e,t){return{$$typeof:go,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Au(e){return typeof e=="object"&&e!==null&&e.$$typeof===go}function hy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gd=/\/+/g;function rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hy(""+e.key):t.toString(36)}function hs(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case go:case ny:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+rl(l,0):r,vd(i)?(n="",e!=null&&(n=e.replace(gd,"$&/")+"/"),hs(i,t,n,"",function(y){return y})):i!=null&&(Au(i)&&(i=py(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(gd,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",vd(e))for(var d=0;d<e.length;d++){s=e[d];var p=r+rl(s,d);l+=hs(s,t,n,p,i)}else if(p=fy(e),typeof p=="function")for(e=p.call(e),d=0;!(s=e.next()).done;)s=s.value,p=r+rl(s,d++),l+=hs(s,t,n,p,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Go(e,t,n){if(e==null)return e;var r=[],i=0;return hs(e,r,"","",function(s){return t.call(n,s,i++)}),r}function my(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},ms={transition:null},yy={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:ms,ReactCurrentOwner:Du};function Xf(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Go,forEach:function(e,t,n){Go(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Go(e,function(){t++}),t},toArray:function(e){return Go(e,function(t){return t})||[]},only:function(e){if(!Au(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=di;me.Fragment=ry;me.Profiler=oy;me.PureComponent=Ru;me.StrictMode=iy;me.Suspense=uy;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yy;me.act=Xf;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vf({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Du.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(p in t)Qf.call(t,p)&&!Gf.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&d!==void 0?d[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){d=Array(p);for(var y=0;y<p;y++)d[y]=arguments[y+2];r.children=d}return{$$typeof:go,type:e.type,key:i,ref:s,props:r,_owner:l}};me.createContext=function(e){return e={$$typeof:ay,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:sy,_context:e},e.Consumer=e};me.createElement=Yf;me.createFactory=function(e){var t=Yf.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:ly,render:e}};me.isValidElement=Au;me.lazy=function(e){return{$$typeof:dy,_payload:{_status:-1,_result:e},_init:my}};me.memo=function(e,t){return{$$typeof:cy,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=ms.transition;ms.transition={};try{e()}finally{ms.transition=t}};me.unstable_act=Xf;me.useCallback=function(e,t){return ht.current.useCallback(e,t)};me.useContext=function(e){return ht.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};me.useEffect=function(e,t){return ht.current.useEffect(e,t)};me.useId=function(){return ht.current.useId()};me.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return ht.current.useMemo(e,t)};me.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};me.useRef=function(e){return ht.current.useRef(e)};me.useState=function(e){return ht.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return ht.current.useTransition()};me.version="18.3.1";Wf.exports=me;var F=Wf.exports;const Lu=bu(F),vy=ty({__proto__:null,default:Lu},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=F,wy=Symbol.for("react.element"),xy=Symbol.for("react.fragment"),Sy=Object.prototype.hasOwnProperty,ky=gy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ey={key:!0,ref:!0,__self:!0,__source:!0};function Jf(e,t,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Sy.call(t,r)&&!Ey.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:wy,type:e,key:s,ref:l,props:i,_owner:ky.current}}ea.Fragment=xy;ea.jsx=Jf;ea.jsxs=Jf;Kf.exports=ea;var h=Kf.exports,Rl={},Zf={exports:{}},Ct={},ep={exports:{}},tp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,de){var fe=ee.length;ee.push(de);e:for(;0<fe;){var Y=fe-1>>>1,pe=ee[Y];if(0<i(pe,de))ee[Y]=de,ee[fe]=pe,fe=Y;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var de=ee[0],fe=ee.pop();if(fe!==de){ee[0]=fe;e:for(var Y=0,pe=ee.length,Ze=pe>>>1;Y<Ze;){var Ne=2*(Y+1)-1,st=ee[Ne],Fe=Ne+1,It=ee[Fe];if(0>i(st,fe))Fe<pe&&0>i(It,st)?(ee[Y]=It,ee[Fe]=fe,Y=Fe):(ee[Y]=st,ee[Ne]=fe,Y=Ne);else if(Fe<pe&&0>i(It,fe))ee[Y]=It,ee[Fe]=fe,Y=Fe;else break e}}return de}function i(ee,de){var fe=ee.sortIndex-de.sortIndex;return fe!==0?fe:ee.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var p=[],y=[],S=1,w=null,_=3,D=!1,O=!1,K=!1,L=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ee){for(var de=n(y);de!==null;){if(de.callback===null)r(y);else if(de.startTime<=ee)r(y),de.sortIndex=de.expirationTime,t(p,de);else break;de=n(y)}}function U(ee){if(K=!1,k(ee),!O)if(n(p)!==null)O=!0,rn(Q);else{var de=n(y);de!==null&&Xn(U,de.startTime-ee)}}function Q(ee,de){O=!1,K&&(K=!1,E(ie),ie=-1),D=!0;var fe=_;try{for(k(de),w=n(p);w!==null&&(!(w.expirationTime>de)||ee&&!_e());){var Y=w.callback;if(typeof Y=="function"){w.callback=null,_=w.priorityLevel;var pe=Y(w.expirationTime<=de);de=e.unstable_now(),typeof pe=="function"?w.callback=pe:w===n(p)&&r(p),k(de)}else r(p);w=n(p)}if(w!==null)var Ze=!0;else{var Ne=n(y);Ne!==null&&Xn(U,Ne.startTime-de),Ze=!1}return Ze}finally{w=null,_=fe,D=!1}}var Z=!1,$=null,ie=-1,ye=5,re=-1;function _e(){return!(e.unstable_now()-re<ye)}function Ve(){if($!==null){var ee=e.unstable_now();re=ee;var de=!0;try{de=$(!0,ee)}finally{de?ke():(Z=!1,$=null)}}else Z=!1}var ke;if(typeof x=="function")ke=function(){x(Ve)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Vt=qe.port2;qe.port1.onmessage=Ve,ke=function(){Vt.postMessage(null)}}else ke=function(){L(Ve,0)};function rn(ee){$=ee,Z||(Z=!0,ke())}function Xn(ee,de){ie=L(function(){ee(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){O||D||(O=!0,rn(Q))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(ee){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var fe=_;_=de;try{return ee()}finally{_=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var fe=_;_=ee;try{return de()}finally{_=fe}},e.unstable_scheduleCallback=function(ee,de,fe){var Y=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Y+fe:Y):fe=Y,ee){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=fe+pe,ee={id:S++,callback:de,priorityLevel:ee,startTime:fe,expirationTime:pe,sortIndex:-1},fe>Y?(ee.sortIndex=fe,t(y,ee),n(p)===null&&ee===n(y)&&(K?(E(ie),ie=-1):K=!0,Xn(U,fe-Y))):(ee.sortIndex=pe,t(p,ee),O||D||(O=!0,rn(Q))),ee},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(ee){var de=_;return function(){var fe=_;_=de;try{return ee.apply(this,arguments)}finally{_=fe}}}})(tp);ep.exports=tp;var _y=ep.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny=F,jt=_y;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var np=new Set,Ji={};function Er(e,t){ni(e,t),ni(e+"Capture",t)}function ni(e,t){for(Ji[e]=t,e=0;e<t.length;e++)np.add(t[e])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=Object.prototype.hasOwnProperty,jy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wd={},xd={};function Cy(e){return Ol.call(xd,e)?!0:Ol.call(wd,e)?!1:jy.test(e)?xd[e]=!0:(wd[e]=!0,!1)}function Py(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Iy(e,t,n,r){if(t===null||typeof t>"u"||Py(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mt(e,t,n,r,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new mt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new mt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new mt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new mt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new mt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new mt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new mt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new mt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new mt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mu=/[\-:]([a-z])/g;function zu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mu,zu);ot[t]=new mt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mu,zu);ot[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mu,zu);ot[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new mt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new mt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new mt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bu(e,t,n,r){var i=ot.hasOwnProperty(t)?ot[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Iy(t,n,i,r)&&(n=null),r||i===null?Cy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gn=Ny.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yo=Symbol.for("react.element"),Lr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),Fu=Symbol.for("react.strict_mode"),Dl=Symbol.for("react.profiler"),rp=Symbol.for("react.provider"),ip=Symbol.for("react.context"),Uu=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),op=Symbol.for("react.offscreen"),Sd=Symbol.iterator;function bi(e){return e===null||typeof e!="object"?null:(e=Sd&&e[Sd]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,il;function Bi(e){if(il===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);il=t&&t[1]||""}return`
`+il+e}var ol=!1;function sl(e,t){if(!e||ol)return"";ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(y){var r=y}Reflect.construct(e,[],t)}else{try{t.call()}catch(y){r=y}e.call(t.prototype)}else{try{throw Error()}catch(y){r=y}e()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var i=y.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,d=s.length-1;1<=l&&0<=d&&i[l]!==s[d];)d--;for(;1<=l&&0<=d;l--,d--)if(i[l]!==s[d]){if(l!==1||d!==1)do if(l--,d--,0>d||i[l]!==s[d]){var p=`
`+i[l].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=l&&0<=d);break}}}finally{ol=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Bi(e):""}function Ty(e){switch(e.tag){case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return e=sl(e.type,!1),e;case 11:return e=sl(e.type.render,!1),e;case 1:return e=sl(e.type,!0),e;default:return""}}function Ml(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mr:return"Fragment";case Lr:return"Portal";case Dl:return"Profiler";case Fu:return"StrictMode";case Al:return"Suspense";case Ll:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ip:return(e.displayName||"Context")+".Consumer";case rp:return(e._context.displayName||"Context")+".Provider";case Uu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return t=e.displayName||null,t!==null?t:Ml(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return Ml(e(t))}catch{}}return null}function by(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ml(t);case 8:return t===Fu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ry(e){var t=sp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xo(e){e._valueTracker||(e._valueTracker=Ry(e))}function ap(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zl(e,t){var n=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lp(e,t){t=t.checked,t!=null&&Bu(e,"checked",t,!1)}function Bl(e,t){lp(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fl(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ed(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fl(e,t,n){(t!=="number"||Cs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fi=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _d(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Fi(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function up(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Nd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jo,dp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oy=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(e){Oy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wi[t]=Wi[e]})});function fp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wi.hasOwnProperty(e)&&Wi[e]?(""+t).trim():t+"px"}function pp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Dy=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wl(e,t){if(t){if(Dy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function $l(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=null;function Wu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,Xr=null,Jr=null;function jd(e){if(e=So(e)){if(typeof ql!="function")throw Error(H(280));var t=e.stateNode;t&&(t=oa(t),ql(e.stateNode,e.type,t))}}function hp(e){Xr?Jr?Jr.push(e):Jr=[e]:Xr=e}function mp(){if(Xr){var e=Xr,t=Jr;if(Jr=Xr=null,jd(e),t)for(e=0;e<t.length;e++)jd(t[e])}}function yp(e,t){return e(t)}function vp(){}var al=!1;function gp(e,t,n){if(al)return e(t,n);al=!0;try{return yp(e,t,n)}finally{al=!1,(Xr!==null||Jr!==null)&&(vp(),mp())}}function eo(e,t){var n=e.stateNode;if(n===null)return null;var r=oa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Hl=!1;if(hn)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{Hl=!1}function Ay(e,t,n,r,i,s,l,d,p){var y=Array.prototype.slice.call(arguments,3);try{t.apply(n,y)}catch(S){this.onError(S)}}var $i=!1,Ps=null,Is=!1,Ql=null,Ly={onError:function(e){$i=!0,Ps=e}};function My(e,t,n,r,i,s,l,d,p){$i=!1,Ps=null,Ay.apply(Ly,arguments)}function zy(e,t,n,r,i,s,l,d,p){if(My.apply(this,arguments),$i){if($i){var y=Ps;$i=!1,Ps=null}else throw Error(H(198));Is||(Is=!0,Ql=y)}}function _r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cd(e){if(_r(e)!==e)throw Error(H(188))}function By(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Cd(i),e;if(s===r)return Cd(i),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,d=i.child;d;){if(d===n){l=!0,n=i,r=s;break}if(d===r){l=!0,r=i,n=s;break}d=d.sibling}if(!l){for(d=s.child;d;){if(d===n){l=!0,n=s,r=i;break}if(d===r){l=!0,r=s,n=i;break}d=d.sibling}if(!l)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function xp(e){return e=By(e),e!==null?Sp(e):null}function Sp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Sp(e);if(t!==null)return t;e=e.sibling}return null}var kp=jt.unstable_scheduleCallback,Pd=jt.unstable_cancelCallback,Fy=jt.unstable_shouldYield,Uy=jt.unstable_requestPaint,We=jt.unstable_now,Ky=jt.unstable_getCurrentPriorityLevel,$u=jt.unstable_ImmediatePriority,Ep=jt.unstable_UserBlockingPriority,Ts=jt.unstable_NormalPriority,Wy=jt.unstable_LowPriority,_p=jt.unstable_IdlePriority,ta=null,tn=null;function $y(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Hy,Vy=Math.log,qy=Math.LN2;function Hy(e){return e>>>=0,e===0?32:31-(Vy(e)/qy|0)|0}var Zo=64,es=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var d=l&~i;d!==0?r=Ui(d):(s&=l,s!==0&&(r=Ui(s)))}else l=n&~i,l!==0?r=Ui(l):s!==0&&(r=Ui(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Kt(t),i=1<<n,r|=e[n],t&=~i;return r}function Qy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Kt(s),d=1<<l,p=i[l];p===-1?(!(d&n)||d&r)&&(i[l]=Qy(d,t)):p<=t&&(e.expiredLanes|=d),s&=~d}}function Gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Np(){var e=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),e}function ll(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=n}function Yy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Kt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Vu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Kt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var je=0;function jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cp,qu,Pp,Ip,Tp,Yl=!1,ts=[],Mn=null,zn=null,Bn=null,to=new Map,no=new Map,Rn=[],Xy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(e,t){switch(e){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":to.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(t.pointerId)}}function Oi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=So(t),t!==null&&qu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Jy(e,t,n,r,i){switch(t){case"focusin":return Mn=Oi(Mn,e,t,n,r,i),!0;case"dragenter":return zn=Oi(zn,e,t,n,r,i),!0;case"mouseover":return Bn=Oi(Bn,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return to.set(s,Oi(to.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,no.set(s,Oi(no.get(s)||null,e,t,n,r,i)),!0}return!1}function bp(e){var t=dr(e.target);if(t!==null){var n=_r(t);if(n!==null){if(t=n.tag,t===13){if(t=wp(n),t!==null){e.blockedOn=t,Tp(e.priority,function(){Pp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Vl=r,n.target.dispatchEvent(r),Vl=null}else return t=So(n),t!==null&&qu(t),e.blockedOn=n,!1;t.shift()}return!0}function Td(e,t,n){ys(e)&&n.delete(t)}function Zy(){Yl=!1,Mn!==null&&ys(Mn)&&(Mn=null),zn!==null&&ys(zn)&&(zn=null),Bn!==null&&ys(Bn)&&(Bn=null),to.forEach(Td),no.forEach(Td)}function Di(e,t){e.blockedOn===t&&(e.blockedOn=null,Yl||(Yl=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,Zy)))}function ro(e){function t(i){return Di(i,e)}if(0<ts.length){Di(ts[0],e);for(var n=1;n<ts.length;n++){var r=ts[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Mn!==null&&Di(Mn,e),zn!==null&&Di(zn,e),Bn!==null&&Di(Bn,e),to.forEach(t),no.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)bp(n),n.blockedOn===null&&Rn.shift()}var Zr=gn.ReactCurrentBatchConfig,Rs=!0;function ev(e,t,n,r){var i=je,s=Zr.transition;Zr.transition=null;try{je=1,Hu(e,t,n,r)}finally{je=i,Zr.transition=s}}function tv(e,t,n,r){var i=je,s=Zr.transition;Zr.transition=null;try{je=4,Hu(e,t,n,r)}finally{je=i,Zr.transition=s}}function Hu(e,t,n,r){if(Rs){var i=Xl(e,t,n,r);if(i===null)gl(e,t,r,Os,n),Id(e,r);else if(Jy(i,e,t,n,r))r.stopPropagation();else if(Id(e,r),t&4&&-1<Xy.indexOf(e)){for(;i!==null;){var s=So(i);if(s!==null&&Cp(s),s=Xl(e,t,n,r),s===null&&gl(e,t,r,Os,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gl(e,t,r,null,n)}}var Os=null;function Xl(e,t,n,r){if(Os=null,e=Wu(r),e=dr(e),e!==null)if(t=_r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Os=e,null}function Rp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ky()){case $u:return 1;case Ep:return 4;case Ts:case Wy:return 16;case _p:return 536870912;default:return 16}default:return 16}}var Dn=null,Qu=null,vs=null;function Op(){if(vs)return vs;var e,t=Qu,n=t.length,r,i="value"in Dn?Dn.value:Dn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[s-r];r++);return vs=i.slice(e,1<r?1-r:void 0)}function gs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ns(){return!0}function bd(){return!1}function Pt(e){function t(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(s):s[d]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ns:bd,this.isPropagationStopped=bd,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=Pt(fi),xo=Me({},fi,{view:0,detail:0}),nv=Pt(xo),ul,cl,Ai,na=Me({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(ul=e.screenX-Ai.screenX,cl=e.screenY-Ai.screenY):cl=ul=0,Ai=e),ul)},movementY:function(e){return"movementY"in e?e.movementY:cl}}),Rd=Pt(na),rv=Me({},na,{dataTransfer:0}),iv=Pt(rv),ov=Me({},xo,{relatedTarget:0}),dl=Pt(ov),sv=Me({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),av=Pt(sv),lv=Me({},fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uv=Pt(lv),cv=Me({},fi,{data:0}),Od=Pt(cv),dv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pv[e])?!!t[e]:!1}function Yu(){return hv}var mv=Me({},xo,{key:function(e){if(e.key){var t=dv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yv=Pt(mv),vv=Me({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=Pt(vv),gv=Me({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),wv=Pt(gv),xv=Me({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sv=Pt(xv),kv=Me({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=Pt(kv),_v=[9,13,27,32],Xu=hn&&"CompositionEvent"in window,Vi=null;hn&&"documentMode"in document&&(Vi=document.documentMode);var Nv=hn&&"TextEvent"in window&&!Vi,Dp=hn&&(!Xu||Vi&&8<Vi&&11>=Vi),Ad=" ",Ld=!1;function Ap(e,t){switch(e){case"keyup":return _v.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function jv(e,t){switch(e){case"compositionend":return Lp(t);case"keypress":return t.which!==32?null:(Ld=!0,Ad);case"textInput":return e=t.data,e===Ad&&Ld?null:e;default:return null}}function Cv(e,t){if(zr)return e==="compositionend"||!Xu&&Ap(e,t)?(e=Op(),vs=Qu=Dn=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dp&&t.locale!=="ko"?null:t.data;default:return null}}var Pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pv[e.type]:t==="textarea"}function Mp(e,t,n,r){hp(r),t=Ds(t,"onChange"),0<t.length&&(n=new Gu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qi=null,io=null;function Iv(e){Qp(e,0)}function ra(e){var t=Ur(e);if(ap(t))return e}function Tv(e,t){if(e==="change")return t}var zp=!1;if(hn){var fl;if(hn){var pl="oninput"in document;if(!pl){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),pl=typeof zd.oninput=="function"}fl=pl}else fl=!1;zp=fl&&(!document.documentMode||9<document.documentMode)}function Bd(){qi&&(qi.detachEvent("onpropertychange",Bp),io=qi=null)}function Bp(e){if(e.propertyName==="value"&&ra(io)){var t=[];Mp(t,io,e,Wu(e)),gp(Iv,t)}}function bv(e,t,n){e==="focusin"?(Bd(),qi=t,io=n,qi.attachEvent("onpropertychange",Bp)):e==="focusout"&&Bd()}function Rv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ra(io)}function Ov(e,t){if(e==="click")return ra(t)}function Dv(e,t){if(e==="input"||e==="change")return ra(t)}function Av(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Av;function oo(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ol.call(t,i)||!$t(e[i],t[i]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ud(e,t){var n=Fd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fd(n)}}function Fp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Up(){for(var e=window,t=Cs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cs(e.document)}return t}function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lv(e){var t=Up(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fp(n.ownerDocument.documentElement,n)){if(r!==null&&Ju(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Ud(n,s);var l=Ud(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mv=hn&&"documentMode"in document&&11>=document.documentMode,Br=null,Jl=null,Hi=null,Zl=!1;function Kd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zl||Br==null||Br!==Cs(r)||(r=Br,"selectionStart"in r&&Ju(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&oo(Hi,r)||(Hi=r,r=Ds(Jl,"onSelect"),0<r.length&&(t=new Gu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Br)))}function rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},hl={},Kp={};hn&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function ia(e){if(hl[e])return hl[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kp)return hl[e]=t[n];return e}var Wp=ia("animationend"),$p=ia("animationiteration"),Vp=ia("animationstart"),qp=ia("transitionend"),Hp=new Map,Wd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(e,t){Hp.set(e,t),Er(t,[e])}for(var ml=0;ml<Wd.length;ml++){var yl=Wd[ml],zv=yl.toLowerCase(),Bv=yl[0].toUpperCase()+yl.slice(1);Qn(zv,"on"+Bv)}Qn(Wp,"onAnimationEnd");Qn($p,"onAnimationIteration");Qn(Vp,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(qp,"onTransitionEnd");ni("onMouseEnter",["mouseout","mouseover"]);ni("onMouseLeave",["mouseout","mouseover"]);ni("onPointerEnter",["pointerout","pointerover"]);ni("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ki));function $d(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zy(r,t,void 0,e),e.currentTarget=null}function Qp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var d=r[l],p=d.instance,y=d.currentTarget;if(d=d.listener,p!==s&&i.isPropagationStopped())break e;$d(i,d,y),s=p}else for(l=0;l<r.length;l++){if(d=r[l],p=d.instance,y=d.currentTarget,d=d.listener,p!==s&&i.isPropagationStopped())break e;$d(i,d,y),s=p}}}if(Is)throw e=Ql,Is=!1,Ql=null,e}function Ie(e,t){var n=t[iu];n===void 0&&(n=t[iu]=new Set);var r=e+"__bubble";n.has(r)||(Gp(t,e,2,!1),n.add(r))}function vl(e,t,n){var r=0;t&&(r|=4),Gp(n,e,r,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function so(e){if(!e[is]){e[is]=!0,np.forEach(function(n){n!=="selectionchange"&&(Fv.has(n)||vl(n,!1,e),vl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,vl("selectionchange",!1,t))}}function Gp(e,t,n,r){switch(Rp(t)){case 1:var i=ev;break;case 4:i=tv;break;default:i=Hu}n=i.bind(null,t,n,e),i=void 0,!Hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function gl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var p=l.tag;if((p===3||p===4)&&(p=l.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;l=l.return}for(;d!==null;){if(l=dr(d),l===null)return;if(p=l.tag,p===5||p===6){r=s=l;continue e}d=d.parentNode}}r=r.return}gp(function(){var y=s,S=Wu(n),w=[];e:{var _=Hp.get(e);if(_!==void 0){var D=Gu,O=e;switch(e){case"keypress":if(gs(n)===0)break e;case"keydown":case"keyup":D=yv;break;case"focusin":O="focus",D=dl;break;case"focusout":O="blur",D=dl;break;case"beforeblur":case"afterblur":D=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=iv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=wv;break;case Wp:case $p:case Vp:D=av;break;case qp:D=Sv;break;case"scroll":D=nv;break;case"wheel":D=Ev;break;case"copy":case"cut":case"paste":D=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Dd}var K=(t&4)!==0,L=!K&&e==="scroll",E=K?_!==null?_+"Capture":null:_;K=[];for(var x=y,k;x!==null;){k=x;var U=k.stateNode;if(k.tag===5&&U!==null&&(k=U,E!==null&&(U=eo(x,E),U!=null&&K.push(ao(x,U,k)))),L)break;x=x.return}0<K.length&&(_=new D(_,O,null,n,S),w.push({event:_,listeners:K}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",_&&n!==Vl&&(O=n.relatedTarget||n.fromElement)&&(dr(O)||O[mn]))break e;if((D||_)&&(_=S.window===S?S:(_=S.ownerDocument)?_.defaultView||_.parentWindow:window,D?(O=n.relatedTarget||n.toElement,D=y,O=O?dr(O):null,O!==null&&(L=_r(O),O!==L||O.tag!==5&&O.tag!==6)&&(O=null)):(D=null,O=y),D!==O)){if(K=Rd,U="onMouseLeave",E="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(K=Dd,U="onPointerLeave",E="onPointerEnter",x="pointer"),L=D==null?_:Ur(D),k=O==null?_:Ur(O),_=new K(U,x+"leave",D,n,S),_.target=L,_.relatedTarget=k,U=null,dr(S)===y&&(K=new K(E,x+"enter",O,n,S),K.target=k,K.relatedTarget=L,U=K),L=U,D&&O)t:{for(K=D,E=O,x=0,k=K;k;k=Ar(k))x++;for(k=0,U=E;U;U=Ar(U))k++;for(;0<x-k;)K=Ar(K),x--;for(;0<k-x;)E=Ar(E),k--;for(;x--;){if(K===E||E!==null&&K===E.alternate)break t;K=Ar(K),E=Ar(E)}K=null}else K=null;D!==null&&Vd(w,_,D,K,!1),O!==null&&L!==null&&Vd(w,L,O,K,!0)}}e:{if(_=y?Ur(y):window,D=_.nodeName&&_.nodeName.toLowerCase(),D==="select"||D==="input"&&_.type==="file")var Q=Tv;else if(Md(_))if(zp)Q=Dv;else{Q=Rv;var Z=bv}else(D=_.nodeName)&&D.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(Q=Ov);if(Q&&(Q=Q(e,y))){Mp(w,Q,n,S);break e}Z&&Z(e,_,y),e==="focusout"&&(Z=_._wrapperState)&&Z.controlled&&_.type==="number"&&Fl(_,"number",_.value)}switch(Z=y?Ur(y):window,e){case"focusin":(Md(Z)||Z.contentEditable==="true")&&(Br=Z,Jl=y,Hi=null);break;case"focusout":Hi=Jl=Br=null;break;case"mousedown":Zl=!0;break;case"contextmenu":case"mouseup":case"dragend":Zl=!1,Kd(w,n,S);break;case"selectionchange":if(Mv)break;case"keydown":case"keyup":Kd(w,n,S)}var $;if(Xu)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else zr?Ap(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(Dp&&n.locale!=="ko"&&(zr||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&zr&&($=Op()):(Dn=S,Qu="value"in Dn?Dn.value:Dn.textContent,zr=!0)),Z=Ds(y,ie),0<Z.length&&(ie=new Od(ie,e,null,n,S),w.push({event:ie,listeners:Z}),$?ie.data=$:($=Lp(n),$!==null&&(ie.data=$)))),($=Nv?jv(e,n):Cv(e,n))&&(y=Ds(y,"onBeforeInput"),0<y.length&&(S=new Od("onBeforeInput","beforeinput",null,n,S),w.push({event:S,listeners:y}),S.data=$))}Qp(w,t)})}function ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ds(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=eo(e,n),s!=null&&r.unshift(ao(e,s,i)),s=eo(e,t),s!=null&&r.push(ao(e,s,i))),e=e.return}return r}function Ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vd(e,t,n,r,i){for(var s=t._reactName,l=[];n!==null&&n!==r;){var d=n,p=d.alternate,y=d.stateNode;if(p!==null&&p===r)break;d.tag===5&&y!==null&&(d=y,i?(p=eo(n,s),p!=null&&l.unshift(ao(n,p,d))):i||(p=eo(n,s),p!=null&&l.push(ao(n,p,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Uv=/\r\n?/g,Kv=/\u0000|\uFFFD/g;function qd(e){return(typeof e=="string"?e:""+e).replace(Uv,`
`).replace(Kv,"")}function os(e,t,n){if(t=qd(t),qd(e)!==t&&n)throw Error(H(425))}function As(){}var eu=null,tu=null;function nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,Wv=typeof clearTimeout=="function"?clearTimeout:void 0,Hd=typeof Promise=="function"?Promise:void 0,$v=typeof queueMicrotask=="function"?queueMicrotask:typeof Hd<"u"?function(e){return Hd.resolve(null).then(e).catch(Vv)}:ru;function Vv(e){setTimeout(function(){throw e})}function wl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ro(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ro(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),en="__reactFiber$"+pi,lo="__reactProps$"+pi,mn="__reactContainer$"+pi,iu="__reactEvents$"+pi,qv="__reactListeners$"+pi,Hv="__reactHandles$"+pi;function dr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qd(e);e!==null;){if(n=e[en])return n;e=Qd(e)}return t}e=n,n=e.parentNode}return null}function So(e){return e=e[en]||e[mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function oa(e){return e[lo]||null}var ou=[],Kr=-1;function Gn(e){return{current:e}}function Te(e){0>Kr||(e.current=ou[Kr],ou[Kr]=null,Kr--)}function Pe(e,t){Kr++,ou[Kr]=e.current,e.current=t}var Hn={},dt=Gn(Hn),gt=Gn(!1),vr=Hn;function ri(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wt(e){return e=e.childContextTypes,e!=null}function Ls(){Te(gt),Te(dt)}function Gd(e,t,n){if(dt.current!==Hn)throw Error(H(168));Pe(dt,t),Pe(gt,n)}function Yp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(H(108,by(e)||"Unknown",i));return Me({},n,r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,vr=dt.current,Pe(dt,e),Pe(gt,gt.current),!0}function Yd(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Yp(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,Te(gt),Te(dt),Pe(dt,e)):Te(gt),Pe(gt,n)}var un=null,sa=!1,xl=!1;function Xp(e){un===null?un=[e]:un.push(e)}function Qv(e){sa=!0,Xp(e)}function Yn(){if(!xl&&un!==null){xl=!0;var e=0,t=je;try{var n=un;for(je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,sa=!1}catch(i){throw un!==null&&(un=un.slice(e+1)),kp($u,Yn),i}finally{je=t,xl=!1}}return null}var Wr=[],$r=0,zs=null,Bs=0,bt=[],Rt=0,gr=null,cn=1,dn="";function ur(e,t){Wr[$r++]=Bs,Wr[$r++]=zs,zs=e,Bs=t}function Jp(e,t,n){bt[Rt++]=cn,bt[Rt++]=dn,bt[Rt++]=gr,gr=e;var r=cn;e=dn;var i=32-Kt(r)-1;r&=~(1<<i),n+=1;var s=32-Kt(t)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,cn=1<<32-Kt(t)+i|n<<i|r,dn=s+e}else cn=1<<s|n<<i|r,dn=e}function Zu(e){e.return!==null&&(ur(e,1),Jp(e,1,0))}function ec(e){for(;e===zs;)zs=Wr[--$r],Wr[$r]=null,Bs=Wr[--$r],Wr[$r]=null;for(;e===gr;)gr=bt[--Rt],bt[Rt]=null,dn=bt[--Rt],bt[Rt]=null,cn=bt[--Rt],bt[Rt]=null}var Nt=null,_t=null,Re=!1,Ft=null;function Zp(e,t){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,_t=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Nt=e,_t=null,!0):!1;default:return!1}}function su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function au(e){if(Re){var t=_t;if(t){var n=t;if(!Xd(e,t)){if(su(e))throw Error(H(418));t=Fn(n.nextSibling);var r=Nt;t&&Xd(e,t)?Zp(r,n):(e.flags=e.flags&-4097|2,Re=!1,Nt=e)}}else{if(su(e))throw Error(H(418));e.flags=e.flags&-4097|2,Re=!1,Nt=e}}}function Jd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function ss(e){if(e!==Nt)return!1;if(!Re)return Jd(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nu(e.type,e.memoizedProps)),t&&(t=_t)){if(su(e))throw eh(),Error(H(418));for(;t;)Zp(e,t),t=Fn(t.nextSibling)}if(Jd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_t=Fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Nt?Fn(e.stateNode.nextSibling):null;return!0}function eh(){for(var e=_t;e;)e=Fn(e.nextSibling)}function ii(){_t=Nt=null,Re=!1}function tc(e){Ft===null?Ft=[e]:Ft.push(e)}var Gv=gn.ReactCurrentBatchConfig;function Li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var d=i.refs;l===null?delete d[s]:d[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function as(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zd(e){var t=e._init;return t(e._payload)}function th(e){function t(E,x){if(e){var k=E.deletions;k===null?(E.deletions=[x],E.flags|=16):k.push(x)}}function n(E,x){if(!e)return null;for(;x!==null;)t(E,x),x=x.sibling;return null}function r(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function i(E,x){return E=$n(E,x),E.index=0,E.sibling=null,E}function s(E,x,k){return E.index=k,e?(k=E.alternate,k!==null?(k=k.index,k<x?(E.flags|=2,x):k):(E.flags|=2,x)):(E.flags|=1048576,x)}function l(E){return e&&E.alternate===null&&(E.flags|=2),E}function d(E,x,k,U){return x===null||x.tag!==6?(x=Cl(k,E.mode,U),x.return=E,x):(x=i(x,k),x.return=E,x)}function p(E,x,k,U){var Q=k.type;return Q===Mr?S(E,x,k.props.children,U,k.key):x!==null&&(x.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Tn&&Zd(Q)===x.type)?(U=i(x,k.props),U.ref=Li(E,x,k),U.return=E,U):(U=Ns(k.type,k.key,k.props,null,E.mode,U),U.ref=Li(E,x,k),U.return=E,U)}function y(E,x,k,U){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=Pl(k,E.mode,U),x.return=E,x):(x=i(x,k.children||[]),x.return=E,x)}function S(E,x,k,U,Q){return x===null||x.tag!==7?(x=mr(k,E.mode,U,Q),x.return=E,x):(x=i(x,k),x.return=E,x)}function w(E,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Cl(""+x,E.mode,k),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yo:return k=Ns(x.type,x.key,x.props,null,E.mode,k),k.ref=Li(E,null,x),k.return=E,k;case Lr:return x=Pl(x,E.mode,k),x.return=E,x;case Tn:var U=x._init;return w(E,U(x._payload),k)}if(Fi(x)||bi(x))return x=mr(x,E.mode,k,null),x.return=E,x;as(E,x)}return null}function _(E,x,k,U){var Q=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return Q!==null?null:d(E,x,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Yo:return k.key===Q?p(E,x,k,U):null;case Lr:return k.key===Q?y(E,x,k,U):null;case Tn:return Q=k._init,_(E,x,Q(k._payload),U)}if(Fi(k)||bi(k))return Q!==null?null:S(E,x,k,U,null);as(E,k)}return null}function D(E,x,k,U,Q){if(typeof U=="string"&&U!==""||typeof U=="number")return E=E.get(k)||null,d(x,E,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Yo:return E=E.get(U.key===null?k:U.key)||null,p(x,E,U,Q);case Lr:return E=E.get(U.key===null?k:U.key)||null,y(x,E,U,Q);case Tn:var Z=U._init;return D(E,x,k,Z(U._payload),Q)}if(Fi(U)||bi(U))return E=E.get(k)||null,S(x,E,U,Q,null);as(x,U)}return null}function O(E,x,k,U){for(var Q=null,Z=null,$=x,ie=x=0,ye=null;$!==null&&ie<k.length;ie++){$.index>ie?(ye=$,$=null):ye=$.sibling;var re=_(E,$,k[ie],U);if(re===null){$===null&&($=ye);break}e&&$&&re.alternate===null&&t(E,$),x=s(re,x,ie),Z===null?Q=re:Z.sibling=re,Z=re,$=ye}if(ie===k.length)return n(E,$),Re&&ur(E,ie),Q;if($===null){for(;ie<k.length;ie++)$=w(E,k[ie],U),$!==null&&(x=s($,x,ie),Z===null?Q=$:Z.sibling=$,Z=$);return Re&&ur(E,ie),Q}for($=r(E,$);ie<k.length;ie++)ye=D($,E,ie,k[ie],U),ye!==null&&(e&&ye.alternate!==null&&$.delete(ye.key===null?ie:ye.key),x=s(ye,x,ie),Z===null?Q=ye:Z.sibling=ye,Z=ye);return e&&$.forEach(function(_e){return t(E,_e)}),Re&&ur(E,ie),Q}function K(E,x,k,U){var Q=bi(k);if(typeof Q!="function")throw Error(H(150));if(k=Q.call(k),k==null)throw Error(H(151));for(var Z=Q=null,$=x,ie=x=0,ye=null,re=k.next();$!==null&&!re.done;ie++,re=k.next()){$.index>ie?(ye=$,$=null):ye=$.sibling;var _e=_(E,$,re.value,U);if(_e===null){$===null&&($=ye);break}e&&$&&_e.alternate===null&&t(E,$),x=s(_e,x,ie),Z===null?Q=_e:Z.sibling=_e,Z=_e,$=ye}if(re.done)return n(E,$),Re&&ur(E,ie),Q;if($===null){for(;!re.done;ie++,re=k.next())re=w(E,re.value,U),re!==null&&(x=s(re,x,ie),Z===null?Q=re:Z.sibling=re,Z=re);return Re&&ur(E,ie),Q}for($=r(E,$);!re.done;ie++,re=k.next())re=D($,E,ie,re.value,U),re!==null&&(e&&re.alternate!==null&&$.delete(re.key===null?ie:re.key),x=s(re,x,ie),Z===null?Q=re:Z.sibling=re,Z=re);return e&&$.forEach(function(Ve){return t(E,Ve)}),Re&&ur(E,ie),Q}function L(E,x,k,U){if(typeof k=="object"&&k!==null&&k.type===Mr&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Yo:e:{for(var Q=k.key,Z=x;Z!==null;){if(Z.key===Q){if(Q=k.type,Q===Mr){if(Z.tag===7){n(E,Z.sibling),x=i(Z,k.props.children),x.return=E,E=x;break e}}else if(Z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===Tn&&Zd(Q)===Z.type){n(E,Z.sibling),x=i(Z,k.props),x.ref=Li(E,Z,k),x.return=E,E=x;break e}n(E,Z);break}else t(E,Z);Z=Z.sibling}k.type===Mr?(x=mr(k.props.children,E.mode,U,k.key),x.return=E,E=x):(U=Ns(k.type,k.key,k.props,null,E.mode,U),U.ref=Li(E,x,k),U.return=E,E=U)}return l(E);case Lr:e:{for(Z=k.key;x!==null;){if(x.key===Z)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(E,x.sibling),x=i(x,k.children||[]),x.return=E,E=x;break e}else{n(E,x);break}else t(E,x);x=x.sibling}x=Pl(k,E.mode,U),x.return=E,E=x}return l(E);case Tn:return Z=k._init,L(E,x,Z(k._payload),U)}if(Fi(k))return O(E,x,k,U);if(bi(k))return K(E,x,k,U);as(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(E,x.sibling),x=i(x,k),x.return=E,E=x):(n(E,x),x=Cl(k,E.mode,U),x.return=E,E=x),l(E)):n(E,x)}return L}var oi=th(!0),nh=th(!1),Fs=Gn(null),Us=null,Vr=null,nc=null;function rc(){nc=Vr=Us=null}function ic(e){var t=Fs.current;Te(Fs),e._currentValue=t}function lu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ei(e,t){Us=e,nc=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vt=!0),e.firstContext=null)}function At(e){var t=e._currentValue;if(nc!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(Us===null)throw Error(H(308));Vr=e,Us.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var fr=null;function oc(e){fr===null?fr=[e]:fr.push(e)}function rh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,oc(t)):(n.next=i.next,i.next=n),t.interleaved=n,yn(e,r)}function yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ih(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,yn(e,n)}return i=r.interleaved,i===null?(t.next=t,oc(r)):(t.next=i.next,i.next=t),r.interleaved=t,yn(e,n)}function ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vu(e,n)}}function ef(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ks(e,t,n,r){var i=e.updateQueue;bn=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var p=d,y=p.next;p.next=null,l===null?s=y:l.next=y,l=p;var S=e.alternate;S!==null&&(S=S.updateQueue,d=S.lastBaseUpdate,d!==l&&(d===null?S.firstBaseUpdate=y:d.next=y,S.lastBaseUpdate=p))}if(s!==null){var w=i.baseState;l=0,S=y=p=null,d=s;do{var _=d.lane,D=d.eventTime;if((r&_)===_){S!==null&&(S=S.next={eventTime:D,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var O=e,K=d;switch(_=t,D=n,K.tag){case 1:if(O=K.payload,typeof O=="function"){w=O.call(D,w,_);break e}w=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=K.payload,_=typeof O=="function"?O.call(D,w,_):O,_==null)break e;w=Me({},w,_);break e;case 2:bn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,_=i.effects,_===null?i.effects=[d]:_.push(d))}else D={eventTime:D,lane:_,tag:d.tag,payload:d.payload,callback:d.callback,next:null},S===null?(y=S=D,p=w):S=S.next=D,l|=_;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;_=d,d=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(S===null&&(p=w),i.baseState=p,i.firstBaseUpdate=y,i.lastBaseUpdate=S,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);xr|=l,e.lanes=l,e.memoizedState=w}}function tf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var ko={},nn=Gn(ko),uo=Gn(ko),co=Gn(ko);function pr(e){if(e===ko)throw Error(H(174));return e}function ac(e,t){switch(Pe(co,t),Pe(uo,e),Pe(nn,ko),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kl(t,e)}Te(nn),Pe(nn,t)}function si(){Te(nn),Te(uo),Te(co)}function oh(e){pr(co.current);var t=pr(nn.current),n=Kl(t,e.type);t!==n&&(Pe(uo,e),Pe(nn,n))}function lc(e){uo.current===e&&(Te(nn),Te(uo))}var De=Gn(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sl=[];function uc(){for(var e=0;e<Sl.length;e++)Sl[e]._workInProgressVersionPrimary=null;Sl.length=0}var xs=gn.ReactCurrentDispatcher,kl=gn.ReactCurrentBatchConfig,wr=0,Ae=null,He=null,Xe=null,$s=!1,Qi=!1,fo=0,Yv=0;function lt(){throw Error(H(321))}function cc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function dc(e,t,n,r,i,s){if(wr=s,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xs.current=e===null||e.memoizedState===null?eg:tg,e=n(r,i),Qi){s=0;do{if(Qi=!1,fo=0,25<=s)throw Error(H(301));s+=1,Xe=He=null,t.updateQueue=null,xs.current=ng,e=n(r,i)}while(Qi)}if(xs.current=Vs,t=He!==null&&He.next!==null,wr=0,Xe=He=Ae=null,$s=!1,t)throw Error(H(300));return e}function fc(){var e=fo!==0;return fo=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ae.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Lt(){if(He===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Xe===null?Ae.memoizedState:Xe.next;if(t!==null)Xe=t,He=e;else{if(e===null)throw Error(H(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Xe===null?Ae.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function po(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var d=l=null,p=null,y=s;do{var S=y.lane;if((wr&S)===S)p!==null&&(p=p.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:e(r,y.action);else{var w={lane:S,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};p===null?(d=p=w,l=r):p=p.next=w,Ae.lanes|=S,xr|=S}y=y.next}while(y!==null&&y!==s);p===null?l=r:p.next=d,$t(r,t.memoizedState)||(vt=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ae.lanes|=s,xr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _l(e){var t=Lt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);$t(s,t.memoizedState)||(vt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sh(){}function ah(e,t){var n=Ae,r=Lt(),i=t(),s=!$t(r.memoizedState,i);if(s&&(r.memoizedState=i,vt=!0),r=r.queue,pc(ch.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,ho(9,uh.bind(null,n,r,i,t),void 0,null),Je===null)throw Error(H(349));wr&30||lh(n,t,i)}return i}function lh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uh(e,t,n,r){t.value=n,t.getSnapshot=r,dh(t)&&fh(e)}function ch(e,t,n){return n(function(){dh(t)&&fh(e)})}function dh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function fh(e){var t=yn(e,1);t!==null&&Wt(t,e,1,-1)}function nf(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:e},t.queue=e,e=e.dispatch=Zv.bind(null,Ae,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ph(){return Lt().memoizedState}function Ss(e,t,n,r){var i=Xt();Ae.flags|=e,i.memoizedState=ho(1|t,n,void 0,r===void 0?null:r)}function aa(e,t,n,r){var i=Lt();r=r===void 0?null:r;var s=void 0;if(He!==null){var l=He.memoizedState;if(s=l.destroy,r!==null&&cc(r,l.deps)){i.memoizedState=ho(t,n,s,r);return}}Ae.flags|=e,i.memoizedState=ho(1|t,n,s,r)}function rf(e,t){return Ss(8390656,8,e,t)}function pc(e,t){return aa(2048,8,e,t)}function hh(e,t){return aa(4,2,e,t)}function mh(e,t){return aa(4,4,e,t)}function yh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vh(e,t,n){return n=n!=null?n.concat([e]):null,aa(4,4,yh.bind(null,t,e),n)}function hc(){}function gh(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function wh(e,t){var n=Lt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xh(e,t,n){return wr&21?($t(n,t)||(n=Np(),Ae.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vt=!0),e.memoizedState=n)}function Xv(e,t){var n=je;je=n!==0&&4>n?n:4,e(!0);var r=kl.transition;kl.transition={};try{e(!1),t()}finally{je=n,kl.transition=r}}function Sh(){return Lt().memoizedState}function Jv(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kh(e))Eh(t,n);else if(n=rh(e,t,n,r),n!==null){var i=pt();Wt(n,e,r,i),_h(n,t,r)}}function Zv(e,t,n){var r=Wn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kh(e))Eh(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,d=s(l,n);if(i.hasEagerState=!0,i.eagerState=d,$t(d,l)){var p=t.interleaved;p===null?(i.next=i,oc(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=rh(e,t,i,r),n!==null&&(i=pt(),Wt(n,e,r,i),_h(n,t,r))}}function kh(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Eh(e,t){Qi=$s=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _h(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vu(e,n)}}var Vs={readContext:At,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},eg={readContext:At,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:rf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ss(4194308,4,yh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var n=Xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jv.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:nf,useDebugValue:hc,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=nf(!1),t=e[0];return e=Xv.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=Xt();if(Re){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),Je===null)throw Error(H(349));wr&30||lh(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,rf(ch.bind(null,r,s,e),[e]),r.flags|=2048,ho(9,uh.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Xt(),t=Je.identifierPrefix;if(Re){var n=dn,r=cn;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=fo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Yv++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tg={readContext:At,useCallback:gh,useContext:At,useEffect:pc,useImperativeHandle:vh,useInsertionEffect:hh,useLayoutEffect:mh,useMemo:wh,useReducer:El,useRef:ph,useState:function(){return El(po)},useDebugValue:hc,useDeferredValue:function(e){var t=Lt();return xh(t,He.memoizedState,e)},useTransition:function(){var e=El(po)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:sh,useSyncExternalStore:ah,useId:Sh,unstable_isNewReconciler:!1},ng={readContext:At,useCallback:gh,useContext:At,useEffect:pc,useImperativeHandle:vh,useInsertionEffect:hh,useLayoutEffect:mh,useMemo:wh,useReducer:_l,useRef:ph,useState:function(){return _l(po)},useDebugValue:hc,useDeferredValue:function(e){var t=Lt();return He===null?t.memoizedState=e:xh(t,He.memoizedState,e)},useTransition:function(){var e=_l(po)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:sh,useSyncExternalStore:ah,useId:Sh,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function uu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var la={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pt(),i=Wn(e),s=fn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Un(e,s,i),t!==null&&(Wt(t,e,i,r),ws(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pt(),i=Wn(e),s=fn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Un(e,s,i),t!==null&&(Wt(t,e,i,r),ws(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pt(),r=Wn(e),i=fn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Un(e,i,r),t!==null&&(Wt(t,e,r,n),ws(t,e,r))}};function of(e,t,n,r,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!oo(n,r)||!oo(i,s):!0}function Nh(e,t,n){var r=!1,i=Hn,s=t.contextType;return typeof s=="object"&&s!==null?s=At(s):(i=wt(t)?vr:dt.current,r=t.contextTypes,s=(r=r!=null)?ri(e,i):Hn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=la,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function sf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function cu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},sc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=At(s):(s=wt(t)?vr:dt.current,i.context=ri(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(uu(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&la.enqueueReplaceState(i,i.state,null),Ks(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ai(e,t){try{var n="",r=t;do n+=Ty(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rg=typeof WeakMap=="function"?WeakMap:Map;function jh(e,t,n){n=fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Su=r),du(e,t)},n}function Ch(e,t,n){n=fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){du(e,t),typeof r!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function af(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rg;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vg.bind(null,e,t,n),t.then(e,e))}function lf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uf(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var ig=gn.ReactCurrentOwner,vt=!1;function ft(e,t,n,r){t.child=e===null?nh(t,null,n,r):oi(t,e.child,n,r)}function cf(e,t,n,r,i){n=n.render;var s=t.ref;return ei(t,i),r=dc(e,t,n,r,s,i),n=fc(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(Re&&n&&Zu(t),t.flags|=1,ft(e,t,r,i),t.child)}function df(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!kc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Ph(e,t,s,r,i)):(e=Ns(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:oo,n(l,r)&&e.ref===t.ref)return vn(e,t,i)}return t.flags|=1,e=$n(s,r),e.ref=t.ref,e.return=t,t.child=e}function Ph(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(oo(s,r)&&e.ref===t.ref)if(vt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(vt=!0);else return t.lanes=e.lanes,vn(e,t,i)}return fu(e,t,n,r,i)}function Ih(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Hr,Et),Et|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Hr,Et),Et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Hr,Et),Et|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Pe(Hr,Et),Et|=r;return ft(e,t,i,n),t.child}function Th(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function fu(e,t,n,r,i){var s=wt(n)?vr:dt.current;return s=ri(t,s),ei(t,i),n=dc(e,t,n,r,s,i),r=fc(),e!==null&&!vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,vn(e,t,i)):(Re&&r&&Zu(t),t.flags|=1,ft(e,t,n,i),t.child)}function ff(e,t,n,r,i){if(wt(n)){var s=!0;Ms(t)}else s=!1;if(ei(t,i),t.stateNode===null)ks(e,t),Nh(t,n,r),cu(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var p=l.context,y=n.contextType;typeof y=="object"&&y!==null?y=At(y):(y=wt(n)?vr:dt.current,y=ri(t,y));var S=n.getDerivedStateFromProps,w=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==r||p!==y)&&sf(t,l,r,y),bn=!1;var _=t.memoizedState;l.state=_,Ks(t,r,l,i),p=t.memoizedState,d!==r||_!==p||gt.current||bn?(typeof S=="function"&&(uu(t,n,S,r),p=t.memoizedState),(d=bn||of(t,n,d,r,_,p,y))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=y,r=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,ih(e,t),d=t.memoizedProps,y=t.type===t.elementType?d:zt(t.type,d),l.props=y,w=t.pendingProps,_=l.context,p=n.contextType,typeof p=="object"&&p!==null?p=At(p):(p=wt(n)?vr:dt.current,p=ri(t,p));var D=n.getDerivedStateFromProps;(S=typeof D=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==w||_!==p)&&sf(t,l,r,p),bn=!1,_=t.memoizedState,l.state=_,Ks(t,r,l,i);var O=t.memoizedState;d!==w||_!==O||gt.current||bn?(typeof D=="function"&&(uu(t,n,D,r),O=t.memoizedState),(y=bn||of(t,n,y,r,_,O,p)||!1)?(S||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,O,p),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,O,p)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=O),l.props=r,l.state=O,l.context=p,r=y):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),r=!1)}return pu(e,t,n,r,s,i)}function pu(e,t,n,r,i,s){Th(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&Yd(t,n,!1),vn(e,t,s);r=t.stateNode,ig.current=t;var d=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=oi(t,e.child,null,s),t.child=oi(t,null,d,s)):ft(e,t,d,s),t.memoizedState=r.state,i&&Yd(t,n,!0),t.child}function bh(e){var t=e.stateNode;t.pendingContext?Gd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gd(e,t.context,!1),ac(e,t.containerInfo)}function pf(e,t,n,r,i){return ii(),tc(i),t.flags|=256,ft(e,t,n,r),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rh(e,t,n){var r=t.pendingProps,i=De.current,s=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(i&2)!==0),d?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pe(De,i&1),e===null)return au(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=da(l,r,0,null),e=mr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=mu(n),t.memoizedState=hu,e):mc(t,l));if(i=e.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return og(e,t,l,r,d,i,n);if(s){s=r.fallback,l=t.mode,i=e.child,d=i.sibling;var p={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=$n(i,p),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?s=$n(d,s):(s=mr(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?mu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=hu,r}return s=e.child,e=s.sibling,r=$n(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mc(e,t){return t=da({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ls(e,t,n,r){return r!==null&&tc(r),oi(t,e.child,null,n),e=mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function og(e,t,n,r,i,s,l){if(n)return t.flags&256?(t.flags&=-257,r=Nl(Error(H(422))),ls(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=da({mode:"visible",children:r.children},i,0,null),s=mr(s,i,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&oi(t,e.child,null,l),t.child.memoizedState=mu(l),t.memoizedState=hu,s);if(!(t.mode&1))return ls(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,s=Error(H(419)),r=Nl(s,r,void 0),ls(e,t,l,r)}if(d=(l&e.childLanes)!==0,vt||d){if(r=Je,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yn(e,i),Wt(r,e,i,-1))}return Sc(),r=Nl(Error(H(421))),ls(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=gg.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,_t=Fn(i.nextSibling),Nt=t,Re=!0,Ft=null,e!==null&&(bt[Rt++]=cn,bt[Rt++]=dn,bt[Rt++]=gr,cn=e.id,dn=e.overflow,gr=t),t=mc(t,r.children),t.flags|=4096,t)}function hf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lu(e.return,t,n)}function jl(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Oh(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ft(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hf(e,n,t);else if(e.tag===19)hf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pe(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jl(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ws(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jl(t,!0,n,null,s);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=$n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=$n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sg(e,t,n){switch(t.tag){case 3:bh(t),ii();break;case 5:oh(t);break;case 1:wt(t.type)&&Ms(t);break;case 4:ac(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pe(Fs,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Pe(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?Rh(e,t,n):(Pe(De,De.current&1),e=vn(e,t,n),e!==null?e.sibling:null);Pe(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Oh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,Ih(e,t,n)}return vn(e,t,n)}var Dh,yu,Ah,Lh;Dh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yu=function(){};Ah=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,pr(nn.current);var s=null;switch(n){case"input":i=zl(e,i),r=zl(e,r),s=[];break;case"select":i=Me({},i,{value:void 0}),r=Me({},r,{value:void 0}),s=[];break;case"textarea":i=Ul(e,i),r=Ul(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=As)}Wl(n,r);var l;n=null;for(y in i)if(!r.hasOwnProperty(y)&&i.hasOwnProperty(y)&&i[y]!=null)if(y==="style"){var d=i[y];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(Ji.hasOwnProperty(y)?s||(s=[]):(s=s||[]).push(y,null));for(y in r){var p=r[y];if(d=i!=null?i[y]:void 0,r.hasOwnProperty(y)&&p!==d&&(p!=null||d!=null))if(y==="style")if(d){for(l in d)!d.hasOwnProperty(l)||p&&p.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in p)p.hasOwnProperty(l)&&d[l]!==p[l]&&(n||(n={}),n[l]=p[l])}else n||(s||(s=[]),s.push(y,n)),n=p;else y==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,d=d?d.__html:void 0,p!=null&&d!==p&&(s=s||[]).push(y,p)):y==="children"?typeof p!="string"&&typeof p!="number"||(s=s||[]).push(y,""+p):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(Ji.hasOwnProperty(y)?(p!=null&&y==="onScroll"&&Ie("scroll",e),s||d===p||(s=[])):(s=s||[]).push(y,p))}n&&(s=s||[]).push("style",n);var y=s;(t.updateQueue=y)&&(t.flags|=4)}};Lh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mi(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ut(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ag(e,t,n){var r=t.pendingProps;switch(ec(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(t),null;case 1:return wt(t.type)&&Ls(),ut(t),null;case 3:return r=t.stateNode,si(),Te(gt),Te(dt),uc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ss(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(_u(Ft),Ft=null))),yu(e,t),ut(t),null;case 5:lc(t);var i=pr(co.current);if(n=t.type,e!==null&&t.stateNode!=null)Ah(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return ut(t),null}if(e=pr(nn.current),ss(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[en]=t,r[lo]=s,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Ki.length;i++)Ie(Ki[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":kd(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":_d(r,s),Ie("invalid",r)}Wl(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var d=s[l];l==="children"?typeof d=="string"?r.textContent!==d&&(s.suppressHydrationWarning!==!0&&os(r.textContent,d,e),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(s.suppressHydrationWarning!==!0&&os(r.textContent,d,e),i=["children",""+d]):Ji.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Xo(r),Ed(r,s,!0);break;case"textarea":Xo(r),Nd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=As)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[en]=t,e[lo]=r,Dh(e,t,!1,!1),t.stateNode=e;e:{switch(l=$l(n,r),n){case"dialog":Ie("cancel",e),Ie("close",e),i=r;break;case"iframe":case"object":case"embed":Ie("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ki.length;i++)Ie(Ki[i],e);i=r;break;case"source":Ie("error",e),i=r;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),i=r;break;case"details":Ie("toggle",e),i=r;break;case"input":kd(e,r),i=zl(e,r),Ie("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Me({},r,{value:void 0}),Ie("invalid",e);break;case"textarea":_d(e,r),i=Ul(e,r),Ie("invalid",e);break;default:i=r}Wl(n,i),d=i;for(s in d)if(d.hasOwnProperty(s)){var p=d[s];s==="style"?pp(e,p):s==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&dp(e,p)):s==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Zi(e,p):typeof p=="number"&&Zi(e,""+p):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ji.hasOwnProperty(s)?p!=null&&s==="onScroll"&&Ie("scroll",e):p!=null&&Bu(e,s,p,l))}switch(n){case"input":Xo(e),Ed(e,r,!1);break;case"textarea":Xo(e),Nd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Yr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=As)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ut(t),null;case 6:if(e&&t.stateNode!=null)Lh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=pr(co.current),pr(nn.current),ss(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(s=r.nodeValue!==n)&&(e=Nt,e!==null))switch(e.tag){case 3:os(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&os(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return ut(t),null;case 13:if(Te(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&_t!==null&&t.mode&1&&!(t.flags&128))eh(),ii(),t.flags|=98560,s=!1;else if(s=ss(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[en]=t}else ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ut(t),s=!1}else Ft!==null&&(_u(Ft),Ft=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?Qe===0&&(Qe=3):Sc())),t.updateQueue!==null&&(t.flags|=4),ut(t),null);case 4:return si(),yu(e,t),e===null&&so(t.stateNode.containerInfo),ut(t),null;case 10:return ic(t.type._context),ut(t),null;case 17:return wt(t.type)&&Ls(),ut(t),null;case 19:if(Te(De),s=t.memoizedState,s===null)return ut(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Mi(s,!1);else{if(Qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ws(e),l!==null){for(t.flags|=128,Mi(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pe(De,De.current&1|2),t.child}e=e.sibling}s.tail!==null&&We()>li&&(t.flags|=128,r=!0,Mi(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ws(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!Re)return ut(t),null}else 2*We()-s.renderingStartTime>li&&n!==1073741824&&(t.flags|=128,r=!0,Mi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=We(),t.sibling=null,n=De.current,Pe(De,r?n&1|2:n&1),t):(ut(t),null);case 22:case 23:return xc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Et&1073741824&&(ut(t),t.subtreeFlags&6&&(t.flags|=8192)):ut(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function lg(e,t){switch(ec(t),t.tag){case 1:return wt(t.type)&&Ls(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return si(),Te(gt),Te(dt),uc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lc(t),null;case 13:if(Te(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(De),null;case 4:return si(),null;case 10:return ic(t.type._context),null;case 22:case 23:return xc(),null;case 24:return null;default:return null}}var us=!1,ct=!1,ug=typeof WeakSet=="function"?WeakSet:Set,ae=null;function qr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function vu(e,t,n){try{n()}catch(r){Be(e,t,r)}}var mf=!1;function cg(e,t){if(eu=Rs,e=Up(),Ju(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,d=-1,p=-1,y=0,S=0,w=e,_=null;t:for(;;){for(var D;w!==n||i!==0&&w.nodeType!==3||(d=l+i),w!==s||r!==0&&w.nodeType!==3||(p=l+r),w.nodeType===3&&(l+=w.nodeValue.length),(D=w.firstChild)!==null;)_=w,w=D;for(;;){if(w===e)break t;if(_===n&&++y===i&&(d=l),_===s&&++S===r&&(p=l),(D=w.nextSibling)!==null)break;w=_,_=w.parentNode}w=D}n=d===-1||p===-1?null:{start:d,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(tu={focusedElem:e,selectionRange:n},Rs=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var K=O.memoizedProps,L=O.memoizedState,E=t.stateNode,x=E.getSnapshotBeforeUpdate(t.elementType===t.type?K:zt(t.type,K),L);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(U){Be(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return O=mf,mf=!1,O}function Gi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&vu(t,n,s)}i=i.next}while(i!==r)}}function ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function gu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Mh(e){var t=e.alternate;t!==null&&(e.alternate=null,Mh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[lo],delete t[iu],delete t[qv],delete t[Hv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zh(e){return e.tag===5||e.tag===3||e.tag===4}function yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=As));else if(r!==4&&(e=e.child,e!==null))for(wu(e,t,n),e=e.sibling;e!==null;)wu(e,t,n),e=e.sibling}function xu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xu(e,t,n),e=e.sibling;e!==null;)xu(e,t,n),e=e.sibling}var tt=null,Bt=!1;function Pn(e,t,n){for(n=n.child;n!==null;)Bh(e,t,n),n=n.sibling}function Bh(e,t,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ta,n)}catch{}switch(n.tag){case 5:ct||qr(n,t);case 6:var r=tt,i=Bt;tt=null,Pn(e,t,n),tt=r,Bt=i,tt!==null&&(Bt?(e=tt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Bt?(e=tt,n=n.stateNode,e.nodeType===8?wl(e.parentNode,n):e.nodeType===1&&wl(e,n),ro(e)):wl(tt,n.stateNode));break;case 4:r=tt,i=Bt,tt=n.stateNode.containerInfo,Bt=!0,Pn(e,t,n),tt=r,Bt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&vu(n,t,l),i=i.next}while(i!==r)}Pn(e,t,n);break;case 1:if(!ct&&(qr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){Be(n,t,d)}Pn(e,t,n);break;case 21:Pn(e,t,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,Pn(e,t,n),ct=r):Pn(e,t,n);break;default:Pn(e,t,n)}}function vf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ug),t.forEach(function(r){var i=wg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:tt=d.stateNode,Bt=!1;break e;case 3:tt=d.stateNode.containerInfo,Bt=!0;break e;case 4:tt=d.stateNode.containerInfo,Bt=!0;break e}d=d.return}if(tt===null)throw Error(H(160));Bh(s,l,i),tt=null,Bt=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(y){Be(i,t,y)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fh(t,e),t=t.sibling}function Fh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(t,e),Yt(e),r&4){try{Gi(3,e,e.return),ua(3,e)}catch(K){Be(e,e.return,K)}try{Gi(5,e,e.return)}catch(K){Be(e,e.return,K)}}break;case 1:Mt(t,e),Yt(e),r&512&&n!==null&&qr(n,n.return);break;case 5:if(Mt(t,e),Yt(e),r&512&&n!==null&&qr(n,n.return),e.flags&32){var i=e.stateNode;try{Zi(i,"")}catch(K){Be(e,e.return,K)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,d=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{d==="input"&&s.type==="radio"&&s.name!=null&&lp(i,s),$l(d,l);var y=$l(d,s);for(l=0;l<p.length;l+=2){var S=p[l],w=p[l+1];S==="style"?pp(i,w):S==="dangerouslySetInnerHTML"?dp(i,w):S==="children"?Zi(i,w):Bu(i,S,w,y)}switch(d){case"input":Bl(i,s);break;case"textarea":up(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var D=s.value;D!=null?Yr(i,!!s.multiple,D,!1):_!==!!s.multiple&&(s.defaultValue!=null?Yr(i,!!s.multiple,s.defaultValue,!0):Yr(i,!!s.multiple,s.multiple?[]:"",!1))}i[lo]=s}catch(K){Be(e,e.return,K)}}break;case 6:if(Mt(t,e),Yt(e),r&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(K){Be(e,e.return,K)}}break;case 3:if(Mt(t,e),Yt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(K){Be(e,e.return,K)}break;case 4:Mt(t,e),Yt(e);break;case 13:Mt(t,e),Yt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gc=We())),r&4&&vf(e);break;case 22:if(S=n!==null&&n.memoizedState!==null,e.mode&1?(ct=(y=ct)||S,Mt(t,e),ct=y):Mt(t,e),Yt(e),r&8192){if(y=e.memoizedState!==null,(e.stateNode.isHidden=y)&&!S&&e.mode&1)for(ae=e,S=e.child;S!==null;){for(w=ae=S;ae!==null;){switch(_=ae,D=_.child,_.tag){case 0:case 11:case 14:case 15:Gi(4,_,_.return);break;case 1:qr(_,_.return);var O=_.stateNode;if(typeof O.componentWillUnmount=="function"){r=_,n=_.return;try{t=r,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(K){Be(r,n,K)}}break;case 5:qr(_,_.return);break;case 22:if(_.memoizedState!==null){wf(w);continue}}D!==null?(D.return=_,ae=D):wf(w)}S=S.sibling}e:for(S=null,w=e;;){if(w.tag===5){if(S===null){S=w;try{i=w.stateNode,y?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(d=w.stateNode,p=w.memoizedProps.style,l=p!=null&&p.hasOwnProperty("display")?p.display:null,d.style.display=fp("display",l))}catch(K){Be(e,e.return,K)}}}else if(w.tag===6){if(S===null)try{w.stateNode.nodeValue=y?"":w.memoizedProps}catch(K){Be(e,e.return,K)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;S===w&&(S=null),w=w.return}S===w&&(S=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:Mt(t,e),Yt(e),r&4&&vf(e);break;case 21:break;default:Mt(t,e),Yt(e)}}function Yt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zh(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zi(i,""),r.flags&=-33);var s=yf(e);xu(e,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,d=yf(e);wu(e,d,l);break;default:throw Error(H(161))}}catch(p){Be(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dg(e,t,n){ae=e,Uh(e)}function Uh(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||us;if(!l){var d=i.alternate,p=d!==null&&d.memoizedState!==null||ct;d=us;var y=ct;if(us=l,(ct=p)&&!y)for(ae=i;ae!==null;)l=ae,p=l.child,l.tag===22&&l.memoizedState!==null?xf(i):p!==null?(p.return=l,ae=p):xf(i);for(;s!==null;)ae=s,Uh(s),s=s.sibling;ae=i,us=d,ct=y}gf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):gf(e)}}function gf(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ct||ua(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:zt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&tf(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}tf(t,l,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var y=t.alternate;if(y!==null){var S=y.memoizedState;if(S!==null){var w=S.dehydrated;w!==null&&ro(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}ct||t.flags&512&&gu(t)}catch(_){Be(t,t.return,_)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function wf(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function xf(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ua(4,t)}catch(p){Be(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){Be(t,i,p)}}var s=t.return;try{gu(t)}catch(p){Be(t,s,p)}break;case 5:var l=t.return;try{gu(t)}catch(p){Be(t,l,p)}}}catch(p){Be(t,t.return,p)}if(t===e){ae=null;break}var d=t.sibling;if(d!==null){d.return=t.return,ae=d;break}ae=t.return}}var fg=Math.ceil,qs=gn.ReactCurrentDispatcher,yc=gn.ReactCurrentOwner,Dt=gn.ReactCurrentBatchConfig,we=0,Je=null,$e=null,it=0,Et=0,Hr=Gn(0),Qe=0,mo=null,xr=0,ca=0,vc=0,Yi=null,yt=null,gc=0,li=1/0,ln=null,Hs=!1,Su=null,Kn=null,cs=!1,An=null,Qs=0,Xi=0,ku=null,Es=-1,_s=0;function pt(){return we&6?We():Es!==-1?Es:Es=We()}function Wn(e){return e.mode&1?we&2&&it!==0?it&-it:Gv.transition!==null?(_s===0&&(_s=Np()),_s):(e=je,e!==0||(e=window.event,e=e===void 0?16:Rp(e.type)),e):1}function Wt(e,t,n,r){if(50<Xi)throw Xi=0,ku=null,Error(H(185));wo(e,n,r),(!(we&2)||e!==Je)&&(e===Je&&(!(we&2)&&(ca|=n),Qe===4&&On(e,it)),xt(e,r),n===1&&we===0&&!(t.mode&1)&&(li=We()+500,sa&&Yn()))}function xt(e,t){var n=e.callbackNode;Gy(e,t);var r=bs(e,e===Je?it:0);if(r===0)n!==null&&Pd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pd(n),t===1)e.tag===0?Qv(Sf.bind(null,e)):Xp(Sf.bind(null,e)),$v(function(){!(we&6)&&Yn()}),n=null;else{switch(jp(r)){case 1:n=$u;break;case 4:n=Ep;break;case 16:n=Ts;break;case 536870912:n=_p;break;default:n=Ts}n=Gh(n,Kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kh(e,t){if(Es=-1,_s=0,we&6)throw Error(H(327));var n=e.callbackNode;if(ti()&&e.callbackNode!==n)return null;var r=bs(e,e===Je?it:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gs(e,r);else{t=r;var i=we;we|=2;var s=$h();(Je!==e||it!==t)&&(ln=null,li=We()+500,hr(e,t));do try{mg();break}catch(d){Wh(e,d)}while(!0);rc(),qs.current=s,we=i,$e!==null?t=0:(Je=null,it=0,t=Qe)}if(t!==0){if(t===2&&(i=Gl(e),i!==0&&(r=i,t=Eu(e,i))),t===1)throw n=mo,hr(e,0),On(e,r),xt(e,We()),n;if(t===6)On(e,r);else{if(i=e.current.alternate,!(r&30)&&!pg(i)&&(t=Gs(e,r),t===2&&(s=Gl(e),s!==0&&(r=s,t=Eu(e,s))),t===1))throw n=mo,hr(e,0),On(e,r),xt(e,We()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:cr(e,yt,ln);break;case 3:if(On(e,r),(r&130023424)===r&&(t=gc+500-We(),10<t)){if(bs(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){pt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ru(cr.bind(null,e,yt,ln),t);break}cr(e,yt,ln);break;case 4:if(On(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-Kt(r);s=1<<l,l=t[l],l>i&&(i=l),r&=~s}if(r=i,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fg(r/1960))-r,10<r){e.timeoutHandle=ru(cr.bind(null,e,yt,ln),r);break}cr(e,yt,ln);break;case 5:cr(e,yt,ln);break;default:throw Error(H(329))}}}return xt(e,We()),e.callbackNode===n?Kh.bind(null,e):null}function Eu(e,t){var n=Yi;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=Gs(e,t),e!==2&&(t=yt,yt=n,t!==null&&_u(t)),e}function _u(e){yt===null?yt=e:yt.push.apply(yt,e)}function pg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$t(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function On(e,t){for(t&=~vc,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function Sf(e){if(we&6)throw Error(H(327));ti();var t=bs(e,0);if(!(t&1))return xt(e,We()),null;var n=Gs(e,t);if(e.tag!==0&&n===2){var r=Gl(e);r!==0&&(t=r,n=Eu(e,r))}if(n===1)throw n=mo,hr(e,0),On(e,t),xt(e,We()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cr(e,yt,ln),xt(e,We()),null}function wc(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(li=We()+500,sa&&Yn())}}function Sr(e){An!==null&&An.tag===0&&!(we&6)&&ti();var t=we;we|=1;var n=Dt.transition,r=je;try{if(Dt.transition=null,je=1,e)return e()}finally{je=r,Dt.transition=n,we=t,!(we&6)&&Yn()}}function xc(){Et=Hr.current,Te(Hr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wv(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(ec(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ls();break;case 3:si(),Te(gt),Te(dt),uc();break;case 5:lc(r);break;case 4:si();break;case 13:Te(De);break;case 19:Te(De);break;case 10:ic(r.type._context);break;case 22:case 23:xc()}n=n.return}if(Je=e,$e=e=$n(e.current,null),it=Et=t,Qe=0,mo=null,vc=ca=xr=0,yt=Yi=null,fr!==null){for(t=0;t<fr.length;t++)if(n=fr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}fr=null}return e}function Wh(e,t){do{var n=$e;try{if(rc(),xs.current=Vs,$s){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$s=!1}if(wr=0,Xe=He=Ae=null,Qi=!1,fo=0,yc.current=null,n===null||n.return===null){Qe=1,mo=t,$e=null;break}e:{var s=e,l=n.return,d=n,p=t;if(t=it,d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var y=p,S=d,w=S.tag;if(!(S.mode&1)&&(w===0||w===11||w===15)){var _=S.alternate;_?(S.updateQueue=_.updateQueue,S.memoizedState=_.memoizedState,S.lanes=_.lanes):(S.updateQueue=null,S.memoizedState=null)}var D=lf(l);if(D!==null){D.flags&=-257,uf(D,l,d,s,t),D.mode&1&&af(s,y,t),t=D,p=y;var O=t.updateQueue;if(O===null){var K=new Set;K.add(p),t.updateQueue=K}else O.add(p);break e}else{if(!(t&1)){af(s,y,t),Sc();break e}p=Error(H(426))}}else if(Re&&d.mode&1){var L=lf(l);if(L!==null){!(L.flags&65536)&&(L.flags|=256),uf(L,l,d,s,t),tc(ai(p,d));break e}}s=p=ai(p,d),Qe!==4&&(Qe=2),Yi===null?Yi=[s]:Yi.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=jh(s,p,t);ef(s,E);break e;case 1:d=p;var x=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Kn===null||!Kn.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var U=Ch(s,d,t);ef(s,U);break e}}s=s.return}while(s!==null)}qh(n)}catch(Q){t=Q,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function $h(){var e=qs.current;return qs.current=Vs,e===null?Vs:e}function Sc(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),Je===null||!(xr&268435455)&&!(ca&268435455)||On(Je,it)}function Gs(e,t){var n=we;we|=2;var r=$h();(Je!==e||it!==t)&&(ln=null,hr(e,t));do try{hg();break}catch(i){Wh(e,i)}while(!0);if(rc(),we=n,qs.current=r,$e!==null)throw Error(H(261));return Je=null,it=0,Qe}function hg(){for(;$e!==null;)Vh($e)}function mg(){for(;$e!==null&&!Fy();)Vh($e)}function Vh(e){var t=Qh(e.alternate,e,Et);e.memoizedProps=e.pendingProps,t===null?qh(e):$e=t,yc.current=null}function qh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lg(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qe=6,$e=null;return}}else if(n=ag(n,t,Et),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Qe===0&&(Qe=5)}function cr(e,t,n){var r=je,i=Dt.transition;try{Dt.transition=null,je=1,yg(e,t,n,r)}finally{Dt.transition=i,je=r}return null}function yg(e,t,n,r){do ti();while(An!==null);if(we&6)throw Error(H(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Yy(e,s),e===Je&&($e=Je=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cs||(cs=!0,Gh(Ts,function(){return ti(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dt.transition,Dt.transition=null;var l=je;je=1;var d=we;we|=4,yc.current=null,cg(e,n),Fh(n,e),Lv(tu),Rs=!!eu,tu=eu=null,e.current=n,dg(n),Uy(),we=d,je=l,Dt.transition=s}else e.current=n;if(cs&&(cs=!1,An=e,Qs=i),s=e.pendingLanes,s===0&&(Kn=null),$y(n.stateNode),xt(e,We()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Su,Su=null,e;return Qs&1&&e.tag!==0&&ti(),s=e.pendingLanes,s&1?e===ku?Xi++:(Xi=0,ku=e):Xi=0,Yn(),null}function ti(){if(An!==null){var e=jp(Qs),t=Dt.transition,n=je;try{if(Dt.transition=null,je=16>e?16:e,An===null)var r=!1;else{if(e=An,An=null,Qs=0,we&6)throw Error(H(331));var i=we;for(we|=4,ae=e.current;ae!==null;){var s=ae,l=s.child;if(ae.flags&16){var d=s.deletions;if(d!==null){for(var p=0;p<d.length;p++){var y=d[p];for(ae=y;ae!==null;){var S=ae;switch(S.tag){case 0:case 11:case 15:Gi(8,S,s)}var w=S.child;if(w!==null)w.return=S,ae=w;else for(;ae!==null;){S=ae;var _=S.sibling,D=S.return;if(Mh(S),S===y){ae=null;break}if(_!==null){_.return=D,ae=_;break}ae=D}}}var O=s.alternate;if(O!==null){var K=O.child;if(K!==null){O.child=null;do{var L=K.sibling;K.sibling=null,K=L}while(K!==null)}}ae=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,ae=l;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gi(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ae=E;break e}ae=s.return}}var x=e.current;for(ae=x;ae!==null;){l=ae;var k=l.child;if(l.subtreeFlags&2064&&k!==null)k.return=l,ae=k;else e:for(l=x;ae!==null;){if(d=ae,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:ua(9,d)}}catch(Q){Be(d,d.return,Q)}if(d===l){ae=null;break e}var U=d.sibling;if(U!==null){U.return=d.return,ae=U;break e}ae=d.return}}if(we=i,Yn(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ta,e)}catch{}r=!0}return r}finally{je=n,Dt.transition=t}}return!1}function kf(e,t,n){t=ai(n,t),t=jh(e,t,1),e=Un(e,t,1),t=pt(),e!==null&&(wo(e,1,t),xt(e,t))}function Be(e,t,n){if(e.tag===3)kf(e,e,n);else for(;t!==null;){if(t.tag===3){kf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kn===null||!Kn.has(r))){e=ai(n,e),e=Ch(t,e,1),t=Un(t,e,1),e=pt(),t!==null&&(wo(t,1,e),xt(t,e));break}}t=t.return}}function vg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&n,Je===e&&(it&n)===n&&(Qe===4||Qe===3&&(it&130023424)===it&&500>We()-gc?hr(e,0):vc|=n),xt(e,t)}function Hh(e,t){t===0&&(e.mode&1?(t=es,es<<=1,!(es&130023424)&&(es=4194304)):t=1);var n=pt();e=yn(e,t),e!==null&&(wo(e,t,n),xt(e,n))}function gg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hh(e,n)}function wg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),Hh(e,n)}var Qh;Qh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)vt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vt=!1,sg(e,t,n);vt=!!(e.flags&131072)}else vt=!1,Re&&t.flags&1048576&&Jp(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ks(e,t),e=t.pendingProps;var i=ri(t,dt.current);ei(t,n),i=dc(null,t,r,e,i,n);var s=fc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wt(r)?(s=!0,Ms(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sc(t),i.updater=la,t.stateNode=i,i._reactInternals=t,cu(t,r,e,n),t=pu(null,t,r,!0,s,n)):(t.tag=0,Re&&s&&Zu(t),ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Sg(r),e=zt(r,e),i){case 0:t=fu(null,t,r,e,n);break e;case 1:t=ff(null,t,r,e,n);break e;case 11:t=cf(null,t,r,e,n);break e;case 14:t=df(null,t,r,zt(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),fu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),ff(e,t,r,i,n);case 3:e:{if(bh(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,i=s.element,ih(e,t),Ks(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ai(Error(H(423)),t),t=pf(e,t,r,n,i);break e}else if(r!==i){i=ai(Error(H(424)),t),t=pf(e,t,r,n,i);break e}else for(_t=Fn(t.stateNode.containerInfo.firstChild),Nt=t,Re=!0,Ft=null,n=nh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),r===i){t=vn(e,t,n);break e}ft(e,t,r,n)}t=t.child}return t;case 5:return oh(t),e===null&&au(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,nu(r,i)?l=null:s!==null&&nu(r,s)&&(t.flags|=32),Th(e,t),ft(e,t,l,n),t.child;case 6:return e===null&&au(t),null;case 13:return Rh(e,t,n);case 4:return ac(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=oi(t,null,r,n):ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),cf(e,t,r,i,n);case 7:return ft(e,t,t.pendingProps,n),t.child;case 8:return ft(e,t,t.pendingProps.children,n),t.child;case 12:return ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,Pe(Fs,r._currentValue),r._currentValue=l,s!==null)if($t(s.value,l)){if(s.children===i.children&&!gt.current){t=vn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var d=s.dependencies;if(d!==null){l=s.child;for(var p=d.firstContext;p!==null;){if(p.context===r){if(s.tag===1){p=fn(-1,n&-n),p.tag=2;var y=s.updateQueue;if(y!==null){y=y.shared;var S=y.pending;S===null?p.next=p:(p.next=S.next,S.next=p),y.pending=p}}s.lanes|=n,p=s.alternate,p!==null&&(p.lanes|=n),lu(s.return,n,t),d.lanes|=n;break}p=p.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(H(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),lu(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ei(t,n),i=At(i),r=r(i),t.flags|=1,ft(e,t,r,n),t.child;case 14:return r=t.type,i=zt(r,t.pendingProps),i=zt(r.type,i),df(e,t,r,i,n);case 15:return Ph(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:zt(r,i),ks(e,t),t.tag=1,wt(r)?(e=!0,Ms(t)):e=!1,ei(t,n),Nh(t,r,i),cu(t,r,i,n),pu(null,t,r,!0,e,n);case 19:return Oh(e,t,n);case 22:return Ih(e,t,n)}throw Error(H(156,t.tag))};function Gh(e,t){return kp(e,t)}function xg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,n,r){return new xg(e,t,n,r)}function kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sg(e){if(typeof e=="function")return kc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uu)return 11;if(e===Ku)return 14}return 2}function $n(e,t){var n=e.alternate;return n===null?(n=Ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ns(e,t,n,r,i,s){var l=2;if(r=e,typeof e=="function")kc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Mr:return mr(n.children,i,s,t);case Fu:l=8,i|=8;break;case Dl:return e=Ot(12,n,t,i|2),e.elementType=Dl,e.lanes=s,e;case Al:return e=Ot(13,n,t,i),e.elementType=Al,e.lanes=s,e;case Ll:return e=Ot(19,n,t,i),e.elementType=Ll,e.lanes=s,e;case op:return da(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rp:l=10;break e;case ip:l=9;break e;case Uu:l=11;break e;case Ku:l=14;break e;case Tn:l=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Ot(l,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function mr(e,t,n,r){return e=Ot(7,e,r,t),e.lanes=n,e}function da(e,t,n,r){return e=Ot(22,e,r,t),e.elementType=op,e.lanes=n,e.stateNode={isHidden:!1},e}function Cl(e,t,n){return e=Ot(6,e,null,t),e.lanes=n,e}function Pl(e,t,n){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kg(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ec(e,t,n,r,i,s,l,d,p){return e=new kg(e,t,n,d,p),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ot(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sc(s),e}function Eg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Yh(e){if(!e)return Hn;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(wt(n))return Yp(e,n,t)}return t}function Xh(e,t,n,r,i,s,l,d,p){return e=Ec(n,r,!0,e,i,s,l,d,p),e.context=Yh(null),n=e.current,r=pt(),i=Wn(n),s=fn(r,i),s.callback=t??null,Un(n,s,i),e.current.lanes=i,wo(e,i,r),xt(e,r),e}function fa(e,t,n,r){var i=t.current,s=pt(),l=Wn(i);return n=Yh(n),t.context===null?t.context=n:t.pendingContext=n,t=fn(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(i,t,l),e!==null&&(Wt(e,i,l,s),ws(e,i,l)),l}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ef(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _c(e,t){Ef(e,t),(e=e.alternate)&&Ef(e,t)}function _g(){return null}var Jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nc(e){this._internalRoot=e}pa.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));fa(e,t,null,null)};pa.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){fa(null,e,null,null)}),t[mn]=null}};function pa(e){this._internalRoot=e}pa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ip();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&bp(e)}};function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ha(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _f(){}function Ng(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var y=Ys(l);s.call(y)}}var l=Xh(t,r,e,0,null,!1,!1,"",_f);return e._reactRootContainer=l,e[mn]=l.current,so(e.nodeType===8?e.parentNode:e),Sr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var y=Ys(p);d.call(y)}}var p=Ec(e,0,!1,null,null,!1,!1,"",_f);return e._reactRootContainer=p,e[mn]=p.current,so(e.nodeType===8?e.parentNode:e),Sr(function(){fa(t,p,n,r)}),p}function ma(e,t,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var d=i;i=function(){var p=Ys(l);d.call(p)}}fa(t,l,e,i)}else l=Ng(n,t,e,i,r);return Ys(l)}Cp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ui(t.pendingLanes);n!==0&&(Vu(t,n|1),xt(t,We()),!(we&6)&&(li=We()+500,Yn()))}break;case 13:Sr(function(){var r=yn(e,1);if(r!==null){var i=pt();Wt(r,e,1,i)}}),_c(e,1)}};qu=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var n=pt();Wt(t,e,134217728,n)}_c(e,134217728)}};Pp=function(e){if(e.tag===13){var t=Wn(e),n=yn(e,t);if(n!==null){var r=pt();Wt(n,e,t,r)}_c(e,t)}};Ip=function(){return je};Tp=function(e,t){var n=je;try{return je=e,t()}finally{je=n}};ql=function(e,t,n){switch(t){case"input":if(Bl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oa(r);if(!i)throw Error(H(90));ap(r),Bl(r,i)}}}break;case"textarea":up(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};yp=wc;vp=Sr;var jg={usingClientEntryPoint:!1,Events:[So,Ur,oa,hp,mp,wc]},zi={findFiberByHostInstance:dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cg={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xp(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||_g,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{ta=ds.inject(Cg),tn=ds}catch{}}Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;Ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jc(t))throw Error(H(200));return Eg(e,t,null,n)};Ct.createRoot=function(e,t){if(!jc(e))throw Error(H(299));var n=!1,r="",i=Jh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ec(e,1,!1,null,null,n,!1,r,i),e[mn]=t.current,so(e.nodeType===8?e.parentNode:e),new Nc(t)};Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=xp(t),e=e===null?null:e.stateNode,e};Ct.flushSync=function(e){return Sr(e)};Ct.hydrate=function(e,t,n){if(!ha(t))throw Error(H(200));return ma(null,e,t,!0,n)};Ct.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=Jh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Xh(t,null,e,1,n??null,i,!1,s,l),e[mn]=t.current,so(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new pa(t)};Ct.render=function(e,t,n){if(!ha(t))throw Error(H(200));return ma(null,e,t,!1,n)};Ct.unmountComponentAtNode=function(e){if(!ha(e))throw Error(H(40));return e._reactRootContainer?(Sr(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[mn]=null})}),!0):!1};Ct.unstable_batchedUpdates=wc;Ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ha(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return ma(e,t,n,!1,r)};Ct.version="18.3.1-next-f1338f8080-20240426";function Zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zh)}catch(e){console.error(e)}}Zh(),Zf.exports=Ct;var Pg=Zf.exports,Nf=Pg;Rl.createRoot=Nf.createRoot,Rl.hydrateRoot=Nf.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(this,arguments)}var Ln;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ln||(Ln={}));const jf="popstate";function Ig(e){e===void 0&&(e={});function t(i,s){let{pathname:l="/",search:d="",hash:p=""}=Nr(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Nu("",{pathname:l,search:d,hash:p},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let l=i.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let p=i.location.href,y=p.indexOf("#");d=y===-1?p:p.slice(0,y)}return d+"#"+(typeof s=="string"?s:Xs(s))}function r(i,s){ya(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return bg(t,n,r,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ya(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Tg(){return Math.random().toString(36).substr(2,8)}function Cf(e,t){return{usr:e.state,key:e.key,idx:t}}function Nu(e,t,n,r){return n===void 0&&(n=null),yo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nr(t):t,{state:n,key:t&&t.key||r||Tg()})}function Xs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bg(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,d=Ln.Pop,p=null,y=S();y==null&&(y=0,l.replaceState(yo({},l.state,{idx:y}),""));function S(){return(l.state||{idx:null}).idx}function w(){d=Ln.Pop;let L=S(),E=L==null?null:L-y;y=L,p&&p({action:d,location:K.location,delta:E})}function _(L,E){d=Ln.Push;let x=Nu(K.location,L,E);n&&n(x,L),y=S()+1;let k=Cf(x,y),U=K.createHref(x);try{l.pushState(k,"",U)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(U)}s&&p&&p({action:d,location:K.location,delta:1})}function D(L,E){d=Ln.Replace;let x=Nu(K.location,L,E);n&&n(x,L),y=S();let k=Cf(x,y),U=K.createHref(x);l.replaceState(k,"",U),s&&p&&p({action:d,location:K.location,delta:0})}function O(L){let E=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof L=="string"?L:Xs(L);return x=x.replace(/ $/,"%20"),Le(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let K={get action(){return d},get location(){return e(i,l)},listen(L){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(jf,w),p=L,()=>{i.removeEventListener(jf,w),p=null}},createHref(L){return t(i,L)},createURL:O,encodeLocation(L){let E=O(L);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:_,replace:D,go(L){return l.go(L)}};return K}var Pf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pf||(Pf={}));function Rg(e,t,n){return n===void 0&&(n="/"),Og(e,t,n)}function Og(e,t,n,r){let i=typeof t=="string"?Nr(t):t,s=ui(i.pathname||"/",n);if(s==null)return null;let l=em(e);Dg(l);let d=null;for(let p=0;d==null&&p<l.length;++p){let y=Vg(s);d=Wg(l[p],y)}return d}function em(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,d)=>{let p={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};p.relativePath.startsWith("/")&&(Le(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let y=Vn([r,p.relativePath]),S=n.concat(p);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),em(s.children,t,S,y)),!(s.path==null&&!s.index)&&t.push({path:y,score:Ug(y,s.index),routesMeta:S})};return e.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let p of tm(s.path))i(s,l,p)}),t}function tm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=tm(r.join("/")),d=[];return d.push(...l.map(p=>p===""?s:[s,p].join("/"))),i&&d.push(...l),d.map(p=>e.startsWith("/")&&p===""?"/":p)}function Dg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ag=/^:[\w-]+$/,Lg=3,Mg=2,zg=1,Bg=10,Fg=-2,If=e=>e==="*";function Ug(e,t){let n=e.split("/"),r=n.length;return n.some(If)&&(r+=Fg),t&&(r+=Mg),n.filter(i=>!If(i)).reduce((i,s)=>i+(Ag.test(s)?Lg:s===""?zg:Bg),r)}function Kg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Wg(e,t,n){let{routesMeta:r}=e,i={},s="/",l=[];for(let d=0;d<r.length;++d){let p=r[d],y=d===r.length-1,S=s==="/"?t:t.slice(s.length)||"/",w=ju({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},S),_=p.route;if(!w)return null;Object.assign(i,w.params),l.push({params:i,pathname:Vn([s,w.pathname]),pathnameBase:Yg(Vn([s,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(s=Vn([s,w.pathnameBase]))}return l}function ju(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$g(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((y,S,w)=>{let{paramName:_,isOptional:D}=S;if(_==="*"){let K=d[w]||"";l=s.slice(0,s.length-K.length).replace(/(.)\/+$/,"$1")}const O=d[w];return D&&!O?y[_]=void 0:y[_]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:s,pathnameBase:l,pattern:e}}function $g(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ya(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Vg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ya(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ui(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hg=e=>qg.test(e);function Qg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Nr(e):e,s;if(n)if(Hg(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),ya(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=Tf(n.substring(1),"/"):s=Tf(n,t)}else s=t;return{pathname:s,search:Xg(r),hash:Jg(i)}}function Tf(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Il(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Cc(e,t){let n=Gg(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pc(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Nr(e):(i=yo({},e),Le(!i.pathname||!i.pathname.includes("?"),Il("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Il("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Il("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=n;else{let w=t.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),w-=1;i.pathname=_.join("/")}d=w>=0?t[w]:"/"}let p=Qg(i,d),y=l&&l!=="/"&&l.endsWith("/"),S=(s||l===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||S)&&(p.pathname+="/"),p}const Vn=e=>e.join("/").replace(/\/\/+/g,"/"),Yg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Xg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nm=["post","put","patch","delete"];new Set(nm);const ew=["get",...nm];new Set(ew);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vo.apply(this,arguments)}const va=F.createContext(null),rm=F.createContext(null),wn=F.createContext(null),ga=F.createContext(null),xn=F.createContext({outlet:null,matches:[],isDataRoute:!1}),im=F.createContext(null);function tw(e,t){let{relative:n}=t===void 0?{}:t;hi()||Le(!1);let{basename:r,navigator:i}=F.useContext(wn),{hash:s,pathname:l,search:d}=wa(e,{relative:n}),p=l;return r!=="/"&&(p=l==="/"?r:Vn([r,l])),i.createHref({pathname:p,search:d,hash:s})}function hi(){return F.useContext(ga)!=null}function mi(){return hi()||Le(!1),F.useContext(ga).location}function om(e){F.useContext(wn).static||F.useLayoutEffect(e)}function yi(){let{isDataRoute:e}=F.useContext(xn);return e?hw():nw()}function nw(){hi()||Le(!1);let e=F.useContext(va),{basename:t,future:n,navigator:r}=F.useContext(wn),{matches:i}=F.useContext(xn),{pathname:s}=mi(),l=JSON.stringify(Cc(i,n.v7_relativeSplatPath)),d=F.useRef(!1);return om(()=>{d.current=!0}),F.useCallback(function(y,S){if(S===void 0&&(S={}),!d.current)return;if(typeof y=="number"){r.go(y);return}let w=Pc(y,JSON.parse(l),s,S.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Vn([t,w.pathname])),(S.replace?r.replace:r.push)(w,S.state,S)},[t,r,l,s,e])}function Ic(){let{matches:e}=F.useContext(xn),t=e[e.length-1];return t?t.params:{}}function wa(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=F.useContext(wn),{matches:i}=F.useContext(xn),{pathname:s}=mi(),l=JSON.stringify(Cc(i,r.v7_relativeSplatPath));return F.useMemo(()=>Pc(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function rw(e,t){return iw(e,t)}function iw(e,t,n,r){hi()||Le(!1);let{navigator:i}=F.useContext(wn),{matches:s}=F.useContext(xn),l=s[s.length-1],d=l?l.params:{};l&&l.pathname;let p=l?l.pathnameBase:"/";l&&l.route;let y=mi(),S;if(t){var w;let L=typeof t=="string"?Nr(t):t;p==="/"||(w=L.pathname)!=null&&w.startsWith(p)||Le(!1),S=L}else S=y;let _=S.pathname||"/",D=_;if(p!=="/"){let L=p.replace(/^\//,"").split("/");D="/"+_.replace(/^\//,"").split("/").slice(L.length).join("/")}let O=Rg(e,{pathname:D}),K=uw(O&&O.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:Vn([p,i.encodeLocation?i.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:Vn([p,i.encodeLocation?i.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),s,n,r);return t&&K?F.createElement(ga.Provider,{value:{location:vo({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Ln.Pop}},K):K}function ow(){let e=pw(),t=Zg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:i},n):null,null)}const sw=F.createElement(ow,null);class aw extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?F.createElement(xn.Provider,{value:this.props.routeContext},F.createElement(im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lw(e){let{routeContext:t,match:n,children:r}=e,i=F.useContext(va);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(xn.Provider,{value:t},r)}function uw(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,d=(i=n)==null?void 0:i.errors;if(d!=null){let S=l.findIndex(w=>w.route.id&&(d==null?void 0:d[w.route.id])!==void 0);S>=0||Le(!1),l=l.slice(0,Math.min(l.length,S+1))}let p=!1,y=-1;if(n&&r&&r.v7_partialHydration)for(let S=0;S<l.length;S++){let w=l[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=S),w.route.id){let{loaderData:_,errors:D}=n,O=w.route.loader&&_[w.route.id]===void 0&&(!D||D[w.route.id]===void 0);if(w.route.lazy||O){p=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((S,w,_)=>{let D,O=!1,K=null,L=null;n&&(D=d&&w.route.id?d[w.route.id]:void 0,K=w.route.errorElement||sw,p&&(y<0&&_===0?(mw("route-fallback"),O=!0,L=null):y===_&&(O=!0,L=w.route.hydrateFallbackElement||null)));let E=t.concat(l.slice(0,_+1)),x=()=>{let k;return D?k=K:O?k=L:w.route.Component?k=F.createElement(w.route.Component,null):w.route.element?k=w.route.element:k=S,F.createElement(lw,{match:w,routeContext:{outlet:S,matches:E,isDataRoute:n!=null},children:k})};return n&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?F.createElement(aw,{location:n.location,revalidation:n.revalidation,component:K,error:D,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}var sm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sm||{}),am=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(am||{});function cw(e){let t=F.useContext(va);return t||Le(!1),t}function dw(e){let t=F.useContext(rm);return t||Le(!1),t}function fw(e){let t=F.useContext(xn);return t||Le(!1),t}function lm(e){let t=fw(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function pw(){var e;let t=F.useContext(im),n=dw(),r=lm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function hw(){let{router:e}=cw(sm.UseNavigateStable),t=lm(am.UseNavigateStable),n=F.useRef(!1);return om(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,vo({fromRouteId:t},s)))},[e,t])}const bf={};function mw(e,t,n){bf[e]||(bf[e]=!0)}function yw(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function vw(e){let{to:t,replace:n,state:r,relative:i}=e;hi()||Le(!1);let{future:s,static:l}=F.useContext(wn),{matches:d}=F.useContext(xn),{pathname:p}=mi(),y=yi(),S=Pc(t,Cc(d,s.v7_relativeSplatPath),p,i==="path"),w=JSON.stringify(S);return F.useEffect(()=>y(JSON.parse(w),{replace:n,state:r,relative:i}),[y,w,i,n,r]),null}function In(e){Le(!1)}function gw(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Ln.Pop,navigator:s,static:l=!1,future:d}=e;hi()&&Le(!1);let p=t.replace(/^\/*/,"/"),y=F.useMemo(()=>({basename:p,navigator:s,static:l,future:vo({v7_relativeSplatPath:!1},d)}),[p,d,s,l]);typeof r=="string"&&(r=Nr(r));let{pathname:S="/",search:w="",hash:_="",state:D=null,key:O="default"}=r,K=F.useMemo(()=>{let L=ui(S,p);return L==null?null:{location:{pathname:L,search:w,hash:_,state:D,key:O},navigationType:i}},[p,S,w,_,D,O,i]);return K==null?null:F.createElement(wn.Provider,{value:y},F.createElement(ga.Provider,{children:n,value:K}))}function ww(e){let{children:t,location:n}=e;return rw(Cu(t),n)}new Promise(()=>{});function Cu(e,t){t===void 0&&(t=[]);let n=[];return F.Children.forEach(e,(r,i)=>{if(!F.isValidElement(r))return;let s=[...t,i];if(r.type===F.Fragment){n.push.apply(n,Cu(r.props.children,s));return}r.type!==In&&Le(!1),!r.props.index||!r.props.children||Le(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Cu(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(this,arguments)}function um(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function xw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Sw(e,t){return e.button===0&&(!t||t==="_self")&&!xw(e)}const kw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ew=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_w="6";try{window.__reactRouterVersion=_w}catch{}const Nw=F.createContext({isTransitioning:!1}),jw="startTransition",Rf=vy[jw];function Cw(e){let{basename:t,children:n,future:r,window:i}=e,s=F.useRef();s.current==null&&(s.current=Ig({window:i,v5Compat:!0}));let l=s.current,[d,p]=F.useState({action:l.action,location:l.location}),{v7_startTransition:y}=r||{},S=F.useCallback(w=>{y&&Rf?Rf(()=>p(w)):p(w)},[p,y]);return F.useLayoutEffect(()=>l.listen(S),[l,S]),F.useEffect(()=>yw(r),[r]),F.createElement(gw,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}const Pw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tw=F.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:l,state:d,target:p,to:y,preventScrollReset:S,viewTransition:w}=t,_=um(t,kw),{basename:D}=F.useContext(wn),O,K=!1;if(typeof y=="string"&&Iw.test(y)&&(O=y,Pw))try{let k=new URL(window.location.href),U=y.startsWith("//")?new URL(k.protocol+y):new URL(y),Q=ui(U.pathname,D);U.origin===k.origin&&Q!=null?y=Q+U.search+U.hash:K=!0}catch{}let L=tw(y,{relative:i}),E=Rw(y,{replace:l,state:d,target:p,preventScrollReset:S,relative:i,viewTransition:w});function x(k){r&&r(k),k.defaultPrevented||E(k)}return F.createElement("a",Js({},_,{href:O||L,onClick:K||s?r:x,ref:n,target:p}))}),fs=F.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:l=!1,style:d,to:p,viewTransition:y,children:S}=t,w=um(t,Ew),_=wa(p,{relative:w.relative}),D=mi(),O=F.useContext(rm),{navigator:K,basename:L}=F.useContext(wn),E=O!=null&&Ow(_)&&y===!0,x=K.encodeLocation?K.encodeLocation(_).pathname:_.pathname,k=D.pathname,U=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(k=k.toLowerCase(),U=U?U.toLowerCase():null,x=x.toLowerCase()),U&&L&&(U=ui(U,L)||U);const Q=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let Z=k===x||!l&&k.startsWith(x)&&k.charAt(Q)==="/",$=U!=null&&(U===x||!l&&U.startsWith(x)&&U.charAt(x.length)==="/"),ie={isActive:Z,isPending:$,isTransitioning:E},ye=Z?r:void 0,re;typeof s=="function"?re=s(ie):re=[s,Z?"active":null,$?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let _e=typeof d=="function"?d(ie):d;return F.createElement(Tw,Js({},w,{"aria-current":ye,className:re,ref:n,style:_e,to:p,viewTransition:y}),typeof S=="function"?S(ie):S)});var Pu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pu||(Pu={}));var Of;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Of||(Of={}));function bw(e){let t=F.useContext(va);return t||Le(!1),t}function Rw(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:d}=t===void 0?{}:t,p=yi(),y=mi(),S=wa(e,{relative:l});return F.useCallback(w=>{if(Sw(w,n)){w.preventDefault();let _=r!==void 0?r:Xs(y)===Xs(S);p(e,{replace:_,state:i,preventScrollReset:s,relative:l,viewTransition:d})}},[y,p,S,r,i,n,e,s,l,d])}function Ow(e,t){t===void 0&&(t={});let n=F.useContext(Nw);n==null&&Le(!1);let{basename:r}=bw(Pu.useViewTransitionState),i=wa(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=ui(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ui(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ju(i.pathname,l)!=null||ju(i.pathname,s)!=null}function Dw(){return h.jsx("div",{className:"bottomNav",role:"navigation","aria-label":"Primary",children:h.jsxs("div",{className:"inner",children:[h.jsx(fs,{className:({isActive:e})=>"navBtn"+(e?" active":""),to:"/",children:"Home"}),h.jsx(fs,{className:({isActive:e})=>"navBtn"+(e?" active":""),to:"/workout/today",children:"Workout"}),h.jsx(fs,{className:({isActive:e})=>"navBtn"+(e?" active":""),to:"/data",children:"Data"}),h.jsx(fs,{className:({isActive:e})=>"navBtn"+(e?" active":""),to:"/settings",children:"Settings"})]})})}function Aw(){const[e,t]=F.useState(navigator.onLine);return F.useEffect(()=>{const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",r),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]),e?null:h.jsx("div",{className:"chip",role:"status","aria-live":"polite",children:" Offline"})}const Lw={},Df=e=>{let t;const n=new Set,r=(S,w)=>{const _=typeof S=="function"?S(t):S;if(!Object.is(_,t)){const D=t;t=w??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(O=>O(t,D))}},i=()=>t,p={setState:r,getState:i,getInitialState:()=>y,subscribe:S=>(n.add(S),()=>n.delete(S)),destroy:()=>{(Lw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},y=t=e(r,i,p);return p},Mw=e=>e?Df(e):Df;var cm={exports:{}},dm={},fm={exports:{}},pm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=F;function zw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bw=typeof Object.is=="function"?Object.is:zw,Fw=ci.useState,Uw=ci.useEffect,Kw=ci.useLayoutEffect,Ww=ci.useDebugValue;function $w(e,t){var n=t(),r=Fw({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Kw(function(){i.value=n,i.getSnapshot=t,Tl(i)&&s({inst:i})},[e,n,t]),Uw(function(){return Tl(i)&&s({inst:i}),e(function(){Tl(i)&&s({inst:i})})},[e]),Ww(n),n}function Tl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bw(e,n)}catch{return!0}}function Vw(e,t){return t()}var qw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vw:$w;pm.useSyncExternalStore=ci.useSyncExternalStore!==void 0?ci.useSyncExternalStore:qw;fm.exports=pm;var Hw=fm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=F,Qw=Hw;function Gw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yw=typeof Object.is=="function"?Object.is:Gw,Xw=Qw.useSyncExternalStore,Jw=xa.useRef,Zw=xa.useEffect,e0=xa.useMemo,t0=xa.useDebugValue;dm.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Jw(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=e0(function(){function p(D){if(!y){if(y=!0,S=D,D=r(D),i!==void 0&&l.hasValue){var O=l.value;if(i(O,D))return w=O}return w=D}if(O=w,Yw(S,D))return O;var K=r(D);return i!==void 0&&i(O,K)?(S=D,O):(S=D,w=K)}var y=!1,S,w,_=n===void 0?null:n;return[function(){return p(t())},_===null?void 0:function(){return p(_())}]},[t,n,r,i]);var d=Xw(e,s[0],s[1]);return Zw(function(){l.hasValue=!0,l.value=d},[d]),t0(d),d};cm.exports=dm;var n0=cm.exports;const r0=bu(n0),hm={},{useDebugValue:i0}=Lu,{useSyncExternalStoreWithSelector:o0}=r0;let Af=!1;const s0=e=>e;function a0(e,t=s0,n){(hm?"production":void 0)!=="production"&&n&&!Af&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Af=!0);const r=o0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return i0(r),r}const Lf=e=>{(hm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Mw(e):e,n=(r,i)=>a0(t,r,i);return Object.assign(n,t),n},Tc=e=>e?Lf(e):Lf,pn=Tc(e=>({updateAvailable:!1,setUpdateAvailable:t=>e({updateAvailable:t}),lock:!1,setLock:t=>e({lock:t}),skipPrompt:null,setSkipPrompt:t=>e({skipPrompt:t})}));function l0(){if(!("serviceWorker"in navigator))return;const e=new URL("../sw.js",import.meta.url);navigator.serviceWorker.register(e,{scope:"./"}).then(t=>{t.addEventListener("updatefound",()=>{const n=t.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller&&pn.getState().setUpdateAvailable(!0)})})}).catch(()=>{})}async function u0(){const e=await navigator.serviceWorker.getRegistration();if(!e)return window.location.reload();e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload()}function c0(){return pn(t=>t.updateAvailable)?h.jsx("div",{className:"card",style:{marginTop:12},children:h.jsxs("div",{className:"row between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"h2",children:"Update available"}),h.jsx("div",{className:"muted",children:"Refresh to load the latest version."})]}),h.jsx("button",{className:"primary",onClick:()=>void u0(),children:"Refresh"})]})}):null}function d0(){return pn(t=>t.lock)?h.jsx("div",{className:"modalBackdrop",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"modal",children:[h.jsx("div",{className:"h1",children:"Another tab is active"}),h.jsx("div",{className:"muted",style:{marginBottom:12},children:"This app enforces single-tab usage to prevent data conflicts. Close other tabs and reload this one."}),h.jsx("button",{className:"primary",onClick:()=>window.location.reload(),children:"Reload"})]})}):null}function f0({children:e}){return h.jsxs(h.Fragment,{children:[h.jsx(d0,{}),h.jsxs("div",{className:"container",children:[h.jsx(Aw,{}),h.jsx(c0,{}),e]}),h.jsx(Dw,{})]})}function Mf(e){return e<10?`0${e}`:String(e)}function Ut(e){const t=e.getFullYear(),n=Mf(e.getMonth()+1),r=Mf(e.getDate());return`${t}-${n}-${r}`}function mm(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,(n??1)-1,r??1)}function kr(e,t){const n=mm(e);return n.setDate(n.getDate()+t),Ut(n)}function p0(e){return mm(e).getDay()}function bc(e,t){const r=(p0(e)-t+7)%7;return kr(e,-r)}function h0(e){const t=new Date(2023,0,1);return t.setDate(t.getDate()+e),new Intl.DateTimeFormat(void 0,{weekday:"short"}).format(t)}function m0(e,t){const n=new Date(e,t,1),r=new Date(e,t+1,0),i=new Date(n);i.setDate(n.getDate()-n.getDay());const s=new Date(r);s.setDate(r.getDate()+(6-r.getDay()));const l=[];for(let d=new Date(i);d<=s;d.setDate(d.getDate()+1))l.push({ymd:Ut(d),inMonth:d.getMonth()===t});return l}function ym(e){if(!e||e<0)return"0:00";const t=Math.floor(e/60),n=e%60;return`${t}:${n<10?"0":""}${n}`}function yr(e){const[t,n,r]=e.split("-").map(Number),i=new Date(t,(n??1)-1,r??1);return new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"numeric"}).format(i)}function y0({year:e,monthIndex0:t,badges:n,selected:r,onSelect:i}){const s=m0(e,t),l=Array.from({length:7},(d,p)=>h0(p));return h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[h.jsx("div",{className:"h2",children:new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric"}).format(new Date(e,t,1))}),h.jsx("div",{className:"muted",style:{fontSize:12},children:yr(r)})]}),h.jsx("div",{className:"hr"}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:6},children:[l.map(d=>h.jsx("div",{className:"muted",style:{fontSize:11,textAlign:"center"},children:d},d)),s.map(({ymd:d,inMonth:p})=>{const y=n[d]??null,S=d===r;return h.jsxs("button",{className:"ghost",style:{minHeight:44,borderRadius:12,borderColor:S?"color-mix(in srgb, var(--primary) 55%, var(--border))":"transparent",background:S?"color-mix(in srgb, var(--primary) 14%, var(--surface))":"transparent",opacity:p?1:.45,padding:6},onClick:()=>i(d),"aria-label":yr(d),children:[h.jsx("div",{style:{fontSize:13,fontWeight:650,textAlign:"center"},children:Number(d.slice(-2))}),h.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:2},children:y?h.jsx("span",{className:"badge "+g0(y),children:v0(y)}):h.jsx("span",{style:{height:18}})})]},d)})]})]})}function v0(e){switch(e){case"WORKOUT":return"W";case"REST":return"R";case"COMPLETED":return"";case"SKIPPED":return"";default:return""}}function g0(e){switch(e){case"COMPLETED":return"ok";case"SKIPPED":return"danger";case"WORKOUT":return"warn";case"REST":return"";default:return""}}var vm={exports:{}};(function(e,t){((n,r)=>{e.exports=r()})(md,function(){var n=function(o,a){return(n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(u,c){u.__proto__=c}:function(u,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f])}))(o,a)},r=function(){return(r=Object.assign||function(o){for(var a,u=1,c=arguments.length;u<c;u++)for(var f in a=arguments[u])Object.prototype.hasOwnProperty.call(a,f)&&(o[f]=a[f]);return o}).apply(this,arguments)};function i(o,a,u){for(var c,f=0,m=a.length;f<m;f++)!c&&f in a||((c=c||Array.prototype.slice.call(a,0,f))[f]=a[f]);return o.concat(c||Array.prototype.slice.call(a))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:md,l=Object.keys,d=Array.isArray;function p(o,a){return typeof a=="object"&&l(a).forEach(function(u){o[u]=a[u]}),o}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var y=Object.getPrototypeOf,S={}.hasOwnProperty;function w(o,a){return S.call(o,a)}function _(o,a){typeof a=="function"&&(a=a(y(o))),(typeof Reflect>"u"?l:Reflect.ownKeys)(a).forEach(function(u){O(o,u,a[u])})}var D=Object.defineProperty;function O(o,a,u,c){D(o,a,p(u&&w(u,"get")&&typeof u.get=="function"?{get:u.get,set:u.set,configurable:!0}:{value:u,configurable:!0,writable:!0},c))}function K(o){return{from:function(a){return o.prototype=Object.create(a.prototype),O(o.prototype,"constructor",o),{extend:_.bind(null,o.prototype)}}}}var L=Object.getOwnPropertyDescriptor,E=[].slice;function x(o,a,u){return E.call(o,a,u)}function k(o,a){return a(o)}function U(o){if(!o)throw new Error("Assertion Failed")}function Q(o){s.setImmediate?setImmediate(o):setTimeout(o,0)}function Z(o,a){if(typeof a=="string"&&w(o,a))return o[a];if(!a)return o;if(typeof a!="string"){for(var u=[],c=0,f=a.length;c<f;++c){var m=Z(o,a[c]);u.push(m)}return u}var v,g=a.indexOf(".");return g===-1||(v=o[a.substr(0,g)])==null?void 0:Z(v,a.substr(g+1))}function $(o,a,u){if(o&&a!==void 0&&!("isFrozen"in Object&&Object.isFrozen(o)))if(typeof a!="string"&&"length"in a){U(typeof u!="string"&&"length"in u);for(var c=0,f=a.length;c<f;++c)$(o,a[c],u[c])}else{var m,v,g=a.indexOf(".");g!==-1?(m=a.substr(0,g),(g=a.substr(g+1))===""?u===void 0?d(o)&&!isNaN(parseInt(m))?o.splice(m,1):delete o[m]:o[m]=u:$(v=(v=o[m])&&w(o,m)?v:o[m]={},g,u)):u===void 0?d(o)&&!isNaN(parseInt(a))?o.splice(a,1):delete o[a]:o[a]=u}}function ie(o){var a,u={};for(a in o)w(o,a)&&(u[a]=o[a]);return u}var ye=[].concat;function re(o){return ye.apply([],o)}var pe="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(re([8,16,32,64].map(function(o){return["Int","Uint","Float"].map(function(a){return a+o+"Array"})}))).filter(function(o){return s[o]}),_e=new Set(pe.map(function(o){return s[o]})),Ve=null;function ke(o){return Ve=new WeakMap,o=function a(u){if(!u||typeof u!="object")return u;var c=Ve.get(u);if(c)return c;if(d(u)){c=[],Ve.set(u,c);for(var f=0,m=u.length;f<m;++f)c.push(a(u[f]))}else if(_e.has(u.constructor))c=u;else{var v,g=y(u);for(v in c=g===Object.prototype?{}:Object.create(g),Ve.set(u,c),u)w(u,v)&&(c[v]=a(u[v]))}return c}(o),Ve=null,o}var qe={}.toString;function Vt(o){return qe.call(o).slice(8,-1)}var rn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Xn=typeof rn=="symbol"?function(o){var a;return o!=null&&(a=o[rn])&&a.apply(o)}:function(){return null};function ee(o,a){a=o.indexOf(a),0<=a&&o.splice(a,1)}var de={};function fe(o){var a,u,c,f;if(arguments.length===1){if(d(o))return o.slice();if(this===de&&typeof o=="string")return[o];if(f=Xn(o))for(u=[];!(c=f.next()).done;)u.push(c.value);else{if(o==null)return[o];if(typeof(a=o.length)!="number")return[o];for(u=new Array(a);a--;)u[a]=o[a]}}else for(a=arguments.length,u=new Array(a);a--;)u[a]=arguments[a];return u}var Y=typeof Symbol<"u"?function(o){return o[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},pe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],St=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(pe),Ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ne(o,a){this.name=o,this.message=a}function st(o,a){return o+". Errors: "+Object.keys(a).map(function(u){return a[u].toString()}).filter(function(u,c,f){return f.indexOf(u)===c}).join(`
`)}function Fe(o,a,u,c){this.failures=a,this.failedKeys=c,this.successCount=u,this.message=st(o,a)}function It(o,a){this.name="BulkError",this.failures=Object.keys(a).map(function(u){return a[u]}),this.failuresByPos=a,this.message=st(o,this.failures)}K(Ne).from(Error).extend({toString:function(){return this.name+": "+this.message}}),K(Fe).from(Ne),K(It).from(Ne);var Jn=St.reduce(function(o,a){return o[a]=a+"Error",o},{}),Sa=Ne,ue=St.reduce(function(o,a){var u=a+"Error";function c(f,m){this.name=u,f?typeof f=="string"?(this.message="".concat(f).concat(m?`
 `+m:""),this.inner=m||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=Ze[a]||u,this.inner=null)}return K(c).from(Sa),o[a]=c,o},{}),qt=(ue.Syntax=SyntaxError,ue.Type=TypeError,ue.Range=RangeError,pe.reduce(function(o,a){return o[a+"Error"]=ue[a],o},{}));pe=St.reduce(function(o,a){return["Syntax","Type","Range"].indexOf(a)===-1&&(o[a+"Error"]=ue[a]),o},{});function Ee(){}function vi(o){return o}function Em(o,a){return o==null||o===vi?a:function(u){return a(o(u))}}function Zn(o,a){return function(){o.apply(this,arguments),a.apply(this,arguments)}}function _m(o,a){return o===Ee?a:function(){var u=o.apply(this,arguments),c=(u!==void 0&&(arguments[0]=u),this.onsuccess),f=this.onerror,m=(this.onsuccess=null,this.onerror=null,a.apply(this,arguments));return c&&(this.onsuccess=this.onsuccess?Zn(c,this.onsuccess):c),f&&(this.onerror=this.onerror?Zn(f,this.onerror):f),m!==void 0?m:u}}function Nm(o,a){return o===Ee?a:function(){o.apply(this,arguments);var u=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,a.apply(this,arguments),u&&(this.onsuccess=this.onsuccess?Zn(u,this.onsuccess):u),c&&(this.onerror=this.onerror?Zn(c,this.onerror):c)}}function jm(o,a){return o===Ee?a:function(f){var c=o.apply(this,arguments),f=(p(f,c),this.onsuccess),m=this.onerror,v=(this.onsuccess=null,this.onerror=null,a.apply(this,arguments));return f&&(this.onsuccess=this.onsuccess?Zn(f,this.onsuccess):f),m&&(this.onerror=this.onerror?Zn(m,this.onerror):m),c===void 0?v===void 0?void 0:v:p(c,v)}}function Cm(o,a){return o===Ee?a:function(){return a.apply(this,arguments)!==!1&&o.apply(this,arguments)}}function ka(o,a){return o===Ee?a:function(){var u=o.apply(this,arguments);if(u&&typeof u.then=="function"){for(var c=this,f=arguments.length,m=new Array(f);f--;)m[f]=arguments[f];return u.then(function(){return a.apply(c,m)})}return a.apply(this,arguments)}}pe.ModifyError=Fe,pe.DexieError=Ne,pe.BulkError=It;var Ht=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Dc(o){Ht=o}var gi={},Ac=100,wi=typeof Promise>"u"?[]:(St=Promise.resolve(),typeof crypto<"u"&&crypto.subtle?[wi=crypto.subtle.digest("SHA-512",new Uint8Array([0])),y(wi),St]:[St,y(St),St]),St=wi[0],Or=wi[1],Or=Or&&Or.then,er=St&&St.constructor,Ea=!!wi[2],xi=function(o,a){Si.push([o,a]),_o&&(queueMicrotask(Im),_o=!1)},_a=!0,_o=!0,tr=[],No=[],Na=vi,Sn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ee,pgp:!1,env:{},finalize:Ee},le=Sn,Si=[],nr=0,jo=[];function te(o){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var a=this._PSD=le;if(typeof o!="function"){if(o!==gi)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Ca(this,this._value)}else this._state=null,this._value=null,++a.ref,function u(c,f){try{f(function(m){if(c._state===null){if(m===c)throw new TypeError("A promise cannot be resolved with itself.");var v=c._lib&&jr();m&&typeof m.then=="function"?u(c,function(g,C){m instanceof te?m._then(g,C):m.then(g,C)}):(c._state=!0,c._value=m,Mc(c)),v&&Cr()}},Ca.bind(null,c))}catch(m){Ca(c,m)}}(this,o)}var ja={get:function(){var o=le,a=To;function u(c,f){var m=this,v=!o.global&&(o!==le||a!==To),g=v&&!En(),C=new te(function(M,P){Pa(m,new Lc(Bc(c,o,v,g),Bc(f,o,v,g),M,P,o))});return this._consoleTask&&(C._consoleTask=this._consoleTask),C}return u.prototype=gi,u},set:function(o){O(this,"then",o&&o.prototype===gi?ja:{get:function(){return o},set:ja.set})}};function Lc(o,a,u,c,f){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof a=="function"?a:null,this.resolve=u,this.reject=c,this.psd=f}function Ca(o,a){var u,c;No.push(a),o._state===null&&(u=o._lib&&jr(),a=Na(a),o._state=!1,o._value=a,c=o,tr.some(function(f){return f._value===c._value})||tr.push(c),Mc(o),u)&&Cr()}function Mc(o){var a=o._listeners;o._listeners=[];for(var u=0,c=a.length;u<c;++u)Pa(o,a[u]);var f=o._PSD;--f.ref||f.finalize(),nr===0&&(++nr,xi(function(){--nr==0&&Ia()},[]))}function Pa(o,a){if(o._state===null)o._listeners.push(a);else{var u=o._state?a.onFulfilled:a.onRejected;if(u===null)return(o._state?a.resolve:a.reject)(o._value);++a.psd.ref,++nr,xi(Pm,[u,o,a])}}function Pm(o,a,u){try{var c,f=a._value;!a._state&&No.length&&(No=[]),c=Ht&&a._consoleTask?a._consoleTask.run(function(){return o(f)}):o(f),a._state||No.indexOf(f)!==-1||(m=>{for(var v=tr.length;v;)if(tr[--v]._value===m._value)return tr.splice(v,1)})(a),u.resolve(c)}catch(m){u.reject(m)}finally{--nr==0&&Ia(),--u.psd.ref||u.psd.finalize()}}function Im(){rr(Sn,function(){jr()&&Cr()})}function jr(){var o=_a;return _o=_a=!1,o}function Cr(){var o,a,u;do for(;0<Si.length;)for(o=Si,Si=[],u=o.length,a=0;a<u;++a){var c=o[a];c[0].apply(null,c[1])}while(0<Si.length);_o=_a=!0}function Ia(){for(var o=tr,a=(tr=[],o.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)}),jo.slice(0)),u=a.length;u;)a[--u]()}function Co(o){return new te(gi,!1,o)}function be(o,a){var u=le;return function(){var c=jr(),f=le;try{return _n(u,!0),o.apply(this,arguments)}catch(m){a&&a(m)}finally{_n(f,!1),c&&Cr()}}}_(te.prototype,{then:ja,_then:function(o,a){Pa(this,new Lc(null,null,o,a,le))},catch:function(o){var a,u;return arguments.length===1?this.then(null,o):(a=o,u=arguments[1],typeof a=="function"?this.then(null,function(c){return(c instanceof a?u:Co)(c)}):this.then(null,function(c){return(c&&c.name===a?u:Co)(c)}))},finally:function(o){return this.then(function(a){return te.resolve(o()).then(function(){return a})},function(a){return te.resolve(o()).then(function(){return Co(a)})})},timeout:function(o,a){var u=this;return o<1/0?new te(function(c,f){var m=setTimeout(function(){return f(new ue.Timeout(a))},o);u.then(c,f).finally(clearTimeout.bind(null,m))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&O(te.prototype,Symbol.toStringTag,"Dexie.Promise"),Sn.env=zc(),_(te,{all:function(){var o=fe.apply(null,arguments).map(bo);return new te(function(a,u){o.length===0&&a([]);var c=o.length;o.forEach(function(f,m){return te.resolve(f).then(function(v){o[m]=v,--c||a(o)},u)})})},resolve:function(o){return o instanceof te?o:o&&typeof o.then=="function"?new te(function(a,u){o.then(a,u)}):new te(gi,!0,o)},reject:Co,race:function(){var o=fe.apply(null,arguments).map(bo);return new te(function(a,u){o.map(function(c){return te.resolve(c).then(a,u)})})},PSD:{get:function(){return le},set:function(o){return le=o}},totalEchoes:{get:function(){return To}},newPSD:kn,usePSD:rr,scheduler:{get:function(){return xi},set:function(o){xi=o}},rejectionMapper:{get:function(){return Na},set:function(o){Na=o}},follow:function(o,a){return new te(function(u,c){return kn(function(f,m){var v=le;v.unhandleds=[],v.onunhandled=m,v.finalize=Zn(function(){var g,C=this;g=function(){C.unhandleds.length===0?f():m(C.unhandleds[0])},jo.push(function M(){g(),jo.splice(jo.indexOf(M),1)}),++nr,xi(function(){--nr==0&&Ia()},[])},v.finalize),o()},a,u,c)})}}),er&&(er.allSettled&&O(te,"allSettled",function(){var o=fe.apply(null,arguments).map(bo);return new te(function(a){o.length===0&&a([]);var u=o.length,c=new Array(u);o.forEach(function(f,m){return te.resolve(f).then(function(v){return c[m]={status:"fulfilled",value:v}},function(v){return c[m]={status:"rejected",reason:v}}).then(function(){return--u||a(c)})})})}),er.any&&typeof AggregateError<"u"&&O(te,"any",function(){var o=fe.apply(null,arguments).map(bo);return new te(function(a,u){o.length===0&&u(new AggregateError([]));var c=o.length,f=new Array(c);o.forEach(function(m,v){return te.resolve(m).then(function(g){return a(g)},function(g){f[v]=g,--c||u(new AggregateError(f))})})})}),er.withResolvers)&&(te.withResolvers=er.withResolvers);var Ge={awaits:0,echoes:0,id:0},Tm=0,Po=[],Io=0,To=0,bm=0;function kn(o,v,u,c){var f=le,m=Object.create(f),v=(m.parent=f,m.ref=0,m.global=!1,m.id=++bm,Sn.env,m.env=Ea?{Promise:te,PromiseProp:{value:te,configurable:!0,writable:!0},all:te.all,race:te.race,allSettled:te.allSettled,any:te.any,resolve:te.resolve,reject:te.reject}:{},v&&p(m,v),++f.ref,m.finalize=function(){--this.parent.ref||this.parent.finalize()},rr(m,o,u,c));return m.ref===0&&m.finalize(),v}function Pr(){return Ge.id||(Ge.id=++Tm),++Ge.awaits,Ge.echoes+=Ac,Ge.id}function En(){return!!Ge.awaits&&(--Ge.awaits==0&&(Ge.id=0),Ge.echoes=Ge.awaits*Ac,!0)}function bo(o){return Ge.echoes&&o&&o.constructor===er?(Pr(),o.then(function(a){return En(),a},function(a){return En(),Ue(a)})):o}function Rm(){var o=Po[Po.length-1];Po.pop(),_n(o,!1)}function _n(o,a){var u,c,f=le;(a?!Ge.echoes||Io++&&o===le:!Io||--Io&&o===le)||queueMicrotask(a?(function(m){++To,Ge.echoes&&--Ge.echoes!=0||(Ge.echoes=Ge.awaits=Ge.id=0),Po.push(le),_n(m,!0)}).bind(null,o):Rm),o!==le&&(le=o,f===Sn&&(Sn.env=zc()),Ea)&&(u=Sn.env.Promise,c=o.env,f.global||o.global)&&(Object.defineProperty(s,"Promise",c.PromiseProp),u.all=c.all,u.race=c.race,u.resolve=c.resolve,u.reject=c.reject,c.allSettled&&(u.allSettled=c.allSettled),c.any)&&(u.any=c.any)}function zc(){var o=s.Promise;return Ea?{Promise:o,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:o.all,race:o.race,allSettled:o.allSettled,any:o.any,resolve:o.resolve,reject:o.reject}:{}}function rr(o,a,u,c,f){var m=le;try{return _n(o,!0),a(u,c,f)}finally{_n(m,!1)}}function Bc(o,a,u,c){return typeof o!="function"?o:function(){var f=le;u&&Pr(),_n(a,!0);try{return o.apply(this,arguments)}finally{_n(f,!1),c&&queueMicrotask(En)}}}function Ta(o){Promise===er&&Ge.echoes===0?Io===0?o():enqueueNativeMicroTask(o):setTimeout(o,0)}(""+Or).indexOf("[native code]")===-1&&(Pr=En=Ee);var Ue=te.reject,ir="",on="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Fc="String expected.",Ir=[],Ro="__dbnames",ba="readonly",Ra="readwrite";function or(o,a){return o?a?function(){return o.apply(this,arguments)&&a.apply(this,arguments)}:o:a}var Uc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Oo(o){return typeof o!="string"||/\./.test(o)?function(a){return a}:function(a){return a[o]===void 0&&o in a&&delete(a=ke(a))[o],a}}function Kc(){throw ue.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ve(o,a){try{var u=Wc(o),c=Wc(a);if(u!==c)return u==="Array"?1:c==="Array"?-1:u==="binary"?1:c==="binary"?-1:u==="string"?1:c==="string"?-1:u==="Date"?1:c!=="Date"?NaN:-1;switch(u){case"number":case"Date":case"string":return a<o?1:o<a?-1:0;case"binary":for(var f=$c(o),m=$c(a),v=f.length,g=m.length,C=v<g?v:g,M=0;M<C;++M)if(f[M]!==m[M])return f[M]<m[M]?-1:1;return v===g?0:v<g?-1:1;case"Array":for(var P=o,N=a,T=P.length,b=N.length,I=T<b?T:b,j=0;j<I;++j){var z=ve(P[j],N[j]);if(z!==0)return z}return T===b?0:T<b?-1:1}}catch{}return NaN}function Wc(o){var a=typeof o;return a=="object"&&(ArrayBuffer.isView(o)||(a=Vt(o))==="ArrayBuffer")?"binary":a}function $c(o){return o instanceof Uint8Array?o:ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):new Uint8Array(o)}function Do(o,a,u){var c=o.schema.yProps;return c?(a&&0<u.numFailures&&(a=a.filter(function(f,m){return!u.failures[m]})),Promise.all(c.map(function(f){return f=f.updatesTable,a?o.db.table(f).where("k").anyOf(a).delete():o.db.table(f).clear()})).then(function(){return u})):u}Vc.prototype.execute=function(o){var a=this["@@propmod"];if(a.add!==void 0){var u=a.add;if(d(u))return i(i([],d(o)?o:[],!0),u).sort();if(typeof u=="number")return(Number(o)||0)+u;if(typeof u=="bigint")try{return BigInt(o)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(a.remove!==void 0){var c=a.remove;if(d(c))return d(o)?o.filter(function(f){return!c.includes(f)}).sort():[];if(typeof c=="number")return Number(o)-c;if(typeof c=="bigint")try{return BigInt(o)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return u=(u=a.replacePrefix)==null?void 0:u[0],u&&typeof o=="string"&&o.startsWith(u)?a.replacePrefix[1]+o.substring(u.length):o};var ki=Vc;function Vc(o){this["@@propmod"]=o}function qc(o,a){for(var u=l(a),c=u.length,f=!1,m=0;m<c;++m){var v=u[m],g=a[v],C=Z(o,v);g instanceof ki?($(o,v,g.execute(C)),f=!0):C!==g&&($(o,v,g),f=!0)}return f}Ce.prototype._trans=function(o,a,u){var c=this._tx||le.trans,f=this.name,m=Ht&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(o==="readonly"?"read":"write"," ").concat(this.name));function v(M,P,N){if(N.schema[f])return a(N.idbtrans,N);throw new ue.NotFound("Table "+f+" not part of transaction")}var g=jr();try{var C=c&&c.db._novip===this.db._novip?c===le.trans?c._promise(o,v,u):kn(function(){return c._promise(o,v,u)},{trans:c,transless:le.transless||le}):function M(P,N,T,b){if(P.idbdb&&(P._state.openComplete||le.letThrough||P._vip)){var I=P._createTransaction(N,T,P._dbSchema);try{I.create(),P._state.PR1398_maxLoop=3}catch(j){return j.name===Jn.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return M(P,N,T,b)})):Ue(j)}return I._promise(N,function(j,z){return kn(function(){return le.trans=I,b(j,z,I)})}).then(function(j){if(N==="readwrite")try{I.idbtrans.commit()}catch{}return N==="readonly"?j:I._completion.then(function(){return j})})}if(P._state.openComplete)return Ue(new ue.DatabaseClosed(P._state.dbOpenError));if(!P._state.isBeingOpened){if(!P._state.autoOpen)return Ue(new ue.DatabaseClosed);P.open().catch(Ee)}return P._state.dbReadyPromise.then(function(){return M(P,N,T,b)})}(this.db,o,[this.name],v);return m&&(C._consoleTask=m,C=C.catch(function(M){return console.trace(M),Ue(M)})),C}finally{g&&Cr()}},Ce.prototype.get=function(o,a){var u=this;return o&&o.constructor===Object?this.where(o).first(a):o==null?Ue(new ue.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return u.core.get({trans:c,key:o}).then(function(f){return u.hook.reading.fire(f)})}).then(a)},Ce.prototype.where=function(o){if(typeof o=="string")return new this.db.WhereClause(this,o);if(d(o))return new this.db.WhereClause(this,"[".concat(o.join("+"),"]"));var a=l(o);if(a.length===1)return this.where(a[0]).equals(o[a[0]]);var u=this.schema.indexes.concat(this.schema.primKey).filter(function(g){if(g.compound&&a.every(function(M){return 0<=g.keyPath.indexOf(M)})){for(var C=0;C<a.length;++C)if(a.indexOf(g.keyPath[C])===-1)return!1;return!0}return!1}).sort(function(g,C){return g.keyPath.length-C.keyPath.length})[0];if(u&&this.db._maxKey!==ir)return v=u.keyPath.slice(0,a.length),this.where(v).equals(v.map(function(g){return o[g]}));!u&&Ht&&console.warn("The query ".concat(JSON.stringify(o)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(a.join("+"),"]"));var c=this.schema.idxByName;function f(g,C){return ve(g,C)===0}var v=a.reduce(function(P,C){var M=P[0],P=P[1],N=c[C],T=o[C];return[M||N,M||!N?or(P,N&&N.multi?function(b){return b=Z(b,C),d(b)&&b.some(function(I){return f(T,I)})}:function(b){return f(T,Z(b,C))}):P]},[null,null]),m=v[0],v=v[1];return m?this.where(m.name).equals(o[m.keyPath]).filter(v):u?this.filter(v):this.where(a).equals("")},Ce.prototype.filter=function(o){return this.toCollection().and(o)},Ce.prototype.count=function(o){return this.toCollection().count(o)},Ce.prototype.offset=function(o){return this.toCollection().offset(o)},Ce.prototype.limit=function(o){return this.toCollection().limit(o)},Ce.prototype.each=function(o){return this.toCollection().each(o)},Ce.prototype.toArray=function(o){return this.toCollection().toArray(o)},Ce.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ce.prototype.orderBy=function(o){return new this.db.Collection(new this.db.WhereClause(this,d(o)?"[".concat(o.join("+"),"]"):o))},Ce.prototype.reverse=function(){return this.toCollection().reverse()},Ce.prototype.mapToClass=function(o){for(var a=this.db,u=this.name,c=((this.schema.mappedClass=o).prototype instanceof Kc&&(o=(v=>{var g=P,C=v;if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function M(){this.constructor=g}function P(){return v!==null&&v.apply(this,arguments)||this}return n(g,C),g.prototype=C===null?Object.create(C):(M.prototype=C.prototype,new M),Object.defineProperty(P.prototype,"db",{get:function(){return a},enumerable:!1,configurable:!0}),P.prototype.table=function(){return u},P})(o)),new Set),f=o.prototype;f;f=y(f))Object.getOwnPropertyNames(f).forEach(function(v){return c.add(v)});function m(v){if(!v)return v;var g,C=Object.create(o.prototype);for(g in v)if(!c.has(g))try{C[g]=v[g]}catch{}return C}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=m,this.hook("reading",m),o},Ce.prototype.defineClass=function(){return this.mapToClass(function(o){p(this,o)})},Ce.prototype.add=function(o,a){var u=this,c=this.schema.primKey,f=c.auto,m=c.keyPath,v=o;return m&&f&&(v=Oo(m)(o)),this._trans("readwrite",function(g){return u.core.mutate({trans:g,type:"add",keys:a!=null?[a]:null,values:[v]})}).then(function(g){return g.numFailures?te.reject(g.failures[0]):g.lastResult}).then(function(g){if(m)try{$(o,m,g)}catch{}return g})},Ce.prototype.upsert=function(o,a){var u=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return u.core.get({trans:f,key:o}).then(function(m){var v=m??{};return qc(v,a),c&&$(v,c,o),u.core.mutate({trans:f,type:"put",values:[v],keys:[o],upsert:!0,updates:{keys:[o],changeSpecs:[a]}}).then(function(g){return g.numFailures?te.reject(g.failures[0]):!!m})})})},Ce.prototype.update=function(o,a){return typeof o!="object"||d(o)?this.where(":id").equals(o).modify(a):(o=Z(o,this.schema.primKey.keyPath))===void 0?Ue(new ue.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(a)},Ce.prototype.put=function(o,a){var u=this,c=this.schema.primKey,f=c.auto,m=c.keyPath,v=o;return m&&f&&(v=Oo(m)(o)),this._trans("readwrite",function(g){return u.core.mutate({trans:g,type:"put",values:[v],keys:a!=null?[a]:null})}).then(function(g){return g.numFailures?te.reject(g.failures[0]):g.lastResult}).then(function(g){if(m)try{$(o,m,g)}catch{}return g})},Ce.prototype.delete=function(o){var a=this;return this._trans("readwrite",function(u){return a.core.mutate({trans:u,type:"delete",keys:[o]}).then(function(c){return Do(a,[o],c)}).then(function(c){return c.numFailures?te.reject(c.failures[0]):void 0})})},Ce.prototype.clear=function(){var o=this;return this._trans("readwrite",function(a){return o.core.mutate({trans:a,type:"deleteRange",range:Uc}).then(function(u){return Do(o,null,u)})}).then(function(a){return a.numFailures?te.reject(a.failures[0]):void 0})},Ce.prototype.bulkGet=function(o){var a=this;return this._trans("readonly",function(u){return a.core.getMany({keys:o,trans:u}).then(function(c){return c.map(function(f){return a.hook.reading.fire(f)})})})},Ce.prototype.bulkAdd=function(o,a,u){var c=this,f=Array.isArray(a)?a:void 0,m=(u=u||(f?void 0:a))?u.allKeys:void 0;return this._trans("readwrite",function(v){var g=c.schema.primKey,M=g.auto,g=g.keyPath;if(g&&f)throw new ue.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==o.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var C=o.length,M=g&&M?o.map(Oo(g)):o;return c.core.mutate({trans:v,type:"add",keys:f,values:M,wantResults:m}).then(function(P){var N=P.numFailures,T=P.failures;if(N===0)return m?P.results:P.lastResult;throw new It("".concat(c.name,".bulkAdd(): ").concat(N," of ").concat(C," operations failed"),T)})})},Ce.prototype.bulkPut=function(o,a,u){var c=this,f=Array.isArray(a)?a:void 0,m=(u=u||(f?void 0:a))?u.allKeys:void 0;return this._trans("readwrite",function(v){var g=c.schema.primKey,M=g.auto,g=g.keyPath;if(g&&f)throw new ue.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==o.length)throw new ue.InvalidArgument("Arguments objects and keys must have the same length");var C=o.length,M=g&&M?o.map(Oo(g)):o;return c.core.mutate({trans:v,type:"put",keys:f,values:M,wantResults:m}).then(function(P){var N=P.numFailures,T=P.failures;if(N===0)return m?P.results:P.lastResult;throw new It("".concat(c.name,".bulkPut(): ").concat(N," of ").concat(C," operations failed"),T)})})},Ce.prototype.bulkUpdate=function(o){var a=this,u=this.core,c=o.map(function(v){return v.key}),f=o.map(function(v){return v.changes}),m=[];return this._trans("readwrite",function(v){return u.getMany({trans:v,keys:c,cache:"clone"}).then(function(g){var C=[],M=[],P=(o.forEach(function(N,T){var b=N.key,I=N.changes,j=g[T];if(j){for(var z=0,B=Object.keys(I);z<B.length;z++){var A=B[z],W=I[A];if(A===a.schema.primKey.keyPath){if(ve(W,b)!==0)throw new ue.Constraint("Cannot update primary key in bulkUpdate()")}else $(j,A,W)}m.push(T),C.push(b),M.push(j)}}),C.length);return u.mutate({trans:v,type:"put",keys:C,values:M,updates:{keys:c,changeSpecs:f}}).then(function(N){var T=N.numFailures,b=N.failures;if(T===0)return P;for(var I=0,j=Object.keys(b);I<j.length;I++){var z,B=j[I],A=m[Number(B)];A!=null&&(z=b[B],delete b[B],b[A]=z)}throw new It("".concat(a.name,".bulkUpdate(): ").concat(T," of ").concat(P," operations failed"),b)})})})},Ce.prototype.bulkDelete=function(o){var a=this,u=o.length;return this._trans("readwrite",function(c){return a.core.mutate({trans:c,type:"delete",keys:o}).then(function(f){return Do(a,o,f)})}).then(function(c){var f=c.numFailures,m=c.failures;if(f===0)return c.lastResult;throw new It("".concat(a.name,".bulkDelete(): ").concat(f," of ").concat(u," operations failed"),m)})};var Hc=Ce;function Ce(){}function Ei(o){function a(v,g){if(g){for(var C=arguments.length,M=new Array(C-1);--C;)M[C-1]=arguments[C];return u[v].subscribe.apply(null,M),o}if(typeof v=="string")return u[v]}var u={};a.addEventType=m;for(var c=1,f=arguments.length;c<f;++c)m(arguments[c]);return a;function m(v,g,C){var M,P;if(typeof v!="object")return g=g||Cm,P={subscribers:[],fire:C=C||Ee,subscribe:function(N){P.subscribers.indexOf(N)===-1&&(P.subscribers.push(N),P.fire=g(P.fire,N))},unsubscribe:function(N){P.subscribers=P.subscribers.filter(function(T){return T!==N}),P.fire=P.subscribers.reduce(g,C)}},u[v]=a[v]=P;l(M=v).forEach(function(N){var T=M[N];if(d(T))m(N,M[N][0],M[N][1]);else{if(T!=="asap")throw new ue.InvalidArgument("Invalid event config");var b=m(N,vi,function(){for(var I=arguments.length,j=new Array(I);I--;)j[I]=arguments[I];b.subscribers.forEach(function(z){Q(function(){z.apply(null,j)})})})}})}}function _i(o,a){return K(a).from({prototype:o}),a}function Tr(o,a){return!(o.filter||o.algorithm||o.or)&&(a?o.justLimit:!o.replayFilter)}function Oa(o,a){o.filter=or(o.filter,a)}function Da(o,a,u){var c=o.replayFilter;o.replayFilter=c?function(){return or(c(),a())}:a,o.justLimit=u&&!c}function Ao(o,a){if(o.isPrimKey)return a.primaryKey;var u=a.getIndexByKeyPath(o.index);if(u)return u;throw new ue.Schema("KeyPath "+o.index+" on object store "+a.name+" is not indexed")}function Qc(o,a,u){var c=Ao(o,a.schema);return a.openCursor({trans:u,values:!o.keysOnly,reverse:o.dir==="prev",unique:!!o.unique,query:{index:c,range:o.range}})}function Lo(o,a,u,c){var f,m,v=o.replayFilter?or(o.filter,o.replayFilter()):o.filter;return o.or?(f={},m=function(g,C,M){var P,N;v&&!v(C,M,function(T){return C.stop(T)},function(T){return C.fail(T)})||((N=""+(P=C.primaryKey))=="[object ArrayBuffer]"&&(N=""+new Uint8Array(P)),w(f,N))||(f[N]=!0,a(g,C,M))},Promise.all([o.or._iterate(m,u),Gc(Qc(o,c,u),o.algorithm,m,!o.keysOnly&&o.valueMapper)])):Gc(Qc(o,c,u),or(o.algorithm,v),a,!o.keysOnly&&o.valueMapper)}function Gc(o,a,u,c){var f=be(c?function(m,v,g){return u(c(m),v,g)}:u);return o.then(function(m){if(m)return m.start(function(){var v=function(){return m.continue()};a&&!a(m,function(g){return v=g},function(g){m.stop(g),v=Ee},function(g){m.fail(g),v=Ee})||f(m.value,m,function(g){return v=g}),v()})})}xe.prototype._read=function(o,a){var u=this._ctx;return u.error?u.table._trans(null,Ue.bind(null,u.error)):u.table._trans("readonly",o).then(a)},xe.prototype._write=function(o){var a=this._ctx;return a.error?a.table._trans(null,Ue.bind(null,a.error)):a.table._trans("readwrite",o,"locked")},xe.prototype._addAlgorithm=function(o){var a=this._ctx;a.algorithm=or(a.algorithm,o)},xe.prototype._iterate=function(o,a){return Lo(this._ctx,o,a,this._ctx.table.core)},xe.prototype.clone=function(o){var a=Object.create(this.constructor.prototype),u=Object.create(this._ctx);return o&&p(u,o),a._ctx=u,a},xe.prototype.raw=function(){return this._ctx.valueMapper=null,this},xe.prototype.each=function(o){var a=this._ctx;return this._read(function(u){return Lo(a,o,u,a.table.core)})},xe.prototype.count=function(o){var a=this;return this._read(function(u){var c,f=a._ctx,m=f.table.core;return Tr(f,!0)?m.count({trans:u,query:{index:Ao(f,m.schema),range:f.range}}).then(function(v){return Math.min(v,f.limit)}):(c=0,Lo(f,function(){return++c,!1},u,m).then(function(){return c}))}).then(o)},xe.prototype.sortBy=function(o,a){var u=o.split(".").reverse(),c=u[0],f=u.length-1;function m(C,M){return M?m(C[u[M]],M-1):C[c]}var v=this._ctx.dir==="next"?1:-1;function g(C,M){return ve(m(C,f),m(M,f))*v}return this.toArray(function(C){return C.sort(g)}).then(a)},xe.prototype.toArray=function(o){var a=this;return this._read(function(u){var c,f,m,v=a._ctx;return v.dir==="next"&&Tr(v,!0)&&0<v.limit?(c=v.valueMapper,f=Ao(v,v.table.core.schema),v.table.core.query({trans:u,limit:v.limit,values:!0,query:{index:f,range:v.range}}).then(function(g){return g=g.result,c?g.map(c):g})):(m=[],Lo(v,function(g){return m.push(g)},u,v.table.core).then(function(){return m}))},o)},xe.prototype.offset=function(o){var a=this._ctx;return o<=0||(a.offset+=o,Tr(a)?Da(a,function(){var u=o;return function(c,f){return u===0||(u===1?--u:f(function(){c.advance(u),u=0}),!1)}}):Da(a,function(){var u=o;return function(){return--u<0}})),this},xe.prototype.limit=function(o){return this._ctx.limit=Math.min(this._ctx.limit,o),Da(this._ctx,function(){var a=o;return function(u,c,f){return--a<=0&&c(f),0<=a}},!0),this},xe.prototype.until=function(o,a){return Oa(this._ctx,function(u,c,f){return!o(u.value)||(c(f),a)}),this},xe.prototype.first=function(o){return this.limit(1).toArray(function(a){return a[0]}).then(o)},xe.prototype.last=function(o){return this.reverse().first(o)},xe.prototype.filter=function(o){var a;return Oa(this._ctx,function(u){return o(u.value)}),(a=this._ctx).isMatch=or(a.isMatch,o),this},xe.prototype.and=function(o){return this.filter(o)},xe.prototype.or=function(o){return new this.db.WhereClause(this._ctx.table,o,this)},xe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},xe.prototype.desc=function(){return this.reverse()},xe.prototype.eachKey=function(o){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(u,c){o(c.key,c)})},xe.prototype.eachUniqueKey=function(o){return this._ctx.unique="unique",this.eachKey(o)},xe.prototype.eachPrimaryKey=function(o){var a=this._ctx;return a.keysOnly=!a.isMatch,this.each(function(u,c){o(c.primaryKey,c)})},xe.prototype.keys=function(o){var a=this._ctx,u=(a.keysOnly=!a.isMatch,[]);return this.each(function(c,f){u.push(f.key)}).then(function(){return u}).then(o)},xe.prototype.primaryKeys=function(o){var a=this._ctx;if(a.dir==="next"&&Tr(a,!0)&&0<a.limit)return this._read(function(c){var f=Ao(a,a.table.core.schema);return a.table.core.query({trans:c,values:!1,limit:a.limit,query:{index:f,range:a.range}})}).then(function(c){return c.result}).then(o);a.keysOnly=!a.isMatch;var u=[];return this.each(function(c,f){u.push(f.primaryKey)}).then(function(){return u}).then(o)},xe.prototype.uniqueKeys=function(o){return this._ctx.unique="unique",this.keys(o)},xe.prototype.firstKey=function(o){return this.limit(1).keys(function(a){return a[0]}).then(o)},xe.prototype.lastKey=function(o){return this.reverse().firstKey(o)},xe.prototype.distinct=function(){var o,a=this._ctx,a=a.index&&a.table.schema.idxByName[a.index];return a&&a.multi&&(o={},Oa(this._ctx,function(c){var c=c.primaryKey.toString(),f=w(o,c);return o[c]=!0,!f})),this},xe.prototype.modify=function(o){var a=this,u=this._ctx;return this._write(function(c){function f(j,z){var B=z.failures;T+=j-z.numFailures;for(var A=0,W=l(B);A<W.length;A++){var V=W[A];N.push(B[V])}}var m=typeof o=="function"?o:function(j){return qc(j,o)},v=u.table.core,P=v.schema.primaryKey,g=P.outbound,C=P.extractKey,M=200,P=a.db._options.modifyChunkSize,N=(P&&(M=typeof P=="object"?P[v.name]||P["*"]||200:P),[]),T=0,b=[],I=o===Yc;return a.clone().primaryKeys().then(function(j){function z(A){var W=Math.min(M,j.length-A),V=j.slice(A,A+W);return(I?Promise.resolve([]):v.getMany({trans:c,keys:V,cache:"immutable"})).then(function(X){var J=[],q=[],oe=g?[]:null,ne=I?V:[];if(!I)for(var G=0;G<W;++G){var se=X[G],ge={value:ke(se),primKey:j[A+G]};m.call(ge,ge.value,ge)!==!1&&(ge.value==null?ne.push(j[A+G]):g||ve(C(se),C(ge.value))===0?(q.push(ge.value),g&&oe.push(j[A+G])):(ne.push(j[A+G]),J.push(ge.value)))}return Promise.resolve(0<J.length&&v.mutate({trans:c,type:"add",values:J}).then(function(Se){for(var ce in Se.failures)ne.splice(parseInt(ce),1);f(J.length,Se)})).then(function(){return(0<q.length||B&&typeof o=="object")&&v.mutate({trans:c,type:"put",keys:oe,values:q,criteria:B,changeSpec:typeof o!="function"&&o,isAdditionalChunk:0<A}).then(function(Se){return f(q.length,Se)})}).then(function(){return(0<ne.length||B&&I)&&v.mutate({trans:c,type:"delete",keys:ne,criteria:B,isAdditionalChunk:0<A}).then(function(Se){return Do(u.table,ne,Se)}).then(function(Se){return f(ne.length,Se)})}).then(function(){return j.length>A+W&&z(A+M)})})}var B=Tr(u)&&u.limit===1/0&&(typeof o!="function"||I)&&{index:u.index,range:u.range};return z(0).then(function(){if(0<N.length)throw new Fe("Error modifying one or more objects",N,T,b);return j.length})})})},xe.prototype.delete=function(){var o=this._ctx,a=o.range;return!Tr(o)||o.table.schema.yProps||!o.isPrimKey&&a.type!==3?this.modify(Yc):this._write(function(u){var c=o.table.core.schema.primaryKey,f=a;return o.table.core.count({trans:u,query:{index:c,range:f}}).then(function(m){return o.table.core.mutate({trans:u,type:"deleteRange",range:f}).then(function(C){var g=C.failures,C=C.numFailures;if(C)throw new Fe("Could not delete some values",Object.keys(g).map(function(M){return g[M]}),m-C);return m-C})})})};var Om=xe;function xe(){}var Yc=function(o,a){return a.value=null};function Dm(o,a){return o<a?-1:o===a?0:1}function Am(o,a){return a<o?-1:o===a?0:1}function kt(o,a,u){return o=o instanceof Jc?new o.Collection(o):o,o._ctx.error=new(u||TypeError)(a),o}function br(o){return new o.Collection(o,function(){return Xc("")}).limit(0)}function Mo(b,a,u,c){var f,m,v,g,C,M,P,N=u.length;if(!u.every(function(j){return typeof j=="string"}))return kt(b,Fc);function T(j){f=j==="next"?function(B){return B.toUpperCase()}:function(B){return B.toLowerCase()},m=j==="next"?function(B){return B.toLowerCase()}:function(B){return B.toUpperCase()},v=j==="next"?Dm:Am;var z=u.map(function(B){return{lower:m(B),upper:f(B)}}).sort(function(B,A){return v(B.lower,A.lower)});g=z.map(function(B){return B.upper}),C=z.map(function(B){return B.lower}),P=(M=j)==="next"?"":c}T("next");var b=new b.Collection(b,function(){return Nn(g[0],C[N-1]+c)}),I=(b._ondirectionchange=function(j){T(j)},0);return b._addAlgorithm(function(j,z,B){var A=j.key;if(typeof A=="string"){var W=m(A);if(a(W,C,I))return!0;for(var V=null,X=I;X<N;++X){var J=((q,oe,ne,G,se,ge)=>{for(var Se=Math.min(q.length,G.length),ce=-1,he=0;he<Se;++he){var Oe=oe[he];if(Oe!==G[he])return se(q[he],ne[he])<0?q.substr(0,he)+ne[he]+ne.substr(he+1):se(q[he],G[he])<0?q.substr(0,he)+G[he]+ne.substr(he+1):0<=ce?q.substr(0,ce)+oe[ce]+ne.substr(ce+1):null;se(q[he],Oe)<0&&(ce=he)}return Se<G.length&&ge==="next"?q+ne.substr(q.length):Se<q.length&&ge==="prev"?q.substr(0,ne.length):ce<0?null:q.substr(0,ce)+G[ce]+ne.substr(ce+1)})(A,W,g[X],C[X],v,M);J===null&&V===null?I=X+1:(V===null||0<v(V,J))&&(V=J)}z(V!==null?function(){j.continue(V+P)}:B)}return!1}),b}function Nn(o,a,u,c){return{type:2,lower:o,upper:a,lowerOpen:u,upperOpen:c}}function Xc(o){return{type:1,lower:o,upper:o}}Object.defineProperty(Ye.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ye.prototype.between=function(o,a,u,c){u=u!==!1,c=c===!0;try{return 0<this._cmp(o,a)||this._cmp(o,a)===0&&(u||c)&&(!u||!c)?br(this):new this.Collection(this,function(){return Nn(o,a,!u,!c)})}catch{return kt(this,on)}},Ye.prototype.equals=function(o){return o==null?kt(this,on):new this.Collection(this,function(){return Xc(o)})},Ye.prototype.above=function(o){return o==null?kt(this,on):new this.Collection(this,function(){return Nn(o,void 0,!0)})},Ye.prototype.aboveOrEqual=function(o){return o==null?kt(this,on):new this.Collection(this,function(){return Nn(o,void 0,!1)})},Ye.prototype.below=function(o){return o==null?kt(this,on):new this.Collection(this,function(){return Nn(void 0,o,!1,!0)})},Ye.prototype.belowOrEqual=function(o){return o==null?kt(this,on):new this.Collection(this,function(){return Nn(void 0,o)})},Ye.prototype.startsWith=function(o){return typeof o!="string"?kt(this,Fc):this.between(o,o+ir,!0,!0)},Ye.prototype.startsWithIgnoreCase=function(o){return o===""?this.startsWith(o):Mo(this,function(a,u){return a.indexOf(u[0])===0},[o],ir)},Ye.prototype.equalsIgnoreCase=function(o){return Mo(this,function(a,u){return a===u[0]},[o],"")},Ye.prototype.anyOfIgnoreCase=function(){var o=fe.apply(de,arguments);return o.length===0?br(this):Mo(this,function(a,u){return u.indexOf(a)!==-1},o,"")},Ye.prototype.startsWithAnyOfIgnoreCase=function(){var o=fe.apply(de,arguments);return o.length===0?br(this):Mo(this,function(a,u){return u.some(function(c){return a.indexOf(c)===0})},o,ir)},Ye.prototype.anyOf=function(){var o,a,u=this,c=fe.apply(de,arguments),f=this._cmp;try{c.sort(f)}catch{return kt(this,on)}return c.length===0?br(this):((o=new this.Collection(this,function(){return Nn(c[0],c[c.length-1])}))._ondirectionchange=function(m){f=m==="next"?u._ascending:u._descending,c.sort(f)},a=0,o._addAlgorithm(function(m,v,g){for(var C=m.key;0<f(C,c[a]);)if(++a===c.length)return v(g),!1;return f(C,c[a])===0||(v(function(){m.continue(c[a])}),!1)}),o)},Ye.prototype.notEqual=function(o){return this.inAnyRange([[-1/0,o],[o,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ye.prototype.noneOf=function(){var o=fe.apply(de,arguments);if(o.length===0)return new this.Collection(this);try{o.sort(this._ascending)}catch{return kt(this,on)}var a=o.reduce(function(u,c){return u?u.concat([[u[u.length-1][1],c]]):[[-1/0,c]]},null);return a.push([o[o.length-1],this.db._maxKey]),this.inAnyRange(a,{includeLowers:!1,includeUppers:!1})},Ye.prototype.inAnyRange=function(o,B){var u=this,c=this._cmp,f=this._ascending,m=this._descending,v=this._min,g=this._max;if(o.length===0)return br(this);if(!o.every(function(A){return A[0]!==void 0&&A[1]!==void 0&&f(A[0],A[1])<=0}))return kt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ue.InvalidArgument);var C=!B||B.includeLowers!==!1,M=B&&B.includeUppers===!0,P,N=f;function T(A,W){return N(A[0],W[0])}try{(P=o.reduce(function(A,W){for(var V=0,X=A.length;V<X;++V){var J=A[V];if(c(W[0],J[1])<0&&0<c(W[1],J[0])){J[0]=v(J[0],W[0]),J[1]=g(J[1],W[1]);break}}return V===X&&A.push(W),A},[])).sort(T)}catch{return kt(this,on)}var b=0,I=M?function(A){return 0<f(A,P[b][1])}:function(A){return 0<=f(A,P[b][1])},j=C?function(A){return 0<m(A,P[b][0])}:function(A){return 0<=m(A,P[b][0])},z=I,B=new this.Collection(this,function(){return Nn(P[0][0],P[P.length-1][1],!C,!M)});return B._ondirectionchange=function(A){N=A==="next"?(z=I,f):(z=j,m),P.sort(T)},B._addAlgorithm(function(A,W,V){for(var X,J=A.key;z(J);)if(++b===P.length)return W(V),!1;return!I(X=J)&&!j(X)||(u._cmp(J,P[b][1])===0||u._cmp(J,P[b][0])===0||W(function(){N===f?A.continue(P[b][0]):A.continue(P[b][1])}),!1)}),B},Ye.prototype.startsWithAnyOf=function(){var o=fe.apply(de,arguments);return o.every(function(a){return typeof a=="string"})?o.length===0?br(this):this.inAnyRange(o.map(function(a){return[a,a+ir]})):kt(this,"startsWithAnyOf() only works with strings")};var Jc=Ye;function Ye(){}function Qt(o){return be(function(a){return Ni(a),o(a.target.error),!1})}function Ni(o){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault()}var ji="storagemutated",Aa="x-storagemutated-1",jn=Ei(null,ji),Lm=(Gt.prototype._lock=function(){return U(!le.global),++this._reculock,this._reculock!==1||le.global||(le.lockOwnerFor=this),this},Gt.prototype._unlock=function(){if(U(!le.global),--this._reculock==0)for(le.global||(le.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var o=this._blockedFuncs.shift();try{rr(o[1],o[0])}catch{}}return this},Gt.prototype._locked=function(){return this._reculock&&le.lockOwnerFor!==this},Gt.prototype.create=function(o){var a=this;if(this.mode){var u=this.db.idbdb,c=this.db._state.dbOpenError;if(U(!this.idbtrans),!o&&!u)switch(c&&c.name){case"DatabaseClosedError":throw new ue.DatabaseClosed(c);case"MissingAPIError":throw new ue.MissingAPI(c.message,c);default:throw new ue.OpenFailed(c)}if(!this.active)throw new ue.TransactionInactive;U(this._completion._state===null),(o=this.idbtrans=o||(this.db.core||u).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=be(function(f){Ni(f),a._reject(o.error)}),o.onabort=be(function(f){Ni(f),a.active&&a._reject(new ue.Abort(o.error)),a.active=!1,a.on("abort").fire(f)}),o.oncomplete=be(function(){a.active=!1,a._resolve(),"mutatedParts"in o&&jn.storagemutated.fire(o.mutatedParts)})}return this},Gt.prototype._promise=function(o,a,u){var c,f=this;return o==="readwrite"&&this.mode!=="readwrite"?Ue(new ue.ReadOnly("Transaction is readonly")):this.active?this._locked()?new te(function(m,v){f._blockedFuncs.push([function(){f._promise(o,a,u).then(m,v)},le])}):u?kn(function(){var m=new te(function(v,g){f._lock();var C=a(v,g,f);C&&C.then&&C.then(v,g)});return m.finally(function(){return f._unlock()}),m._lib=!0,m}):((c=new te(function(m,v){var g=a(m,v,f);g&&g.then&&g.then(m,v)}))._lib=!0,c):Ue(new ue.TransactionInactive)},Gt.prototype._root=function(){return this.parent?this.parent._root():this},Gt.prototype.waitFor=function(o){var a,u=this._root(),c=te.resolve(o),f=(u._waitingFor?u._waitingFor=u._waitingFor.then(function(){return c}):(u._waitingFor=c,u._waitingQueue=[],a=u.idbtrans.objectStore(u.storeNames[0]),function m(){for(++u._spinCount;u._waitingQueue.length;)u._waitingQueue.shift()();u._waitingFor&&(a.get(-1/0).onsuccess=m)}()),u._waitingFor);return new te(function(m,v){c.then(function(g){return u._waitingQueue.push(be(m.bind(null,g)))},function(g){return u._waitingQueue.push(be(v.bind(null,g)))}).finally(function(){u._waitingFor===f&&(u._waitingFor=null)})})},Gt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ue.Abort))},Gt.prototype.table=function(o){var a=this._memoizedTables||(this._memoizedTables={});if(w(a,o))return a[o];var u=this.schema[o];if(u)return(u=new this.db.Table(o,u,this)).core=this.db.core.table(o),a[o]=u;throw new ue.NotFound("Table "+o+" not part of transaction")},Gt);function Gt(){}function La(o,a,u,c,f,m,v,g){return{name:o,keyPath:a,unique:u,multi:c,auto:f,compound:m,src:(u&&!v?"&":"")+(c?"*":"")+(f?"++":"")+Zc(a),type:g}}function Zc(o){return typeof o=="string"?o:o?"["+[].join.call(o,"+")+"]":""}function Ma(o,a,u){return{name:o,primKey:a,indexes:u,mappedClass:null,idxByName:(c=function(f){return[f.name,f]},u.reduce(function(f,m,v){return m=c(m,v),m&&(f[m[0]]=m[1]),f},{}))};var c}var Ci=function(o){try{return o.only([[]]),Ci=function(){return[[]]},[[]]}catch{return Ci=function(){return ir},ir}};function za(o){return o==null?function(){}:typeof o=="string"?(a=o).split(".").length===1?function(u){return u[a]}:function(u){return Z(u,a)}:function(u){return Z(u,o)};var a}function ed(o){return[].slice.call(o)}var Mm=0;function Pi(o){return o==null?":id":typeof o=="string"?o:"[".concat(o.join("+"),"]")}function zm(o,a,C){function c(I){if(I.type===3)return null;if(I.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var N=I.lower,T=I.upper,b=I.lowerOpen,I=I.upperOpen;return N===void 0?T===void 0?null:a.upperBound(T,!!I):T===void 0?a.lowerBound(N,!!b):a.bound(N,T,!!b,!!I)}function f(P){var N,T=P.name;return{name:T,schema:P,mutate:function(b){var I=b.trans,j=b.type,z=b.keys,B=b.values,A=b.range;return new Promise(function(W,V){W=be(W);var X=I.objectStore(T),J=X.keyPath==null,q=j==="put"||j==="add";if(!q&&j!=="delete"&&j!=="deleteRange")throw new Error("Invalid operation type: "+j);var oe,ne=(z||B||{length:1}).length;if(z&&B&&z.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(ne===0)return W({numFailures:0,failures:{},results:[],lastResult:void 0});function G(ze){++Se,Ni(ze)}var se=[],ge=[],Se=0;if(j==="deleteRange"){if(A.type===4)return W({numFailures:Se,failures:ge,results:[],lastResult:void 0});A.type===3?se.push(oe=X.clear()):se.push(oe=X.delete(c(A)))}else{var J=q?J?[B,z]:[B,null]:[z,null],ce=J[0],he=J[1];if(q)for(var Oe=0;Oe<ne;++Oe)se.push(oe=he&&he[Oe]!==void 0?X[j](ce[Oe],he[Oe]):X[j](ce[Oe])),oe.onerror=G;else for(Oe=0;Oe<ne;++Oe)se.push(oe=X[j](ce[Oe])),oe.onerror=G}function Tt(ze){ze=ze.target.result,se.forEach(function(lr,nl){return lr.error!=null&&(ge[nl]=lr.error)}),W({numFailures:Se,failures:ge,results:j==="delete"?z:se.map(function(lr){return lr.result}),lastResult:ze})}oe.onerror=function(ze){G(ze),Tt(ze)},oe.onsuccess=Tt})},getMany:function(b){var I=b.trans,j=b.keys;return new Promise(function(z,B){z=be(z);for(var A,W=I.objectStore(T),V=j.length,X=new Array(V),J=0,q=0,oe=function(se){se=se.target,X[se._pos]=se.result,++q===J&&z(X)},ne=Qt(B),G=0;G<V;++G)j[G]!=null&&((A=W.get(j[G]))._pos=G,A.onsuccess=oe,A.onerror=ne,++J);J===0&&z(X)})},get:function(b){var I=b.trans,j=b.key;return new Promise(function(z,B){z=be(z);var A=I.objectStore(T).get(j);A.onsuccess=function(W){return z(W.target.result)},A.onerror=Qt(B)})},query:(N=g,function(b){return new Promise(function(I,j){I=be(I);var z,B,A,q=b.trans,W=b.values,V=b.limit,J=b.query,X=V===1/0?void 0:V,oe=J.index,J=J.range,q=q.objectStore(T),q=oe.isPrimaryKey?q:q.index(oe.name),oe=c(J);if(V===0)return I({result:[]});N?((J=W?q.getAll(oe,X):q.getAllKeys(oe,X)).onsuccess=function(ne){return I({result:ne.target.result})},J.onerror=Qt(j)):(z=0,B=!W&&"openKeyCursor"in q?q.openKeyCursor(oe):q.openCursor(oe),A=[],B.onsuccess=function(ne){var G=B.result;return!G||(A.push(W?G.value:G.primaryKey),++z===V)?I({result:A}):void G.continue()},B.onerror=Qt(j))})}),openCursor:function(b){var I=b.trans,j=b.values,z=b.query,B=b.reverse,A=b.unique;return new Promise(function(W,V){W=be(W);var q=z.index,X=z.range,J=I.objectStore(T),J=q.isPrimaryKey?J:J.index(q.name),q=B?A?"prevunique":"prev":A?"nextunique":"next",oe=!j&&"openKeyCursor"in J?J.openKeyCursor(c(X),q):J.openCursor(c(X),q);oe.onerror=Qt(V),oe.onsuccess=be(function(ne){var G,se,ge,Se,ce=oe.result;ce?(ce.___id=++Mm,ce.done=!1,G=ce.continue.bind(ce),se=(se=ce.continuePrimaryKey)&&se.bind(ce),ge=ce.advance.bind(ce),Se=function(){throw new Error("Cursor not stopped")},ce.trans=I,ce.stop=ce.continue=ce.continuePrimaryKey=ce.advance=function(){throw new Error("Cursor not started")},ce.fail=be(V),ce.next=function(){var he=this,Oe=1;return this.start(function(){return Oe--?he.continue():he.stop()}).then(function(){return he})},ce.start=function(he){function Oe(){if(oe.result)try{he()}catch(ze){ce.fail(ze)}else ce.done=!0,ce.start=function(){throw new Error("Cursor behind last entry")},ce.stop()}var Tt=new Promise(function(ze,lr){ze=be(ze),oe.onerror=Qt(lr),ce.fail=lr,ce.stop=function(nl){ce.stop=ce.continue=ce.continuePrimaryKey=ce.advance=Se,ze(nl)}});return oe.onsuccess=be(function(ze){oe.onsuccess=Oe,Oe()}),ce.continue=G,ce.continuePrimaryKey=se,ce.advance=ge,Oe(),Tt},W(ce)):W(null)},V)})},count:function(b){var I=b.query,j=b.trans,z=I.index,B=I.range;return new Promise(function(A,W){var V=j.objectStore(T),V=z.isPrimaryKey?V:V.index(z.name),X=c(B),X=X?V.count(X):V.count();X.onsuccess=be(function(J){return A(J.target.result)}),X.onerror=Qt(W)})}}}m=C,v=ed((C=o).objectStoreNames);var m,C={schema:{name:C.name,tables:v.map(function(P){return m.objectStore(P)}).map(function(P){var N=P.keyPath,T=P.autoIncrement,I=d(N),b={},I={name:P.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:N==null,compound:I,keyPath:N,autoIncrement:T,unique:!0,extractKey:za(N)},indexes:ed(P.indexNames).map(function(j){return P.index(j)}).map(function(A){var W=A.name,z=A.unique,B=A.multiEntry,A=A.keyPath,W={name:W,compound:d(A),keyPath:A,unique:z,multiEntry:B,extractKey:za(A)};return b[Pi(A)]=W}),getIndexByKeyPath:function(j){return b[Pi(j)]}};return b[":id"]=I.primaryKey,N!=null&&(b[Pi(N)]=I.primaryKey),I})},hasGetAll:0<v.length&&"getAll"in m.objectStore(v[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)},v=C.schema,g=C.hasGetAll,C=v.tables.map(f),M={};return C.forEach(function(P){return M[P.name]=P}),{stack:"dbcore",transaction:o.transaction.bind(o),table:function(P){if(M[P])return M[P];throw new Error("Table '".concat(P,"' not found"))},MIN_KEY:-1/0,MAX_KEY:Ci(a),schema:v}}function Bm(o,a,u,c){return u=u.IDBKeyRange,a=zm(a,u,c),{dbcore:o.dbcore.reduce(function(f,m){return m=m.create,r(r({},f),m(f))},a)}}function zo(o,a){var u=a.db,u=Bm(o._middlewares,u,o._deps,a);o.core=u.dbcore,o.tables.forEach(function(c){var f=c.name;o.core.schema.tables.some(function(m){return m.name===f})&&(c.core=o.core.table(f),o[f]instanceof o.Table)&&(o[f].core=c.core)})}function Bo(o,a,u,c){u.forEach(function(f){var m=c[f];a.forEach(function(v){var g=function C(M,P){return L(M,P)||(M=y(M))&&C(M,P)}(v,f);(!g||"value"in g&&g.value===void 0)&&(v===o.Transaction.prototype||v instanceof o.Transaction?O(v,f,{get:function(){return this.table(f)},set:function(C){D(this,f,{value:C,writable:!0,configurable:!0,enumerable:!0})}}):v[f]=new o.Table(f,m))})})}function Ba(o,a){a.forEach(function(u){for(var c in u)u[c]instanceof o.Table&&delete u[c]})}function Fm(o,a){return o._cfg.version-a._cfg.version}function Um(o,a,u,c){var f=o._dbSchema,m=(u.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=Ma("$meta",nd("")[0],[]),o._storeNames.push("$meta")),o._createTransaction("readwrite",o._storeNames,f)),v=(m.create(u),m._completion.catch(c),m._reject.bind(m)),g=le.transless||le;kn(function(){if(le.trans=m,le.transless=g,a!==0)return zo(o,u),M=a,((C=m).storeNames.includes("$meta")?C.table("$meta").get("version").then(function(P){return P??M}):te.resolve(M)).then(function(z){var N=o,T=z,b=m,I=u,j=[],z=N._versions,B=N._dbSchema=Uo(0,N.idbdb,I);return(z=z.filter(function(A){return A._cfg.version>=T})).length===0?te.resolve():(z.forEach(function(A){j.push(function(){var W,V,X,J=B,q=A._cfg.dbschema,oe=(Ko(N,J,I),Ko(N,q,I),B=N._dbSchema=q,Fa(J,q)),ne=(oe.add.forEach(function(G){Ua(I,G[0],G[1].primKey,G[1].indexes)}),oe.change.forEach(function(G){if(G.recreate)throw new ue.Upgrade("Not yet support for changing primary key");var se=I.objectStore(G.name);G.add.forEach(function(ge){return Fo(se,ge)}),G.change.forEach(function(ge){se.deleteIndex(ge.name),Fo(se,ge)}),G.del.forEach(function(ge){return se.deleteIndex(ge)})}),A._cfg.contentUpgrade);if(ne&&A._cfg.version>T)return zo(N,I),b._memoizedTables={},W=ie(q),oe.del.forEach(function(G){W[G]=J[G]}),Ba(N,[N.Transaction.prototype]),Bo(N,[N.Transaction.prototype],l(W),W),b.schema=W,(V=Y(ne))&&Pr(),q=te.follow(function(){var G;(X=ne(b))&&V&&(G=En.bind(null,null),X.then(G,G))}),X&&typeof X.then=="function"?te.resolve(X):q.then(function(){return X})}),j.push(function(W){var V,X,J=A._cfg.dbschema;V=J,X=W,[].slice.call(X.db.objectStoreNames).forEach(function(q){return V[q]==null&&X.db.deleteObjectStore(q)}),Ba(N,[N.Transaction.prototype]),Bo(N,[N.Transaction.prototype],N._storeNames,N._dbSchema),b.schema=N._dbSchema}),j.push(function(W){N.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(N.idbdb.version/10)===A._cfg.version?(N.idbdb.deleteObjectStore("$meta"),delete N._dbSchema.$meta,N._storeNames=N._storeNames.filter(function(V){return V!=="$meta"})):W.objectStore("$meta").put(A._cfg.version,"version"))})}),function A(){return j.length?te.resolve(j.shift()(b.idbtrans)).then(A):te.resolve()}().then(function(){td(B,I)}))}).catch(v);var C,M;l(f).forEach(function(P){Ua(u,P,f[P].primKey,f[P].indexes)}),zo(o,u),te.follow(function(){return o.on.populate.fire(m)}).catch(v)})}function Km(o,a){td(o._dbSchema,a),a.db.version%10!=0||a.objectStoreNames.contains("$meta")||a.db.createObjectStore("$meta").add(Math.ceil(a.db.version/10-1),"version");var u=Uo(0,o.idbdb,a);Ko(o,o._dbSchema,a);for(var c=0,f=Fa(u,o._dbSchema).change;c<f.length;c++){var m=(v=>{if(v.change.length||v.recreate)return console.warn("Unable to patch indexes of table ".concat(v.name," because it has changes on the type of index or primary key.")),{value:void 0};var g=a.objectStore(v.name);v.add.forEach(function(C){Ht&&console.debug("Dexie upgrade patch: Creating missing index ".concat(v.name,".").concat(C.src)),Fo(g,C)})})(f[c]);if(typeof m=="object")return m.value}}function Fa(o,a){var u,c={del:[],add:[],change:[]};for(u in o)a[u]||c.del.push(u);for(u in a){var f=o[u],m=a[u];if(f){var v={name:u,def:m,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(m.primKey.keyPath||"")||f.primKey.auto!==m.primKey.auto)v.recreate=!0,c.change.push(v);else{var g=f.idxByName,C=m.idxByName,M=void 0;for(M in g)C[M]||v.del.push(M);for(M in C){var P=g[M],N=C[M];P?P.src!==N.src&&v.change.push(N):v.add.push(N)}(0<v.del.length||0<v.add.length||0<v.change.length)&&c.change.push(v)}}else c.add.push([u,m])}return c}function Ua(o,a,u,c){var f=o.db.createObjectStore(a,u.keyPath?{keyPath:u.keyPath,autoIncrement:u.auto}:{autoIncrement:u.auto});c.forEach(function(m){return Fo(f,m)})}function td(o,a){l(o).forEach(function(u){a.db.objectStoreNames.contains(u)||(Ht&&console.debug("Dexie: Creating missing table",u),Ua(a,u,o[u].primKey,o[u].indexes))})}function Fo(o,a){o.createIndex(a.name,a.keyPath,{unique:a.unique,multiEntry:a.multi})}function Uo(o,a,u){var c={};return x(a.objectStoreNames,0).forEach(function(f){for(var m=u.objectStore(f),v=La(Zc(M=m.keyPath),M||"",!0,!1,!!m.autoIncrement,M&&typeof M!="string",!0),g=[],C=0;C<m.indexNames.length;++C){var P=m.index(m.indexNames[C]),M=P.keyPath,P=La(P.name,M,!!P.unique,!!P.multiEntry,!1,M&&typeof M!="string",!1);g.push(P)}c[f]=Ma(f,v,g)}),c}function Ko(o,a,u){for(var c=u.db.objectStoreNames,f=0;f<c.length;++f){var m=c[f],v=u.objectStore(m);o._hasGetAll="getAll"in v;for(var g=0;g<v.indexNames.length;++g){var C,M=v.indexNames[g],P=v.index(M).keyPath,P=typeof P=="string"?P:"["+x(P).join("+")+"]";a[m]&&(C=a[m].idxByName[P])&&(C.name=M,delete a[m].idxByName[P],a[m].idxByName[M]=C)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(o._hasGetAll=!1)}function nd(o){return o.split(",").map(function(a,u){var f=a.split(":"),c=(c=f[1])==null?void 0:c.trim(),f=(a=f[0].trim()).replace(/([&*]|\+\+)/g,""),m=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return La(f,m||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),d(m),u===0,c)})}Rr.prototype._createTableSchema=Ma,Rr.prototype._parseIndexSyntax=nd,Rr.prototype._parseStoresSpec=function(o,a){var u=this;l(o).forEach(function(c){if(o[c]!==null){var f=u._parseIndexSyntax(o[c]),m=f.shift();if(!m)throw new ue.Schema("Invalid schema for table "+c+": "+o[c]);if(m.unique=!0,m.multi)throw new ue.Schema("Primary key cannot be multiEntry*");f.forEach(function(v){if(v.auto)throw new ue.Schema("Only primary key can be marked as autoIncrement (++)");if(!v.keyPath)throw new ue.Schema("Index must have a name and cannot be an empty string")}),m=u._createTableSchema(c,m,f),a[c]=m}})},Rr.prototype.stores=function(u){var a=this.db,u=(this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,u):u,a._versions),c={},f={};return u.forEach(function(m){p(c,m._cfg.storesSource),f=m._cfg.dbschema={},m._parseStoresSpec(c,f)}),a._dbSchema=f,Ba(a,[a._allTables,a,a.Transaction.prototype]),Bo(a,[a._allTables,a,a.Transaction.prototype,this._cfg.tables],l(f),f),a._storeNames=l(f),this},Rr.prototype.upgrade=function(o){return this._cfg.contentUpgrade=ka(this._cfg.contentUpgrade||Ee,o),this};var Wm=Rr;function Rr(){}function Ka(o,a){var u=o._dbNamesDB;return u||(u=o._dbNamesDB=new sn(Ro,{addons:[],indexedDB:o,IDBKeyRange:a})).version(1).stores({dbnames:"name"}),u.table("dbnames")}function Wa(o){return o&&typeof o.databases=="function"}function $a(o){return kn(function(){return le.letThrough=!0,o()})}function Va(o){return!("from"in o)}var at=function(o,a){var u;if(!this)return u=new at,o&&"d"in o&&p(u,o),u;p(this,arguments.length?{d:1,from:o,to:1<arguments.length?a:o}:{d:0})};function Ii(o,a,u){var c=ve(a,u);if(!isNaN(c)){if(0<c)throw RangeError();if(Va(o))return p(o,{from:a,to:u,d:1});var c=o.l,f=o.r;if(ve(u,o.from)<0)return c?Ii(c,a,u):o.l={from:a,to:u,d:1,l:null,r:null},id(o);if(0<ve(a,o.to))return f?Ii(f,a,u):o.r={from:a,to:u,d:1,l:null,r:null},id(o);ve(a,o.from)<0&&(o.from=a,o.l=null,o.d=f?f.d+1:1),0<ve(u,o.to)&&(o.to=u,o.r=null,o.d=o.l?o.l.d+1:1),a=!o.r,c&&!o.l&&Ti(o,c),f&&a&&Ti(o,f)}}function Ti(o,a){Va(a)||function u(c,f){var m=f.from,v=f.l,g=f.r;Ii(c,m,f.to),v&&u(c,v),g&&u(c,g)}(o,a)}function rd(o,a){var u=Wo(a),c=u.next();if(!c.done)for(var f=c.value,m=Wo(o),v=m.next(f.from),g=v.value;!c.done&&!v.done;){if(ve(g.from,f.to)<=0&&0<=ve(g.to,f.from))return!0;ve(f.from,g.from)<0?f=(c=u.next(g.from)).value:g=(v=m.next(f.from)).value}return!1}function Wo(o){var a=Va(o)?null:{s:0,n:o};return{next:function(u){for(var c=0<arguments.length;a;)switch(a.s){case 0:if(a.s=1,c)for(;a.n.l&&ve(u,a.n.from)<0;)a={up:a,n:a.n.l,s:1};else for(;a.n.l;)a={up:a,n:a.n.l,s:1};case 1:if(a.s=2,!c||ve(u,a.n.to)<=0)return{value:a.n,done:!1};case 2:if(a.n.r){a.s=3,a={up:a,n:a.n.r,s:0};continue}case 3:a=a.up}return{done:!0}}}}function id(o){var a,u,c,f=(((f=o.r)==null?void 0:f.d)||0)-(((f=o.l)==null?void 0:f.d)||0),f=1<f?"r":f<-1?"l":"";f&&(a=f=="r"?"l":"r",u=r({},o),c=o[f],o.from=c.from,o.to=c.to,o[f]=c[f],u[f]=c[a],(o[a]=u).d=od(u)),o.d=od(o)}function od(u){var a=u.r,u=u.l;return(a?u?Math.max(a.d,u.d):a.d:u?u.d:0)+1}function $o(o,a){return l(a).forEach(function(u){o[u]?Ti(o[u],a[u]):o[u]=function c(f){var m,v,g={};for(m in f)w(f,m)&&(v=f[m],g[m]=!v||typeof v!="object"||_e.has(v.constructor)?v:c(v));return g}(a[u])}),o}function qa(o,a){return o.all||a.all||Object.keys(o).some(function(u){return a[u]&&rd(a[u],o[u])})}_(at.prototype,((St={add:function(o){return Ti(this,o),this},addKey:function(o){return Ii(this,o,o),this},addKeys:function(o){var a=this;return o.forEach(function(u){return Ii(a,u,u)}),this},hasKey:function(o){var a=Wo(this).next(o).value;return a&&ve(a.from,o)<=0&&0<=ve(a.to,o)}})[rn]=function(){return Wo(this)},St));var sr={},Ha={},Qa=!1;function Vo(o){$o(Ha,o),Qa||(Qa=!0,setTimeout(function(){Qa=!1,Ga(Ha,!(Ha={}))},0))}function Ga(o,a){a===void 0&&(a=!1);var u=new Set;if(o.all)for(var c=0,f=Object.values(sr);c<f.length;c++)sd(g=f[c],o,u,a);else for(var m in o){var v,g,m=/^idb\:\/\/(.*)\/(.*)\//.exec(m);m&&(v=m[1],m=m[2],g=sr["idb://".concat(v,"/").concat(m)])&&sd(g,o,u,a)}u.forEach(function(C){return C()})}function sd(o,a,u,c){for(var f=[],m=0,v=Object.entries(o.queries.query);m<v.length;m++){for(var g=v[m],C=g[0],M=[],P=0,N=g[1];P<N.length;P++){var T=N[P];qa(a,T.obsSet)?T.subscribers.forEach(function(z){return u.add(z)}):c&&M.push(T)}c&&f.push([C,M])}if(c)for(var b=0,I=f;b<I.length;b++){var j=I[b],C=j[0],M=j[1];o.queries.query[C]=M}}function $m(o){var a=o._state,u=o._deps.indexedDB;if(a.isBeingOpened||o.idbdb)return a.dbReadyPromise.then(function(){return a.dbOpenError?Ue(a.dbOpenError):o});a.isBeingOpened=!0,a.dbOpenError=null,a.openComplete=!1;var c=a.openCanceller,f=Math.round(10*o.verno),m=!1;function v(){if(a.openCanceller!==c)throw new ue.DatabaseClosed("db.open() was cancelled")}function g(){return new te(function(T,b){if(v(),!u)throw new ue.MissingAPI;var I=o.name,j=a.autoSchema||!f?u.open(I):u.open(I,f);if(!j)throw new ue.MissingAPI;j.onerror=Qt(b),j.onblocked=be(o._fireOnBlocked),j.onupgradeneeded=be(function(z){var B;P=j.transaction,a.autoSchema&&!o._options.allowEmptyDB?(j.onerror=Ni,P.abort(),j.result.close(),(B=u.deleteDatabase(I)).onsuccess=B.onerror=be(function(){b(new ue.NoSuchDatabase("Database ".concat(I," doesnt exist")))})):(P.onerror=Qt(b),B=z.oldVersion>Math.pow(2,62)?0:z.oldVersion,N=B<1,o.idbdb=j.result,m&&Km(o,P),Um(o,B/10,P,b))},b),j.onsuccess=be(function(){P=null;var z,B,A,W,V,X,J=o.idbdb=j.result,q=x(J.objectStoreNames);if(0<q.length)try{var oe=J.transaction((V=q).length===1?V[0]:V,"readonly");if(a.autoSchema)X=J,W=oe,(A=o).verno=X.version/10,W=A._dbSchema=Uo(0,X,W),A._storeNames=x(X.objectStoreNames,0),Bo(A,[A._allTables],l(W),W);else if(Ko(o,o._dbSchema,oe),B=oe,((B=Fa(Uo(0,(z=o).idbdb,B),z._dbSchema)).add.length||B.change.some(function(ne){return ne.add.length||ne.change.length}))&&!m)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),J.close(),f=J.version+1,m=!0,T(g());zo(o,oe)}catch{}Ir.push(o),J.onversionchange=be(function(ne){a.vcFired=!0,o.on("versionchange").fire(ne)}),J.onclose=be(function(){o.close({disableAutoOpen:!1})}),N&&(q=o._deps,V=I,Wa(X=q.indexedDB)||V===Ro||Ka(X,q.IDBKeyRange).put({name:V}).catch(Ee)),T()},b)}).catch(function(T){switch(T==null?void 0:T.name){case"UnknownError":if(0<a.PR1398_maxLoop)return a.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),g();break;case"VersionError":if(0<f)return f=0,g()}return te.reject(T)})}var C,M=a.dbReadyResolve,P=null,N=!1;return te.race([c,(typeof navigator>"u"?te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(T){function b(){return indexedDB.databases().finally(T)}C=setInterval(b,100),b()}).finally(function(){return clearInterval(C)}):Promise.resolve()).then(g)]).then(function(){return v(),a.onReadyBeingFired=[],te.resolve($a(function(){return o.on.ready.fire(o.vip)})).then(function T(){var b;if(0<a.onReadyBeingFired.length)return b=a.onReadyBeingFired.reduce(ka,Ee),a.onReadyBeingFired=[],te.resolve($a(function(){return b(o.vip)})).then(T)})}).finally(function(){a.openCanceller===c&&(a.onReadyBeingFired=null,a.isBeingOpened=!1)}).catch(function(T){a.dbOpenError=T;try{P&&P.abort()}catch{}return c===a.openCanceller&&o._close(),Ue(T)}).finally(function(){a.openComplete=!0,M()}).then(function(){var T;return N&&(T={},o.tables.forEach(function(b){b.schema.indexes.forEach(function(I){I.name&&(T["idb://".concat(o.name,"/").concat(b.name,"/").concat(I.name)]=new at(-1/0,[[[]]]))}),T["idb://".concat(o.name,"/").concat(b.name,"/")]=T["idb://".concat(o.name,"/").concat(b.name,"/:dels")]=new at(-1/0,[[[]]])}),jn(ji).fire(T),Ga(T,!0)),o})}function Ya(o){function a(m){return o.next(m)}var u=f(a),c=f(function(m){return o.throw(m)});function f(m){return function(g){var g=m(g),C=g.value;return g.done?C:C&&typeof C.then=="function"?C.then(u,c):d(C)?Promise.all(C).then(u,c):u(C)}}return f(a)()}function qo(o,a,u){for(var c=d(o)?o.slice():[o],f=0;f<u;++f)c.push(a);return c}var Vm={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(o){return r(r({},o),{table:function(c){var u=o.table(c),c=u.schema,f={},m=[];function v(T,b,I){var A=Pi(T),j=f[A]=f[A]||[],z=T==null?0:typeof T=="string"?1:T.length,B=0<b,A=r(r({},I),{name:B?"".concat(A,"(virtual-from:").concat(I.name,")"):I.name,lowLevelIndex:I,isVirtual:B,keyTail:b,keyLength:z,extractKey:za(T),unique:!B&&I.unique});return j.push(A),A.isPrimaryKey||m.push(A),1<z&&v(z===2?T[0]:T.slice(0,z-1),b+1,I),j.sort(function(W,V){return W.keyTail-V.keyTail}),A}var g=v(c.primaryKey.keyPath,0,c.primaryKey);f[":id"]=[g];for(var C=0,M=c.indexes;C<M.length;C++){var P=M[C];v(P.keyPath,0,P)}function N(T){var b,I=T.query.index;return I.isVirtual?r(r({},T),{query:{index:I.lowLevelIndex,range:(b=T.query.range,I=I.keyTail,{type:b.type===1?2:b.type,lower:qo(b.lower,b.lowerOpen?o.MAX_KEY:o.MIN_KEY,I),lowerOpen:!0,upper:qo(b.upper,b.upperOpen?o.MIN_KEY:o.MAX_KEY,I),upperOpen:!0})}}):T}return r(r({},u),{schema:r(r({},c),{primaryKey:g,indexes:m,getIndexByKeyPath:function(T){return(T=f[Pi(T)])&&T[0]}}),count:function(T){return u.count(N(T))},query:function(T){return u.query(N(T))},openCursor:function(T){var b=T.query.index,I=b.keyTail,j=b.keyLength;return b.isVirtual?u.openCursor(N(T)).then(function(B){return B&&z(B)}):u.openCursor(T);function z(B){return Object.create(B,{continue:{value:function(A){A!=null?B.continue(qo(A,T.reverse?o.MAX_KEY:o.MIN_KEY,I)):T.unique?B.continue(B.key.slice(0,j).concat(T.reverse?o.MIN_KEY:o.MAX_KEY,I)):B.continue()}},continuePrimaryKey:{value:function(A,W){B.continuePrimaryKey(qo(A,o.MAX_KEY,I),W)}},primaryKey:{get:function(){return B.primaryKey}},key:{get:function(){var A=B.key;return j===1?A[0]:A.slice(0,j)}},value:{get:function(){return B.value}}})}}})}})}};function Xa(o,a,u,c){return u=u||{},c=c||"",l(o).forEach(function(f){var m,v,g;w(a,f)?(m=o[f],v=a[f],typeof m=="object"&&typeof v=="object"&&m&&v?(g=Vt(m))!==Vt(v)?u[c+f]=a[f]:g==="Object"?Xa(m,v,u,c+f+"."):m!==v&&(u[c+f]=a[f]):m!==v&&(u[c+f]=a[f])):u[c+f]=void 0}),l(a).forEach(function(f){w(o,f)||(u[c+f]=a[f])}),u}function Ja(o,a){return a.type==="delete"?a.keys:a.keys||a.values.map(o.extractKey)}var qm={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(o){return r(r({},o),{table:function(a){var u=o.table(a),c=u.schema.primaryKey;return r(r({},u),{mutate:function(f){var m=le.trans,v=m.table(a).hook,g=v.deleting,C=v.creating,M=v.updating;switch(f.type){case"add":if(C.fire===Ee)break;return m._promise("readwrite",function(){return P(f)},!0);case"put":if(C.fire===Ee&&M.fire===Ee)break;return m._promise("readwrite",function(){return P(f)},!0);case"delete":if(g.fire===Ee)break;return m._promise("readwrite",function(){return P(f)},!0);case"deleteRange":if(g.fire===Ee)break;return m._promise("readwrite",function(){return function N(T,b,I){return u.query({trans:T,values:!1,query:{index:c,range:b},limit:I}).then(function(j){var z=j.result;return P({type:"delete",keys:z,trans:T}).then(function(B){return 0<B.numFailures?Promise.reject(B.failures[0]):z.length<I?{failures:[],numFailures:0,lastResult:void 0}:N(T,r(r({},b),{lower:z[z.length-1],lowerOpen:!0}),I)})})}(f.trans,f.range,1e4)},!0)}return u.mutate(f);function P(N){var T,b,I,j=le.trans,z=N.keys||Ja(c,N);if(z)return(N=N.type==="add"||N.type==="put"?r(r({},N),{keys:z}):r({},N)).type!=="delete"&&(N.values=i([],N.values)),N.keys&&(N.keys=i([],N.keys)),T=u,I=z,((b=N).type==="add"?Promise.resolve([]):T.getMany({trans:b.trans,keys:I,cache:"immutable"})).then(function(B){var A=z.map(function(W,V){var X,J,q,oe=B[V],ne={onerror:null,onsuccess:null};return N.type==="delete"?g.fire.call(ne,W,oe,j):N.type==="add"||oe===void 0?(X=C.fire.call(ne,W,N.values[V],j),W==null&&X!=null&&(N.keys[V]=W=X,c.outbound||$(N.values[V],c.keyPath,W))):(X=Xa(oe,N.values[V]),(J=M.fire.call(ne,X,W,oe,j))&&(q=N.values[V],Object.keys(J).forEach(function(G){w(q,G)?q[G]=J[G]:$(q,G,J[G])}))),ne});return u.mutate(N).then(function(W){for(var V=W.failures,X=W.results,J=W.numFailures,W=W.lastResult,q=0;q<z.length;++q){var oe=(X||z)[q],ne=A[q];oe==null?ne.onerror&&ne.onerror(V[q]):ne.onsuccess&&ne.onsuccess(N.type==="put"&&B[q]?N.values[q]:oe)}return{failures:V,results:X,numFailures:J,lastResult:W}}).catch(function(W){return A.forEach(function(V){return V.onerror&&V.onerror(W)}),Promise.reject(W)})});throw new Error("Keys missing")}}})}})}};function ad(o,a,u){try{if(!a||a.keys.length<o.length)return null;for(var c=[],f=0,m=0;f<a.keys.length&&m<o.length;++f)ve(a.keys[f],o[m])===0&&(c.push(u?ke(a.values[f]):a.values[f]),++m);return c.length===o.length?c:null}catch{return null}}var Hm={stack:"dbcore",level:-1,create:function(o){return{table:function(a){var u=o.table(a);return r(r({},u),{getMany:function(c){var f;return c.cache?(f=ad(c.keys,c.trans._cache,c.cache==="clone"))?te.resolve(f):u.getMany(c).then(function(m){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?ke(m):m},m}):u.getMany(c)},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),u.mutate(c)}})}}}};function ld(o,a){return o.trans.mode==="readonly"&&!!o.subscr&&!o.trans.explicit&&o.trans.db._options.cache!=="disabled"&&!a.schema.primaryKey.outbound}function ud(o,a){switch(o){case"query":return a.values&&!a.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Qm={stack:"dbcore",level:0,name:"Observability",create:function(o){var a=o.schema.name,u=new at(o.MIN_KEY,o.MAX_KEY);return r(r({},o),{transaction:function(c,f,m){if(le.subscr&&f!=="readonly")throw new ue.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(le.querier));return o.transaction(c,f,m)},table:function(c){function f(z){var j,z=z.query;return[j=z.index,new at((j=(z=z.range).lower)!=null?j:o.MIN_KEY,(j=z.upper)!=null?j:o.MAX_KEY)]}var m=o.table(c),v=m.schema,g=v.primaryKey,C=v.indexes,M=g.extractKey,P=g.outbound,N=g.autoIncrement&&C.filter(function(I){return I.compound&&I.keyPath.includes(g.keyPath)}),T=r(r({},m),{mutate:function(I){function j(se){return se="idb://".concat(a,"/").concat(c,"/").concat(se),V[se]||(V[se]=new at)}var z,B,A,W=I.trans,V=I.mutatedParts||(I.mutatedParts={}),X=j(""),J=j(":dels"),q=I.type,ne=I.type==="deleteRange"?[I.range]:I.type==="delete"?[I.keys]:I.values.length<50?[Ja(g,I).filter(function(se){return se}),I.values]:[],oe=ne[0],ne=ne[1],G=I.trans._cache;return d(oe)?(X.addKeys(oe),(q=q==="delete"||oe.length===ne.length?ad(oe,G):null)||J.addKeys(oe),(q||ne)&&(z=j,B=q,A=ne,v.indexes.forEach(function(se){var ge=z(se.name||"");function Se(he){return he!=null?se.extractKey(he):null}function ce(he){se.multiEntry&&d(he)?he.forEach(function(Oe){return ge.addKey(Oe)}):ge.addKey(he)}(B||A).forEach(function(he,ze){var Tt=B&&Se(B[ze]),ze=A&&Se(A[ze]);ve(Tt,ze)!==0&&(Tt!=null&&ce(Tt),ze!=null)&&ce(ze)})}))):oe?(ne={from:(G=oe.lower)!=null?G:o.MIN_KEY,to:(q=oe.upper)!=null?q:o.MAX_KEY},J.add(ne),X.add(ne)):(X.add(u),J.add(u),v.indexes.forEach(function(se){return j(se.name).add(u)})),m.mutate(I).then(function(se){return!oe||I.type!=="add"&&I.type!=="put"||(X.addKeys(se.results),N&&N.forEach(function(ge){for(var Se=I.values.map(function(Tt){return ge.extractKey(Tt)}),ce=ge.keyPath.findIndex(function(Tt){return Tt===g.keyPath}),he=0,Oe=se.results.length;he<Oe;++he)Se[he][ce]=se.results[he];j(ge.name).addKeys(Se)})),W.mutatedParts=$o(W.mutatedParts||{},V),se})}}),b={get:function(I){return[g,new at(I.key)]},getMany:function(I){return[g,new at().addKeys(I.keys)]},count:f,query:f,openCursor:f};return l(b).forEach(function(I){T[I]=function(j){var z=le.subscr,B=!!z,A=ld(le,m)&&ud(I,j)?j.obsSet={}:z;if(B){var W,z=function(ne){return ne="idb://".concat(a,"/").concat(c,"/").concat(ne),A[ne]||(A[ne]=new at)},V=z(""),X=z(":dels"),B=b[I](j),J=B[0],B=B[1];if((I==="query"&&J.isPrimaryKey&&!j.values?X:z(J.name||"")).add(B),!J.isPrimaryKey){if(I!=="count")return W=I==="query"&&P&&j.values&&m.query(r(r({},j),{values:!1})),m[I].apply(this,arguments).then(function(ne){if(I==="query"){if(P&&j.values)return W.then(function(Se){return Se=Se.result,V.addKeys(Se),ne});var G=j.values?ne.result.map(M):ne.result;(j.values?V:X).addKeys(G)}else{var se,ge;if(I==="openCursor")return ge=j.values,(se=ne)&&Object.create(se,{key:{get:function(){return X.addKey(se.primaryKey),se.key}},primaryKey:{get:function(){var Se=se.primaryKey;return X.addKey(Se),Se}},value:{get:function(){return ge&&V.addKey(se.primaryKey),se.value}}})}return ne});X.add(u)}}return m[I].apply(this,arguments)}}),T}})}};function cd(o,a,u){var c;return u.numFailures===0?a:a.type==="deleteRange"||(c=a.keys?a.keys.length:"values"in a&&a.values?a.values.length:1,u.numFailures===c)?null:(c=r({},a),d(c.keys)&&(c.keys=c.keys.filter(function(f,m){return!(m in u.failures)})),"values"in c&&d(c.values)&&(c.values=c.values.filter(function(f,m){return!(m in u.failures)})),c)}function Za(o,a){return u=o,((c=a).lower===void 0||(c.lowerOpen?0<ve(u,c.lower):0<=ve(u,c.lower)))&&(u=o,(c=a).upper===void 0||(c.upperOpen?ve(u,c.upper)<0:ve(u,c.upper)<=0));var u,c}function dd(o,a,u,c,f,m){var v,g,C,M,P,N;return!u||u.length===0||(v=a.query.index,g=v.multiEntry,C=a.query.range,M=c.schema.primaryKey.extractKey,P=v.extractKey,N=(v.lowLevelIndex||v).extractKey,(c=u.reduce(function(T,b){var I=T,j=[];if(b.type==="add"||b.type==="put")for(var z=new at,B=b.values.length-1;0<=B;--B){var A,W=b.values[B],V=M(W);!z.hasKey(V)&&(A=P(W),g&&d(A)?A.some(function(ne){return Za(ne,C)}):Za(A,C))&&(z.addKey(V),j.push(W))}switch(b.type){case"add":var X=new at().addKeys(a.values?T.map(function(G){return M(G)}):T),I=T.concat(a.values?j.filter(function(G){return G=M(G),!X.hasKey(G)&&(X.addKey(G),!0)}):j.map(function(G){return M(G)}).filter(function(G){return!X.hasKey(G)&&(X.addKey(G),!0)}));break;case"put":var J=new at().addKeys(b.values.map(function(G){return M(G)}));I=T.filter(function(G){return!J.hasKey(a.values?M(G):G)}).concat(a.values?j:j.map(function(G){return M(G)}));break;case"delete":var q=new at().addKeys(b.keys);I=T.filter(function(G){return!q.hasKey(a.values?M(G):G)});break;case"deleteRange":var oe=b.range;I=T.filter(function(G){return!Za(M(G),oe)})}return I},o))===o)?o:(c.sort(function(T,b){return ve(N(T),N(b))||ve(M(T),M(b))}),a.limit&&a.limit<1/0&&(c.length>a.limit?c.length=a.limit:o.length===a.limit&&c.length<a.limit&&(f.dirty=!0)),m?Object.freeze(c):c)}function fd(o,a){return ve(o.lower,a.lower)===0&&ve(o.upper,a.upper)===0&&!!o.lowerOpen==!!a.lowerOpen&&!!o.upperOpen==!!a.upperOpen}function Gm(o,a){return((u,c,f,m)=>{if(u===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((u=ve(u,c))===0){if(f&&m)return 0;if(f)return 1;if(m)return-1}return u})(o.lower,a.lower,o.lowerOpen,a.lowerOpen)<=0&&0<=((u,c,f,m)=>{if(u===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((u=ve(u,c))===0){if(f&&m)return 0;if(f)return-1;if(m)return 1}return u})(o.upper,a.upper,o.upperOpen,a.upperOpen)}function Ym(o,a,u,c){o.subscribers.add(u),c.addEventListener("abort",function(){var f,m;o.subscribers.delete(u),o.subscribers.size===0&&(f=o,m=a,setTimeout(function(){f.subscribers.size===0&&ee(m,f)},3e3))})}var Xm={stack:"dbcore",level:0,name:"Cache",create:function(o){var a=o.schema.name;return r(r({},o),{transaction:function(u,c,f){var m,v,g=o.transaction(u,c,f);return c==="readwrite"&&(f=(m=new AbortController).signal,g.addEventListener("abort",(v=function(C){return function(){if(m.abort(),c==="readwrite"){for(var M=new Set,P=0,N=u;P<N.length;P++){var T=N[P],b=sr["idb://".concat(a,"/").concat(T)];if(b){var I=o.table(T),j=b.optimisticOps.filter(function(se){return se.trans===g});if(g._explicit&&C&&g.mutatedParts)for(var z=0,B=Object.values(b.queries.query);z<B.length;z++)for(var A=0,W=(J=B[z]).slice();A<W.length;A++)qa((q=W[A]).obsSet,g.mutatedParts)&&(ee(J,q),q.subscribers.forEach(function(se){return M.add(se)}));else if(0<j.length){b.optimisticOps=b.optimisticOps.filter(function(se){return se.trans!==g});for(var V=0,X=Object.values(b.queries.query);V<X.length;V++)for(var J,q,oe,ne=0,G=(J=X[V]).slice();ne<G.length;ne++)(q=G[ne]).res!=null&&g.mutatedParts&&(C&&!q.dirty?(oe=Object.isFrozen(q.res),oe=dd(q.res,q.req,j,I,q,oe),q.dirty?(ee(J,q),q.subscribers.forEach(function(se){return M.add(se)})):oe!==q.res&&(q.res=oe,q.promise=te.resolve({result:oe}))):(q.dirty&&ee(J,q),q.subscribers.forEach(function(se){return M.add(se)})))}}}M.forEach(function(se){return se()})}}})(!1),{signal:f}),g.addEventListener("error",v(!1),{signal:f}),g.addEventListener("complete",v(!0),{signal:f})),g},table:function(u){var c=o.table(u),f=c.schema.primaryKey;return r(r({},c),{mutate:function(m){var v,g=le.trans;return!f.outbound&&g.db._options.cache!=="disabled"&&!g.explicit&&g.idbtrans.mode==="readwrite"&&(v=sr["idb://".concat(a,"/").concat(u)])?(g=c.mutate(m),m.type!=="add"&&m.type!=="put"||!(50<=m.values.length||Ja(f,m).some(function(C){return C==null}))?(v.optimisticOps.push(m),m.mutatedParts&&Vo(m.mutatedParts),g.then(function(C){0<C.numFailures&&(ee(v.optimisticOps,m),(C=cd(0,m,C))&&v.optimisticOps.push(C),m.mutatedParts)&&Vo(m.mutatedParts)}),g.catch(function(){ee(v.optimisticOps,m),m.mutatedParts&&Vo(m.mutatedParts)})):g.then(function(C){var M=cd(0,r(r({},m),{values:m.values.map(function(P,N){var T;return C.failures[N]?P:($(T=(T=f.keyPath)!=null&&T.includes(".")?ke(P):r({},P),f.keyPath,C.results[N]),T)})}),C);v.optimisticOps.push(M),queueMicrotask(function(){return m.mutatedParts&&Vo(m.mutatedParts)})}),g):c.mutate(m)},query:function(m){var v,g,C,M,P,N,T;return ld(le,c)&&ud("query",m)?(v=((C=le.trans)==null?void 0:C.db._options.cache)==="immutable",g=(C=le).requery,C=C.signal,N=((b,I,j,z)=>{var B=sr["idb://".concat(b,"/").concat(I)];if(!B)return[];if(!(b=B.queries[j]))return[null,!1,B,null];var A=b[(z.query?z.query.index.name:null)||""];if(!A)return[null,!1,B,null];switch(j){case"query":var W=A.find(function(V){return V.req.limit===z.limit&&V.req.values===z.values&&fd(V.req.query.range,z.query.range)});return W?[W,!0,B,A]:[A.find(function(V){return("limit"in V.req?V.req.limit:1/0)>=z.limit&&(!z.values||V.req.values)&&Gm(V.req.query.range,z.query.range)}),!1,B,A];case"count":return W=A.find(function(V){return fd(V.req.query.range,z.query.range)}),[W,!!W,B,A]}})(a,u,"query",m),T=N[0],M=N[2],P=N[3],T&&N[1]?T.obsSet=m.obsSet:(N=c.query(m).then(function(b){var I=b.result;if(T&&(T.res=I),v){for(var j=0,z=I.length;j<z;++j)Object.freeze(I[j]);Object.freeze(I)}else b.result=ke(I);return b}).catch(function(b){return P&&T&&ee(P,T),Promise.reject(b)}),T={obsSet:m.obsSet,promise:N,subscribers:new Set,type:"query",req:m,dirty:!1},P?P.push(T):(P=[T],(M=M||(sr["idb://".concat(a,"/").concat(u)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[m.query.index.name||""]=P)),Ym(T,P,g,C),T.promise.then(function(b){return{result:dd(b.result,m,M==null?void 0:M.optimisticOps,c,T,v)}})):c.query(m)}})}})}};function Ho(o,a){return new Proxy(o,{get:function(u,c,f){return c==="db"?a:Reflect.get(u,c,f)}})}Ke.prototype.version=function(o){if(isNaN(o)||o<.1)throw new ue.Type("Given version is not a positive number");if(o=Math.round(10*o)/10,this.idbdb||this._state.isBeingOpened)throw new ue.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,o);var a=this._versions,u=a.filter(function(c){return c._cfg.version===o})[0];return u||(u=new this.Version(o),a.push(u),a.sort(Fm),u.stores({}),this._state.autoSchema=!1),u},Ke.prototype._whenReady=function(o){var a=this;return this.idbdb&&(this._state.openComplete||le.letThrough||this._vip)?o():new te(function(u,c){if(a._state.openComplete)return c(new ue.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return void c(new ue.DatabaseClosed);a.open().catch(Ee)}a._state.dbReadyPromise.then(u,c)}).then(o)},Ke.prototype.use=function(f){var a=f.stack,u=f.create,c=f.level,f=f.name,m=(f&&this.unuse({stack:a,name:f}),this._middlewares[a]||(this._middlewares[a]=[]));return m.push({stack:a,create:u,level:c??10,name:f}),m.sort(function(v,g){return v.level-g.level}),this},Ke.prototype.unuse=function(o){var a=o.stack,u=o.name,c=o.create;return a&&this._middlewares[a]&&(this._middlewares[a]=this._middlewares[a].filter(function(f){return c?f.create!==c:!!u&&f.name!==u})),this},Ke.prototype.open=function(){var o=this;return rr(Sn,function(){return $m(o)})},Ke.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var o=this._state,a=Ir.indexOf(this);if(0<=a&&Ir.splice(a,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}o.isBeingOpened||(o.dbReadyPromise=new te(function(u){o.dbReadyResolve=u}),o.openCanceller=new te(function(u,c){o.cancelOpen=c}))},Ke.prototype.close=function(a){var a=(a===void 0?{disableAutoOpen:!0}:a).disableAutoOpen,u=this._state;a?(u.isBeingOpened&&u.cancelOpen(new ue.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new ue.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},Ke.prototype.delete=function(o){var a=this,u=(o===void 0&&(o={disableAutoOpen:!0}),0<arguments.length&&typeof arguments[0]!="object"),c=this._state;return new te(function(f,m){function v(){a.close(o);var g=a._deps.indexedDB.deleteDatabase(a.name);g.onsuccess=be(function(){var C,M,P;C=a._deps,M=a.name,Wa(P=C.indexedDB)||M===Ro||Ka(P,C.IDBKeyRange).delete(M).catch(Ee),f()}),g.onerror=Qt(m),g.onblocked=a._fireOnBlocked}if(u)throw new ue.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(v):v()})},Ke.prototype.backendDB=function(){return this.idbdb},Ke.prototype.isOpen=function(){return this.idbdb!==null},Ke.prototype.hasBeenClosed=function(){var o=this._state.dbOpenError;return o&&o.name==="DatabaseClosed"},Ke.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ke.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ke.prototype,"tables",{get:function(){var o=this;return l(this._allTables).map(function(a){return o._allTables[a]})},enumerable:!1,configurable:!0}),Ke.prototype.transaction=function(){var o=(function(a,u,c){var f=arguments.length;if(f<2)throw new ue.InvalidArgument("Too few arguments");for(var m=new Array(f-1);--f;)m[f-1]=arguments[f];return c=m.pop(),[a,re(m),c]}).apply(this,arguments);return this._transaction.apply(this,o)},Ke.prototype._transaction=function(o,a,u){var c,f,m=this,v=le.trans,g=(v&&v.db===this&&o.indexOf("!")===-1||(v=null),o.indexOf("?")!==-1);o=o.replace("!","").replace("?","");try{if(f=a.map(function(M){if(M=M instanceof m.Table?M.name:M,typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),o=="r"||o===ba)c=ba;else{if(o!="rw"&&o!=Ra)throw new ue.InvalidArgument("Invalid transaction mode: "+o);c=Ra}if(v){if(v.mode===ba&&c===Ra){if(!g)throw new ue.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");v=null}v&&f.forEach(function(M){if(v&&v.storeNames.indexOf(M)===-1){if(!g)throw new ue.SubTransaction("Table "+M+" not included in parent transaction.");v=null}}),g&&v&&!v.active&&(v=null)}}catch(M){return v?v._promise(null,function(P,N){N(M)}):Ue(M)}var C=(function M(P,N,T,b,I){return te.resolve().then(function(){var A=le.transless||le,j=P._createTransaction(N,T,P._dbSchema,b),A=(j.explicit=!0,{trans:j,transless:A});if(b)j.idbtrans=b.idbtrans;else try{j.create(),j.idbtrans._explicit=!0,P._state.PR1398_maxLoop=3}catch(W){return W.name===Jn.InvalidState&&P.isOpen()&&0<--P._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),P.close({disableAutoOpen:!1}),P.open().then(function(){return M(P,N,T,null,I)})):Ue(W)}var z,B=Y(I),A=(B&&Pr(),te.follow(function(){var W;(z=I.call(j,j))&&(B?(W=En.bind(null,null),z.then(W,W)):typeof z.next=="function"&&typeof z.throw=="function"&&(z=Ya(z)))},A));return(z&&typeof z.then=="function"?te.resolve(z).then(function(W){return j.active?W:Ue(new ue.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):A.then(function(){return z})).then(function(W){return b&&j._resolve(),j._completion.then(function(){return W})}).catch(function(W){return j._reject(W),Ue(W)})})}).bind(null,this,c,f,v,u);return v?v._promise(c,C,"lock"):le.trans?rr(le.transless,function(){return m._whenReady(C)}):this._whenReady(C)},Ke.prototype.table=function(o){if(w(this._allTables,o))return this._allTables[o];throw new ue.InvalidTable("Table ".concat(o," does not exist"))};var sn=Ke;function Ke(o,a){var u,c,f,m,v,g=this,C=(this._middlewares={},this.verno=0,Ke.dependencies),C=(this._options=a=r({addons:Ke.addons,autoOpen:!0,indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange,cache:"cloned"},a),this._deps={indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange},a.addons),M=(this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this,{dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ee,dbReadyPromise:null,cancelOpen:Ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:a.autoOpen}),P=(M.dbReadyPromise=new te(function(N){M.dbReadyResolve=N}),M.openCanceller=new te(function(N,T){M.cancelOpen=T}),this._state=M,this.name=o,this.on=Ei(this,"populate","blocked","versionchange","close",{ready:[ka,Ee]}),this.once=function(N,T){var b=function(){for(var I=[],j=0;j<arguments.length;j++)I[j]=arguments[j];g.on(N).unsubscribe(b),T.apply(g,I)};return g.on(N,b)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(N){return function(T,b){Ke.vip(function(){var I,j=g._state;j.openComplete?(j.dbOpenError||te.resolve().then(T),b&&N(T)):j.onReadyBeingFired?(j.onReadyBeingFired.push(T),b&&N(T)):(N(T),I=g,b||N(function z(){I.on.ready.unsubscribe(T),I.on.ready.unsubscribe(z)}))})}}),this.Collection=(u=this,_i(Om.prototype,function(z,j){this.db=u;var b=Uc,I=null;if(j)try{b=j()}catch(A){I=A}var j=z._ctx,z=j.table,B=z.hook.reading.fire;this._ctx={table:z,index:j.index,isPrimKey:!j.index||z.schema.primKey.keyPath&&j.index===z.schema.primKey.name,range:b,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:I,or:j.or,valueMapper:B!==vi?B:null}})),this.Table=(c=this,_i(Hc.prototype,function(N,T,b){this.db=c,this._tx=b,this.name=N,this.schema=T,this.hook=c._allTables[N]?c._allTables[N].hook:Ei(null,{creating:[_m,Ee],reading:[Em,vi],updating:[jm,Ee],deleting:[Nm,Ee]})})),this.Transaction=(f=this,_i(Lm.prototype,function(N,T,b,I,j){var z=this;N!=="readonly"&&T.forEach(function(B){B=(B=b[B])==null?void 0:B.yProps,B&&(T=T.concat(B.map(function(A){return A.updatesTable})))}),this.db=f,this.mode=N,this.storeNames=T,this.schema=b,this.chromeTransactionDurability=I,this.idbtrans=null,this.on=Ei(this,"complete","error","abort"),this.parent=j||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new te(function(B,A){z._resolve=B,z._reject=A}),this._completion.then(function(){z.active=!1,z.on.complete.fire()},function(B){var A=z.active;return z.active=!1,z.on.error.fire(B),z.parent?z.parent._reject(B):A&&z.idbtrans&&z.idbtrans.abort(),Ue(B)})})),this.Version=(m=this,_i(Wm.prototype,function(N){this.db=m,this._cfg={version:N,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(v=this,_i(Jc.prototype,function(N,T,b){if(this.db=v,this._ctx={table:N,index:T===":id"?null:T,or:b},this._cmp=this._ascending=ve,this._descending=function(I,j){return ve(j,I)},this._max=function(I,j){return 0<ve(I,j)?I:j},this._min=function(I,j){return ve(I,j)<0?I:j},this._IDBKeyRange=v._deps.IDBKeyRange,!this._IDBKeyRange)throw new ue.MissingAPI})),this.on("versionchange",function(N){0<N.newVersion?console.warn("Another connection wants to upgrade database '".concat(g.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(g.name,"'. Closing db now to resume the delete request.")),g.close({disableAutoOpen:!1})}),this.on("blocked",function(N){!N.newVersion||N.newVersion<N.oldVersion?console.warn("Dexie.delete('".concat(g.name,"') was blocked")):console.warn("Upgrade '".concat(g.name,"' blocked by other connection holding version ").concat(N.oldVersion/10))}),this._maxKey=Ci(a.IDBKeyRange),this._createTransaction=function(N,T,b,I){return new g.Transaction(N,T,b,g._options.chromeTransactionDurability,I)},this._fireOnBlocked=function(N){g.on("blocked").fire(N),Ir.filter(function(T){return T.name===g.name&&T!==g&&!T._state.vcFired}).map(function(T){return T.on("versionchange").fire(N)})},this.use(Hm),this.use(Xm),this.use(Qm),this.use(Vm),this.use(qm),new Proxy(this,{get:function(N,T,b){var I;return T==="_vip"||(T==="table"?function(j){return Ho(g.table(j),P)}:(I=Reflect.get(N,T,b))instanceof Hc?Ho(I,P):T==="tables"?I.map(function(j){return Ho(j,P)}):T==="_createTransaction"?function(){return Ho(I.apply(this,arguments),P)}:I)}}));this.vip=P,C.forEach(function(N){return N(g)})}var Qo,Or=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Jm=(el.prototype.subscribe=function(o,a,u){return this._subscribe(o&&typeof o!="function"?o:{next:o,error:a,complete:u})},el.prototype[Or]=function(){return this},el);function el(o){this._subscribe=o}try{Qo={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Qo={indexedDB:null,IDBKeyRange:null}}function pd(o){var a,u=!1,c=new Jm(function(f){var m=Y(o),v,g=!1,C={},M={},P={get closed(){return g},unsubscribe:function(){g||(g=!0,v&&v.abort(),N&&jn.storagemutated.unsubscribe(b))}},N=(f.start&&f.start(P),!1),T=function(){return Ta(I)},b=function(j){$o(C,j),qa(M,C)&&T()},I=function(){var j,z,B;!g&&Qo.indexedDB&&(C={},j={},v&&v.abort(),v=new AbortController,B=(A=>{var W=jr();try{m&&Pr();var V=kn(o,A);return V=m?V.finally(En):V}finally{W&&Cr()}})(z={subscr:j,signal:v.signal,requery:T,querier:o,trans:null}),Promise.resolve(B).then(function(A){u=!0,a=A,g||z.signal.aborted||(C={},(W=>{for(var V in W)if(w(W,V))return;return 1})(M=j)||N||(jn(ji,b),N=!0),Ta(function(){return!g&&f.next&&f.next(A)}))},function(A){u=!1,["DatabaseClosedError","AbortError"].includes(A==null?void 0:A.name)||g||Ta(function(){g||f.error&&f.error(A)})}))};return setTimeout(T,0),P});return c.hasValue=function(){return u},c.getValue=function(){return a},c}var ar=sn;function tl(o){var a=Cn;try{Cn=!0,jn.storagemutated.fire(o),Ga(o,!0)}finally{Cn=a}}_(ar,r(r({},pe),{delete:function(o){return new ar(o,{addons:[]}).delete()},exists:function(o){return new ar(o,{addons:[]}).open().then(function(a){return a.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(o){try{return a=ar.dependencies,u=a.indexedDB,a=a.IDBKeyRange,(Wa(u)?Promise.resolve(u.databases()).then(function(c){return c.map(function(f){return f.name}).filter(function(f){return f!==Ro})}):Ka(u,a).toCollection().primaryKeys()).then(o)}catch{return Ue(new ue.MissingAPI)}var a,u},defineClass:function(){return function(o){p(this,o)}},ignoreTransaction:function(o){return le.trans?rr(le.transless,o):o()},vip:$a,async:function(o){return function(){try{var a=Ya(o.apply(this,arguments));return a&&typeof a.then=="function"?a:te.resolve(a)}catch(u){return Ue(u)}}},spawn:function(o,a,u){try{var c=Ya(o.apply(u,a||[]));return c&&typeof c.then=="function"?c:te.resolve(c)}catch(f){return Ue(f)}},currentTransaction:{get:function(){return le.trans||null}},waitFor:function(o,a){return o=te.resolve(typeof o=="function"?ar.ignoreTransaction(o):o).timeout(a||6e4),le.trans?le.trans.waitFor(o):o},Promise:te,debug:{get:function(){return Ht},set:function(o){Dc(o)}},derive:K,extend:p,props:_,override:k,Events:Ei,on:jn,liveQuery:pd,extendObservabilitySet:$o,getByKeyPath:Z,setByKeyPath:$,delByKeyPath:function(o,a){typeof a=="string"?$(o,a,void 0):"length"in a&&[].map.call(a,function(u){$(o,u,void 0)})},shallowClone:ie,deepClone:ke,getObjectDiff:Xa,cmp:ve,asap:Q,minKey:-1/0,addons:[],connections:Ir,errnames:Jn,dependencies:Qo,cache:sr,semVer:"4.3.0",version:"4.3.0".split(".").map(function(o){return parseInt(o)}).reduce(function(o,a,u){return o+a/Math.pow(10,2*u)})})),ar.maxKey=Ci(ar.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(jn(ji,function(o){Cn||(o=new CustomEvent(Aa,{detail:o}),Cn=!0,dispatchEvent(o),Cn=!1)}),addEventListener(Aa,function(o){o=o.detail,Cn||tl(o)}));var Dr,Cn=!1,hd=function(){};return typeof BroadcastChannel<"u"&&((hd=function(){(Dr=new BroadcastChannel(Aa)).onmessage=function(o){return o.data&&tl(o.data)}})(),typeof Dr.unref=="function"&&Dr.unref(),jn(ji,function(o){Cn||Dr.postMessage(o)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(o){if(!sn.disableBfCache&&o.persisted){Ht&&console.debug("Dexie: handling persisted pagehide"),Dr!=null&&Dr.close();for(var a=0,u=Ir;a<u.length;a++)u[a].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(o){!sn.disableBfCache&&o.persisted&&(Ht&&console.debug("Dexie: handling persisted pageshow"),hd(),tl({all:new at(-1/0,[[]])}))})),te.rejectionMapper=function(o,a){return!o||o instanceof Ne||o instanceof TypeError||o instanceof SyntaxError||!o.name||!qt[o.name]?o:(a=new qt[o.name](a||o.message,o),"stack"in o&&O(a,"stack",{get:function(){return this.inner.stack}}),a)},Dc(Ht),r(sn,Object.freeze({__proto__:null,Dexie:sn,Entity:Kc,PropModification:ki,RangeSet:at,add:function(o){return new ki({add:o})},cmp:ve,default:sn,liveQuery:pd,mergeRanges:Ti,rangesOverlap:rd,remove:function(o){return new ki({remove:o})},replacePrefix:function(o,a){return new ki({replacePrefix:[o,a]})}}),{default:sn}),sn})})(vm);var w0=vm.exports;const Iu=bu(w0),zf=Symbol.for("Dexie"),Zs=globalThis[zf]||(globalThis[zf]=Iu);if(Iu.semVer!==Zs.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Iu.semVer} and ${Zs.semVer}`);const{liveQuery:Rx,mergeRanges:Ox,rangesOverlap:Dx,RangeSet:Ax,cmp:Lx,Entity:Mx,PropModification:zx,replacePrefix:Bx,add:Fx,remove:Ux,DexieYProvider:Kx}=Zs;class x0 extends Zs{constructor(){super("webapp_workout_tracker");et(this,"exercises");et(this,"programs");et(this,"programVersions");et(this,"weekTemplates");et(this,"dayTemplates");et(this,"dayExercises");et(this,"schedule");et(this,"sessions");et(this,"sessionExercises");et(this,"sets");et(this,"prs");et(this,"bodyweights");et(this,"stats");et(this,"sessionStats");et(this,"settings");et(this,"exports");this.version(1).stores({exercises:"id, name, archived",programs:"id, activeProgramVersionId",programVersions:"id, programId, [programId+versionNumber]",weekTemplates:"id, programVersionId",dayTemplates:"id, weekTemplateId, [weekTemplateId+weekday]",dayExercises:"id, dayTemplateId, [dayTemplateId+order], exerciseId, groupId",schedule:"id,&date,[programId+date],state,type,dayTemplateId",sessions:"id,date,[programId+date],state,dayTemplateId,scheduleId",sessionExercises:"id,sessionId,[sessionId+order],exerciseId",sets:"id,sessionId,sessionExerciseId,[exerciseId+createdAt]",prs:"id,&exerciseId,metric",bodyweights:"id,&date",stats:"id",sessionStats:"sessionId",settings:"id",exports:"id,createdAt,type"})}}const R=new x0,Jt=Tc((e,t)=>({settings:null,load:async()=>{const n=await R.settings.get("USER");e({settings:n??null}),Bf((n==null?void 0:n.themeMode)??"SYSTEM")},setThemeMode:async n=>{const r=t().settings;if(!r)return;const i={...r,themeMode:n,updatedAt:Date.now()};await R.settings.put(i),e({settings:i}),Bf(n)},setAnchorWeekday:async n=>{const r=t().settings;if(!r)return;const i={...r,anchorWeekday:n,updatedAt:Date.now()};await R.settings.put(i),e({settings:i})},setDefaultRestWeekdays:async n=>{const r=t().settings;if(!r)return;const i={...r,defaultRestWeekdays:Array.from(new Set(n)).sort((s,l)=>s-l),updatedAt:Date.now()};await R.settings.put(i),e({settings:i})},setWeightUnit:async n=>{const r=t().settings;if(!r)return;const i={...r,units:{...r.units,weightUnit:n},updatedAt:Date.now()};await R.settings.put(i),e({settings:i})},setBackupReminder:async n=>{const r=t().settings;if(!r)return;const i={...r,backupReminder:{...r.backupReminder,...n},updatedAt:Date.now()};await R.settings.put(i),e({settings:i})}}));function Bf(e){const t=document.documentElement;if(e==="SYSTEM"){t.removeAttribute("data-theme");return}t.setAttribute("data-theme",e==="LIGHT"?"light":e==="AMOLED"?"amoled":"dark")}function Eo({title:e,children:t,actions:n,onClose:r}){return h.jsx("div",{className:"modalBackdrop",role:"dialog","aria-modal":"true",onClick:i=>{i.target===i.currentTarget&&r&&r()},children:h.jsxs("div",{className:"modal",children:[h.jsx("div",{className:"h1",children:e}),h.jsx("div",{children:t}),n?h.jsx("div",{className:"row",style:{marginTop:12,justifyContent:"flex-end"},children:n}):null]})})}const Tu="0123456789ABCDEFGHJKMNPQRSTVWXYZ";function S0(){const e=Math.floor(Math.random()*Tu.length);return Tu[e]}function k0(e){let t=e,n="";for(let r=0;r<10;r++)n=Tu[t%32]+n,t=Math.floor(t/32);return n}function rt(e=Date.now()){let t=k0(e);for(let n=0;n<16;n++)t+=S0();return t}function nt(e,t){if(!e)throw new Error(t)}function E0(e){return e==="CARDIO"||e==="OTHER"?e:"STRENGTH"}function _0(e){return e&&new Set(["KG","LB","MIN","M","KM","CAL","NONE"]).has(e)?e:"KG"}async function N0(e){C0(e);const t=Date.now(),n=rt(t),r=rt(t+1),i=rt(t+2),s={id:n,name:e.program.name,createdAt:t,updatedAt:t,activeProgramVersionId:r},l={id:r,programId:n,versionNumber:1,createdAt:t,notes:void 0},d={id:i,programVersionId:r,name:e.program.weekTemplate.name,createdAt:t};return await R.transaction("rw",R.exercises,R.programs,R.programVersions,R.weekTemplates,R.dayTemplates,R.dayExercises,async()=>{const p=new Map,y=e.exercises??[];for(const S of y){const w=S.id&&typeof S.id=="string"?S.id:rt(),_={id:w,name:S.name,type:E0(S.type),defaultUnit:_0(S.defaultUnit),archived:!1,createdAt:t,updatedAt:t};await R.exercises.get(w)||await R.exercises.put(_),p.set(S.name.toLowerCase(),w)}for(const S of e.program.weekTemplate.days)for(const w of S.exercises){if(w.exerciseId)continue;nt(w.name,"exercise must have name or exerciseId");const _=w.name.toLowerCase();if(p.has(_))continue;const D=rt(),O={id:D,name:w.name,type:"STRENGTH",defaultUnit:"KG",archived:!1,createdAt:t,updatedAt:t};await R.exercises.put(O),p.set(_,D)}await R.programs.put(s),await R.programVersions.put(l),await R.weekTemplates.put(d);for(const S of e.program.weekTemplate.days){const w=rt(),_={id:w,weekTemplateId:i,weekday:S.weekday,title:S.title,createdAt:t};await R.dayTemplates.put(_);const D=[...S.exercises].sort((O,K)=>O.order-K.order);for(const O of D){const K=O.exerciseId??p.get((O.name??"").toLowerCase());nt(K,`unknown exercise for ${O.name??O.exerciseId}`);const L={id:rt(),dayTemplateId:w,exerciseId:K,order:O.order,groupId:O.groupId,isWarmupDefault:!!O.isWarmupDefault,prescription:O.prescription,createdAt:t};await R.dayExercises.put(L)}}}),{programId:n,programVersionId:r,importedAnchorWeekday:e.program.anchorWeekday}}async function j0(){const e=await R.programs.toArray();if(e.length===0)return null;const t=e[0],n=await R.programVersions.get(t.activeProgramVersionId);if(!n)return null;const r=await R.weekTemplates.where("programVersionId").equals(n.id).first();if(!r)return null;const i=await R.dayTemplates.where("weekTemplateId").equals(r.id).toArray(),s=i.map(d=>d.id),l=await R.dayExercises.where("dayTemplateId").anyOf(s).toArray();return{program:t,programVersion:n,weekTemplate:r,dayTemplates:i,dayExercises:l}}function C0(e){var r,i;nt(e&&typeof e=="object","Invalid JSON"),nt(e.schemaVersion===1,"Unsupported schemaVersion"),nt(e.program&&typeof e.program.name=="string"&&e.program.name.trim().length>0,"Program name required");const t=(i=(r=e.program)==null?void 0:r.weekTemplate)==null?void 0:i.days;nt(Array.isArray(t)&&t.length>0,"weekTemplate.days required");const n=new Set;for(const s of t){nt(typeof s.weekday=="number"&&s.weekday>=0&&s.weekday<=6,"Invalid weekday"),nt(typeof s.title=="string"&&s.title.trim().length>0,"Day title required"),nt(!n.has(s.weekday),"Duplicate weekday in weekTemplate"),n.add(s.weekday),nt(Array.isArray(s.exercises),"day.exercises required");const l=new Set;for(const d of s.exercises)nt(typeof d.order=="number","exercise.order required"),l.has(d.order),l.add(d.order),nt(!!d.name||!!d.exerciseId,"exercise requires name or exerciseId")}}async function Qr(e){const t=await R.settings.get("USER");if(!t)return;const n=bc(e,t.anchorWeekday),r=await j0(),i=Date.now(),s=new Map;if(r)for(const d of r.dayTemplates)s.set(d.weekday,{dayTemplateId:d.id,title:d.title,programId:r.program.id,programVersionId:r.programVersion.id});const l=[];for(let d=0;d<7;d++)l.push(kr(n,d));await R.transaction("rw",R.schedule,async()=>{for(let d=0;d<7;d++){const p=l[d],y=(t.anchorWeekday+d)%7;if(await R.schedule.get({date:p}))continue;const w=s.get(y);let _;if(w)_={id:rt(),date:p,type:"WORKOUT",programId:w.programId,programVersionId:w.programVersionId,dayTemplateId:w.dayTemplateId,title:w.title,state:"PLANNED",linkedSessionId:null,createdAt:i,updatedAt:i};else{const D=t.defaultRestWeekdays.includes(y);_={id:rt(),date:p,type:"REST",programId:null,programVersionId:null,dayTemplateId:null,title:"Rest",state:"PLANNED",linkedSessionId:null,createdAt:i,updatedAt:i}}await R.schedule.put(_)}})}async function P0(e){const t=await R.schedule.get({date:e});t&&await R.schedule.put({...t,state:"SKIPPED",updatedAt:Date.now()})}async function I0(e,t){const n=await R.schedule.get({date:e});!n||n.type!=="WORKOUT"||n.state!=="PLANNED"||await R.transaction("rw",R.schedule,async()=>{const r=await R.schedule.orderBy("date").toArray();if(r.findIndex(p=>p.date===e)<0)return;await R.schedule.put({...n,state:"SKIPPED",updatedAt:Date.now()});const l=r.filter(p=>p.date>e).slice().sort((p,y)=>y.date.localeCompare(p.date));for(const p of l){const y=kr(p.date,1);await R.schedule.delete(p.id),await R.schedule.put({...p,date:y,updatedAt:Date.now()})}const d=await R.schedule.get({date:t});d&&await R.schedule.delete(d.id),await R.schedule.put({...n,id:rt(),date:t,state:"PLANNED",linkedSessionId:null,updatedAt:Date.now(),createdAt:Date.now()})})}async function T0(e){const t=await R.settings.get("USER");if(!t)return{swapped:!1};const n=await R.schedule.get({date:e});if(!n||n.type!=="WORKOUT"||n.state!=="PLANNED")return{swapped:!1};const r=bc(e,t.anchorWeekday),i=kr(r,6),l=(await R.schedule.where("date").between(r,i,!0,!0).toArray()).find(d=>d.type==="REST"&&t.defaultRestWeekdays.includes(new Date(d.date+"T00:00:00").getDay()));return l?(await R.transaction("rw",R.schedule,async()=>{await R.schedule.put({...n,type:"REST",title:"Rest",updatedAt:Date.now()}),await R.schedule.put({...l,type:"WORKOUT",programId:n.programId,programVersionId:n.programVersionId,dayTemplateId:n.dayTemplateId,title:n.title,state:"PLANNED",linkedSessionId:null,updatedAt:Date.now()})}),{swapped:!0}):(await R.schedule.put({...n,type:"REST",title:"Rest",updatedAt:Date.now()}),{swapped:!1})}async function b0(e){const t=await R.schedule.get({date:e});!t||t.type!=="WORKOUT"||t.state!=="PLANNED"||await R.transaction("rw",R.schedule,R.sessions,R.sessionExercises,R.sets,async()=>{const n=await R.sessions.where("scheduleId").equals(t.id).first();n&&n.state==="PLANNED"&&await R.sets.where("sessionId").equals(n.id).count()===0&&(await R.sessionExercises.where("sessionId").equals(n.id).delete(),await R.sessions.delete(n.id)),await R.schedule.put({...t,type:"REST",title:"Rest",updatedAt:Date.now()})})}function R0(){const e=yi(),t=Jt(k=>k.settings),[n,r]=F.useState(Ut(new Date)),[i,s]=F.useState([]),[l,d]=F.useState(null),[p,y]=F.useState([]),S=pn(k=>k.skipPrompt),w=pn(k=>k.setSkipPrompt),_=Number(n.slice(0,4)),D=Number(n.slice(5,7))-1;F.useEffect(()=>{(async()=>{const k=await R.schedule.where("date").between(`${_}-${String(D+1).padStart(2,"0")}-01`,`${_}-${String(D+1).padStart(2,"0")}-31`,!0,!0).toArray();s(k),d(await R.stats.get("GLOBAL")),y(await R.prs.toArray())})()},[_,D]);const O=F.useMemo(()=>{const k={};for(const U of i)U.state==="COMPLETED"?k[U.date]="COMPLETED":U.state==="SKIPPED"?k[U.date]="SKIPPED":k[U.date]=U.type;return k},[i]),K=F.useMemo(()=>{if(!t)return null;const k=Ut(new Date),U=bc(k,t.anchorWeekday),Q=kr(U,-7),Z=kr(Q,6);return(async()=>{const ie=(await R.sessions.where("date").between(Q,Z,!0,!0).toArray()).filter(ke=>ke.state==="ARCHIVED"),ye=ie.map(ke=>ke.id),re=ye.length?await R.sessionStats.where("sessionId").anyOf(ye).toArray():[],_e=re.reduce((ke,qe)=>ke+qe.volumeLoad,0),Ve=re.reduce((ke,qe)=>ke+qe.durationSec,0);return{count:ie.length,totalVol:_e,totalDur:Ve}})()},[t]),[L,E]=F.useState(null);F.useEffect(()=>{(K==null?void 0:K.then(E))??Promise.resolve()},[K]);const x=F.useMemo(()=>[...p].sort((U,Q)=>Q.value-U.value).slice(0,3),[p]);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h1",children:"Home"}),h.jsx(y0,{year:_,monthIndex0:D,badges:O,selected:n,onSelect:k=>{r(k),e(`/workout/${k}`)}}),h.jsxs("div",{className:"grid",style:{marginTop:12},children:[h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Last week"}),h.jsx("div",{className:"muted",style:{fontSize:12},children:L?`${L.count} sessions  ${Math.round(L.totalVol)} volume  ${ym(L.totalDur)}`:""})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Metrics"}),h.jsxs("div",{className:"row between",style:{marginTop:6},children:[h.jsx("span",{className:"muted",children:"Total sessions"}),h.jsx("span",{children:(l==null?void 0:l.totalSessionsCompleted)??0})]}),h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:"Total sets"}),h.jsx("span",{children:(l==null?void 0:l.totalSetsLogged)??0})]}),h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:"Lifetime load"}),h.jsx("span",{children:Math.round((l==null?void 0:l.totalVolumeLoad)??0)})]}),h.jsx("div",{className:"hr"}),h.jsx("div",{className:"h2",children:"Top lifts"}),x.length?x.map(k=>h.jsxs("div",{className:"row between",children:[h.jsxs("span",{className:"muted",children:["#",k.exerciseId.slice(0,6)]}),h.jsx("span",{children:k.value})]},k.id)):h.jsx("div",{className:"muted",style:{fontSize:12},children:"No PRs yet."})]})]}),S!=null&&S.open?h.jsx(Eo,{title:"Yesterday's workout wasn't completed",onClose:()=>w(null),actions:h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"ghost",onClick:()=>w(null),children:"Later"}),h.jsx("button",{className:"danger",onClick:async()=>{await P0(S.date),w(null),window.location.reload()},children:"Skip"}),h.jsx("button",{className:"primary",onClick:async()=>{const k=Ut(new Date);await I0(S.date,k),w(null),window.location.reload()},children:"Perform now + shift"})]}),children:h.jsxs("div",{className:"muted",children:["Choose what to do with the workout scheduled for ",h.jsx("span",{className:"kbd",children:S.date}),"."]})}):null]})}async function O0(e){const t=Date.now(),n=await R.sets.where("sessionId").equals(e).toArray(),r=new Map;for(const i of n){if(i.setType!=="WORKING"||typeof i.load!="number")continue;const s=r.get(i.exerciseId);(!s||i.load>s.maxLoad)&&r.set(i.exerciseId,{maxLoad:i.load,setId:i.id,achievedAt:i.createdAt})}for(const[i,s]of r.entries()){const l=await R.prs.get({exerciseId:i});if(l)s.maxLoad>l.value&&await R.prs.put({...l,value:s.maxLoad,sessionId:e,setId:s.setId,achievedAt:s.achievedAt,updatedAt:t});else{const d={id:rt(),exerciseId:i,metric:"MAX_LOAD",value:s.maxLoad,sessionId:e,setId:s.setId,achievedAt:s.achievedAt,updatedAt:t};await R.prs.put(d)}}}async function D0(e){const t=await R.sets.where("[exerciseId+createdAt]").between([e,0],[e,Number.MAX_SAFE_INTEGER],!0,!0).toArray();let n=null;for(const s of t)s.setType==="WORKING"&&typeof s.load=="number"&&(!n||s.load>n.load)&&(n={load:s.load,setId:s.id,sessionId:s.sessionId,achievedAt:s.createdAt});const r=Date.now(),i=await R.prs.get({exerciseId:e});if(!n){i&&await R.prs.delete(i.id);return}if(!i){await R.prs.put({id:rt(),exerciseId:e,metric:"MAX_LOAD",value:n.load,sessionId:n.sessionId,setId:n.setId,achievedAt:n.achievedAt,updatedAt:r});return}await R.prs.put({...i,value:n.load,sessionId:n.sessionId,setId:n.setId,achievedAt:n.achievedAt,updatedAt:r})}const A0="apexbust_backups";async function L0(){return await navigator.storage.getDirectory()}async function gm(e){let t=await L0();t=await t.getDirectoryHandle(A0,{create:!0});for(const n of e)t=await t.getDirectoryHandle(n,{create:!0});return t}async function wm(e,t,n){const i=await(await e.getFileHandle(t,{create:!0})).createWritable();await i.write(JSON.stringify(n,null,2)),await i.close()}async function Rc(e){const t=await R.sessions.get(e);if(!t)throw new Error("Session not found");const n=await R.sessionExercises.where("sessionId").equals(e).sortBy("order"),r=await R.sets.where("sessionId").equals(e).toArray(),i=await R.exercises.where("id").anyOf(n.map(s=>s.exerciseId)).toArray();return{app:"ApexBust",schemaVersion:1,exportedAt:new Date().toISOString(),session:t,sessionExercises:n,sets:r,exercises:i}}async function M0(e){const t=await R.sessions.get(e);if(!t)return;const n=await Rc(e),r=await gm(["tmp",t.date]);await wm(r,`tmp-${e}-${Date.now()}.json`,n)}async function z0(e){const t=await R.sessions.get(e);if(!t)return;const n=await Rc(e),r=await gm(["final",t.date]);await wm(r,`final-${e}-${Date.now()}.json`,n)}async function B0(e){const t=await Rc(e);return new Blob([JSON.stringify(t,null,2)],{type:"application/json;charset=utf-8"})}function xm(e,t){return typeof e!="number"||typeof t!="number"?0:e*t}async function F0(e){const t=Date.now(),n=await R.sessions.get(e);if(!n)return;const r=await R.sets.where("sessionId").equals(e).toArray(),i=r.length,s=r.reduce((p,y)=>p+xm(y.reps,y.load),0),l=n.durationSec??0,d=await R.stats.get("GLOBAL");d&&(await R.sessionStats.put({sessionId:e,setsCount:i,volumeLoad:s,durationSec:l,updatedAt:t}),await R.stats.put({...d,totalSessionsCompleted:d.totalSessionsCompleted+1,totalSetsLogged:d.totalSetsLogged+i,totalVolumeLoad:d.totalVolumeLoad+s,totalWorkoutDurationSec:d.totalWorkoutDurationSec+l,lastUpdatedAt:t}))}async function U0(e){const t=Date.now(),n=await R.sessions.get(e);if(!n)return;const r=await R.sessionStats.get(e),i=await R.stats.get("GLOBAL");if(!i)return;const s=await R.sets.where("sessionId").equals(e).toArray(),l=s.length,d=s.reduce((y,S)=>y+xm(S.reps,S.load),0),p=n.durationSec??0;if(await R.sessionStats.put({sessionId:e,setsCount:l,volumeLoad:d,durationSec:p,updatedAt:t}),!r){await R.stats.put({...i,totalSetsLogged:i.totalSetsLogged+l,totalVolumeLoad:i.totalVolumeLoad+d,totalWorkoutDurationSec:i.totalWorkoutDurationSec+p,lastUpdatedAt:t});return}await R.stats.put({...i,totalSetsLogged:i.totalSetsLogged-r.setsCount+l,totalVolumeLoad:i.totalVolumeLoad-r.volumeLoad+d,totalWorkoutDurationSec:i.totalWorkoutDurationSec-r.durationSec+p,lastUpdatedAt:t})}async function K0(e){const t=await R.schedule.get({date:e}),n=Date.now();let r=await R.sessions.where("date").equals(e).and(i=>i.scheduleId===(t==null?void 0:t.id)).first();return R.transaction("rw",R.sessions,R.sessionExercises,R.dayExercises,async()=>{if(!r){const i=rt(n),s={id:i,scheduleId:(t==null?void 0:t.id)??null,programId:(t==null?void 0:t.programId)??null,programVersionId:(t==null?void 0:t.programVersionId)??null,dayTemplateId:(t==null?void 0:t.dayTemplateId)??null,date:e,state:"IN_PROGRESS",startedAt:n,createdAt:n,updatedAt:n};if(await R.sessions.put(s),r=s,t!=null&&t.dayTemplateId){const l=await R.dayExercises.where("dayTemplateId").equals(t.dayTemplateId).sortBy("order");let d=1;for(const p of l){const y={id:rt(),sessionId:i,exerciseId:p.exerciseId,order:d++,groupId:p.groupId,sourceDayExerciseId:p.id,createdAt:n,updatedAt:n};await R.sessionExercises.put(y)}}return i}if(r.state==="PLANNED"){const i={...r,state:"IN_PROGRESS",startedAt:n,updatedAt:n};await R.sessions.put(i),r=i}return r.id})}async function W0(e,t){const n=Date.now();await R.transaction("rw",R.sessionExercises,async()=>{var s;const r=await R.sessionExercises.where("sessionId").equals(e).sortBy("order");if(t.mode==="ADD"){const l=(((s=r[r.length-1])==null?void 0:s.order)??0)+1;await R.sessionExercises.put({id:rt(),sessionId:e,exerciseId:t.exerciseId,order:l,createdAt:n,updatedAt:n});return}nt(t.sessionExerciseId,"sessionExerciseId required for swap");const i=await R.sessionExercises.get(t.sessionExerciseId);i&&await R.sessionExercises.put({...i,exerciseId:t.exerciseId,updatedAt:n})})}async function $0(e,t,n){const r=Date.now(),i=await R.sessionExercises.get(t);nt(i&&i.sessionId===e,"Invalid sessionExercise");const s=await R.sets.where("sessionExerciseId").equals(t).count()+1,l={id:rt(),sessionId:e,sessionExerciseId:t,exerciseId:i.exerciseId,setType:n.setType,order:s,reps:n.reps,load:n.load,rir:n.rir,distance:n.distance,durationSec:n.durationSec,calories:n.calories,createdAt:r};await R.transaction("rw",R.sets,R.sessions,async()=>{await R.sets.put(l);const d=await R.sessions.get(e);d&&d.state==="PLANNED"&&await R.sessions.put({...d,state:"IN_PROGRESS",startedAt:d.startedAt??r,updatedAt:r})});try{await M0(e)}catch{}return l.id}async function V0(e,t){const n=Date.now(),r=await R.sessions.get(e);nt(r,"Session not found");const i=await R.sets.where("sessionId").equals(e).count();nt(i>=1,"Session requires at least 1 set"),await R.transaction("rw",R.sessions,R.schedule,R.sessionStats,R.prs,R.stats,async()=>{const s=r.startedAt??n,l=Math.max(0,Math.floor((n-s)/1e3)),d={...r,finishedAt:n,durationSec:l,endLog:t,state:"COMPLETED",updatedAt:n};await R.sessions.put(d),await O0(e),await F0(e);try{await z0(e)}catch{}if(await R.sessions.put({...d,state:"ARCHIVED",updatedAt:Date.now()}),r.scheduleId){const p=await R.schedule.get(r.scheduleId);p&&await R.schedule.put({...p,state:"COMPLETED",linkedSessionId:e,updatedAt:Date.now()})}})}async function q0(e){const t=Date.now(),n=await R.sessions.get(e);nt(n,"Session not found"),await R.transaction("rw",R.sessions,R.sessionStats,R.stats,R.prs,async()=>{await U0(e);const r=await R.sets.where("sessionId").equals(e).toArray().then(i=>Array.from(new Set(i.map(s=>s.exerciseId))));for(const i of r)await D0(i);await R.sessions.put({...n,updatedAt:t})})}async function H0(e,t){const n=await R.sets.get(e);n&&await R.sets.put({...n,...t})}async function Q0(e){await R.sets.delete(e)}function G0({name:e,prescription:t,lastWeekSnippet:n}){const[r,i]=F.useState(!1);return h.jsxs("div",{className:"card",style:{padding:12},children:[h.jsxs("button",{className:"ghost",style:{width:"100%",textAlign:"left",border:"none"},onClick:()=>i(s=>!s),"aria-expanded":r,children:[h.jsxs("div",{className:"row between",children:[h.jsx("div",{style:{fontWeight:700},children:e}),h.jsx("span",{className:"muted",children:r?"":""})]}),h.jsxs("div",{className:"muted",style:{fontSize:12,marginTop:4},children:[t!=null&&t.targetSets?`${t.targetSets} sets`:"","  ",(t==null?void 0:t.targetReps)??"reps","  ",t!=null&&t.restSec?`${t.restSec}s rest`:"rest"]})]}),r?h.jsxs("div",{style:{marginTop:10},children:[t!=null&&t.notes?h.jsx("div",{className:"muted",style:{fontSize:12,marginBottom:8},children:t.notes}):null,n?h.jsxs("div",{className:"chip",children:[" Last week: ",n]}):h.jsx("div",{className:"muted",style:{fontSize:12},children:"No previous week data."})]}):null]})}function Y0(){const e=Ic(),t=yi(),n=Jt(O=>O.settings),r=e.date==="today"||!e.date?Ut(new Date):e.date,[i,s]=F.useState(null),[l,d]=F.useState(null),[p,y]=F.useState([]),[S,w]=F.useState(null);F.useEffect(()=>{(async()=>{n&&await Qr(r);const O=await R.schedule.get({date:r});s(O??null);const K=O!=null&&O.linkedSessionId?await R.sessions.get(O.linkedSessionId):await R.sessions.where("date").equals(r).first();if(d(K??null),O!=null&&O.dayTemplateId){const L=await R.dayExercises.where("dayTemplateId").equals(O.dayTemplateId).sortBy("order"),E=L.map($=>$.exerciseId),x=E.length?await R.exercises.where("id").anyOf(E).toArray():[],k=new Map(x.map($=>[$.id,$])),U=await R.schedule.get({date:X0(r),dayTemplateId:O.dayTemplateId}).catch(()=>null),Q=U!=null&&U.linkedSessionId?await R.sessions.get(U.linkedSessionId):null;let Z=[];Q&&(Z=await R.sets.where("sessionId").equals(Q.id).toArray()),y(L.map($=>{var ke;const ie=k.get($.exerciseId),ye=Z.filter(qe=>qe.exerciseId===$.exerciseId&&qe.setType==="WORKING"),re=ye.reduce((qe,Vt)=>typeof Vt.load=="number"?Math.max(qe,Vt.load):qe,0),_e=ye.length?(ke=ye[ye.length-1])==null?void 0:ke.reps:void 0,Ve=ye.length?`max ${re}${_e?`  last reps ${_e}`:""}`:void 0;return{de:$,ex:ie,snippet:Ve}}))}else y([])})()},[r,n]);const _=F.useMemo(()=>i?(l==null?void 0:l.state)==="IN_PROGRESS"?{label:"Resume",mode:"RESUME"}:i.state==="COMPLETED"?{label:"View",mode:"VIEW"}:{label:"Start",mode:"START"}:{label:"Start",mode:"START"},[i,l]);async function D(){if(_.mode==="VIEW"&&(i!=null&&i.linkedSessionId)){t(`/tracker/${i.linkedSessionId}`);return}const O=await K0(r);t(`/tracker/${O}`)}return i?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h1",children:i.type==="WORKOUT"?i.title??"Workout":"Rest day"}),h.jsx("div",{className:"muted",style:{marginBottom:10},children:r}),i.type==="WORKOUT"?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"grid",children:p.map(({de:O,ex:K,snippet:L})=>h.jsx(G0,{name:(K==null?void 0:K.name)??O.exerciseId,prescription:O.prescription,lastWeekSnippet:L},O.id))}),h.jsxs("div",{className:"row",style:{marginTop:12,gap:10},children:[h.jsx("button",{className:"primary",onClick:()=>void D(),children:_.label}),i.state==="PLANNED"?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"ghost",onClick:()=>w({open:!0}),children:"Insert rest day"}),h.jsx("button",{className:"ghost",onClick:()=>void b0(r).then(()=>window.location.reload()),children:"Convert to rest"})]}):null]})]}):h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"muted",children:"Rest day."}),h.jsx("div",{className:"row",style:{marginTop:12},children:h.jsx("button",{className:"primary",onClick:async()=>{await R.schedule.put({...i,type:"WORKOUT",title:"Ad-hoc workout",dayTemplateId:null,programId:null,programVersionId:null,state:"PLANNED",updatedAt:Date.now()}),window.location.reload()},children:"Convert to workout"})})]}),S!=null&&S.open?h.jsx(Eo,{title:"Insert extra rest day",onClose:()=>w(null),actions:h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"ghost",onClick:()=>w(null),children:"Cancel"}),h.jsx("button",{className:"primary",onClick:async()=>{const O=await T0(r);w(null),alert(O.swapped?"Swapped with a default rest day.":"No rest day available to swap; week shortened."),window.location.reload()},children:"Swap with default rest day"}),h.jsx("button",{className:"danger",onClick:async()=>{await R.schedule.put({...i,type:"REST",title:"Rest",updatedAt:Date.now()}),w(null),window.location.reload()},children:"No (shorten week)"})]}),children:h.jsx("div",{className:"muted",children:"Do you want to preserve the weekly structure by swapping with a default rest day?"})}):null]}):h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h1",children:"Workout"}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"muted",children:"No schedule entry for this date yet."}),h.jsx("div",{className:"row",style:{marginTop:12},children:h.jsx("button",{className:"primary",onClick:()=>void Qr(r).then(()=>window.location.reload()),children:"Generate week"})})]})]})}function X0(e){const[t,n,r]=e.split("-").map(Number),i=new Date(t,(n??1)-1,r??1);i.setDate(i.getDate()-7);const s=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),d=String(i.getDate()).padStart(2,"0");return`${s}-${l}-${d}`}const an=Tc((e,t)=>({activeSessionId:null,activeSessionExerciseId:null,isEditMode:!1,rest:{enabled:!0,autoStart:!0,durationSec:120},setActiveSession:n=>e({activeSessionId:n}),setActiveSessionExercise:n=>e({activeSessionExerciseId:n}),setEditMode:n=>e({isEditMode:n}),setRestEnabled:n=>e({rest:{...t().rest,enabled:n}}),setAutoStart:n=>e({rest:{...t().rest,autoStart:n}}),setRestDuration:n=>e({rest:{...t().rest,durationSec:Math.max(0,Math.floor(n))}}),startRest:n=>e({rest:{...t().rest,startedAt:n??Date.now()}}),clearRest:()=>e({rest:{...t().rest,startedAt:void 0}})}));function J0({startedAt:e,durationSec:t,onClear:n}){const[r,i]=F.useState(Date.now());F.useEffect(()=>{const l=window.setInterval(()=>i(Date.now()),250);return()=>window.clearInterval(l)},[]);const s=F.useMemo(()=>{if(!e)return null;const l=Math.floor((r-e)/1e3);return Math.max(0,t-l)},[r,e,t]);return e?h.jsxs("span",{className:"chip",children:[" ",s,"s",h.jsx("button",{className:"ghost",style:{minHeight:28,padding:"4px 8px"},onClick:n,children:"Clear"})]}):null}function Z0({idx:e,setType:t,reps:n,load:r,rir:i,createdAt:s,editable:l,onEdit:d,onDelete:p}){const y=new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return h.jsxs("div",{className:"row between",style:{padding:"8px 0"},children:[h.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[h.jsx("span",{className:"badge",children:e}),h.jsx("span",{className:"muted",style:{width:62},children:t}),h.jsxs("span",{children:[n??""," reps"]}),h.jsx("span",{className:"muted",children:""}),h.jsxs("span",{children:[r??""," load"]}),h.jsx("span",{className:"muted",children:""}),h.jsxs("span",{children:["RIR ",i??""]})]}),h.jsxs("div",{className:"row",style:{gap:6},children:[h.jsx("span",{className:"muted",style:{fontSize:12},children:y}),l?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"ghost",style:{minHeight:34,padding:"6px 10px"},onClick:d,children:"Edit"}),h.jsx("button",{className:"ghost",style:{minHeight:34,padding:"6px 10px"},onClick:p,children:"Del"})]}):null]})]})}function ex({text:e}){return h.jsxs("div",{className:"card",style:{padding:12,background:"var(--surface2)",boxShadow:"none"},children:[h.jsx("div",{className:"h2",children:"Previous week"}),h.jsx("div",{className:"muted",style:{fontSize:12},children:e??"No matching previous week session."})]})}function tx(){var de,fe;const{sessionId:e}=Ic(),t=yi(),n=an(Y=>Y.setActiveSession),r=an(Y=>Y.activeSessionExerciseId),i=an(Y=>Y.setActiveSessionExercise),s=an(Y=>Y.rest),l=an(Y=>Y.startRest),d=an(Y=>Y.clearRest),p=an(Y=>Y.setRestDuration),y=an(Y=>Y.setAutoStart),S=an(Y=>Y.setRestEnabled),[w,_]=F.useState(null),[D,O]=F.useState([]),[K,L]=F.useState([]),[E,x]=F.useState([]),[k,U]=F.useState(null),[Q,Z]=F.useState(null),$=e;F.useEffect(()=>(n($),()=>n(null)),[$,n]),F.useEffect(()=>{(async()=>{const Y=await R.sessions.get($);_(Y??null);const pe=await R.sessionExercises.where("sessionId").equals($).sortBy("order");O(pe),!r&&pe.length&&i(pe[0].id);const Ze=Array.from(new Set(pe.map(Fe=>Fe.exerciseId))),Ne=Ze.length?await R.exercises.where("id").anyOf(Ze).toArray():[];L(Ne);const st=await R.sets.where("sessionId").equals($).toArray();x(st)})()},[$,r,i]),w!=null&&w.dayTemplateId&&ix(w.dayTemplateId);const ie=(w==null?void 0:w.startedAt)??Date.now(),ye=F.useMemo(()=>Math.floor((Date.now()-ie)/1e3),[ie]),re=D.find(Y=>Y.id===r)??D[0],_e=K.find(Y=>Y.id===(re==null?void 0:re.exerciseId)),Ve=F.useMemo(()=>E.filter(Y=>Y.sessionExerciseId===(re==null?void 0:re.id)).sort((Y,pe)=>Y.order-pe.order),[E,re]),ke=F.useMemo(()=>{if(!re)return null;const Y=D.findIndex(pe=>pe.id===re.id);return D[Y+1]??null},[D,re]),qe=F.useMemo(()=>{if(!(w!=null&&w.date)||!_e)return;const[Y,pe,Ze]=w.date.split("-").map(Number),Ne=new Date(Y,(pe??1)-1,Ze??1);Ne.setDate(Ne.getDate()-7);const st=`${Ne.getFullYear()}-${String(Ne.getMonth()+1).padStart(2,"0")}-${String(Ne.getDate()).padStart(2,"0")}`;return(async()=>{const Fe=await R.sessions.where("date").equals(st).and(qt=>qt.dayTemplateId===w.dayTemplateId).first();if(!Fe)return;const Jn=(await R.sets.where("sessionId").equals(Fe.id).toArray()).filter(qt=>qt.exerciseId===_e.id&&qt.setType==="WORKING");if(!Jn.length)return;const Sa=Jn.reduce((qt,Ee)=>typeof Ee.load=="number"?Math.max(qt,Ee.load):qt,0);return`${Jn.length} working sets  max load ${Sa}`})()},[w==null?void 0:w.date,w==null?void 0:w.dayTemplateId,_e==null?void 0:_e.id]),[Vt,rn]=F.useState(void 0);F.useEffect(()=>{(qe==null?void 0:qe.then(rn))??Promise.resolve()},[qe]);async function Xn(){const Y=await R.sessionExercises.where("sessionId").equals($).sortBy("order");O(Y);const pe=Array.from(new Set(Y.map(st=>st.exerciseId))),Ze=pe.length?await R.exercises.where("id").anyOf(pe).toArray():[];L(Ze);const Ne=await R.sets.where("sessionId").equals($).toArray();x(Ne),_(await R.sessions.get($))}async function ee(Y){if(!re)return;const pe=`tmp_${Math.random().toString(16).slice(2)}`,Ze={id:pe,sessionId:$,sessionExerciseId:re.id,exerciseId:re.exerciseId,createdAt:Date.now(),order:Ve.length+1,...Y};x(Ne=>[...Ne,Ze]);try{const Ne=await $0($,re.id,Y);x(st=>st.map(Fe=>Fe.id===pe?{...Fe,id:Ne}:Fe)),s.enabled&&s.autoStart&&l(Date.now())}catch{x(Ne=>Ne.filter(st=>st.id!==pe)),alert("Failed to log set.")}}return w?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"row between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"h1",children:w.dayTemplateId?"Workout":"Ad-hoc workout"}),h.jsx("div",{className:"muted",children:ym(ye)})]}),h.jsx("button",{className:"primary",onClick:()=>t(`/endlog/${$}`),children:"Finish"})]}),h.jsxs("div",{className:"chip",style:{marginBottom:10},children:["Next: ",ke?((de=K.find(Y=>Y.id===ke.exerciseId))==null?void 0:de.name)??ke.exerciseId:""]}),h.jsx(ex,{text:Vt}),h.jsxs("div",{className:"card",style:{marginTop:12},children:[h.jsxs("div",{className:"row between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"h2",children:(_e==null?void 0:_e.name)??(re==null?void 0:re.exerciseId)??"Exercise"}),h.jsxs("div",{className:"muted",style:{fontSize:12},children:[Ve.length," sets"]})]}),h.jsxs("div",{className:"row",children:[h.jsx("button",{className:"ghost",onClick:()=>Z({open:!0,mode:"SWAP",targetId:re==null?void 0:re.id}),children:"Swap"}),h.jsx("button",{className:"ghost",onClick:()=>Z({open:!0,mode:"ADD"}),children:"Add"})]})]}),h.jsx("div",{className:"hr"}),h.jsx(nx,{onSubmit:ee}),h.jsx("div",{className:"hr"}),h.jsxs("div",{className:"row between",children:[h.jsxs("div",{className:"row",style:{gap:10},children:[h.jsxs("label",{style:{margin:0,display:"flex",alignItems:"center",gap:8},children:[h.jsx("input",{type:"checkbox",checked:s.enabled,onChange:Y=>S(Y.target.checked),style:{width:18,height:18}}),h.jsx("span",{className:"muted",children:"Rest timer"})]}),h.jsxs("label",{style:{margin:0,display:"flex",alignItems:"center",gap:8},children:[h.jsx("input",{type:"checkbox",checked:s.autoStart,onChange:Y=>y(Y.target.checked),style:{width:18,height:18}}),h.jsx("span",{className:"muted",children:"Auto"})]})]}),h.jsx("div",{style:{width:120},children:h.jsx("input",{inputMode:"numeric",value:s.durationSec,onChange:Y=>p(Number(Y.target.value||0)),"aria-label":"Rest duration seconds"})})]}),h.jsx("div",{style:{marginTop:10},children:h.jsx(J0,{startedAt:s.startedAt,durationSec:s.durationSec,onClear:d})}),h.jsx("div",{className:"hr"}),Ve.map((Y,pe)=>h.jsx(Z0,{idx:pe+1,setType:Y.setType,reps:Y.reps,load:Y.load,rir:Y.rir,createdAt:Y.createdAt,editable:w.state==="ARCHIVED",onEdit:()=>{},onDelete:()=>{}},Y.id)),h.jsx("div",{className:"hr"}),h.jsxs("div",{className:"row between",children:[h.jsx("button",{className:"ghost",disabled:!re||((fe=D[0])==null?void 0:fe.id)===re.id,onClick:()=>{const Y=D.findIndex(Ze=>Ze.id===re.id),pe=D[Y-1];pe&&i(pe.id)},children:"Prev"}),h.jsx("button",{className:"ghost",disabled:!ke,onClick:()=>{ke&&i(ke.id)},children:"Next"})]})]}),Q!=null&&Q.open?h.jsx(rx,{mode:Q.mode,targetId:Q.targetId,onClose:()=>Z(null),onPick:async Y=>{await W0($,{mode:Q.mode,sessionExerciseId:Q.targetId,exerciseId:Y}),Z(null),await Xn()}}):null]}):h.jsx("div",{className:"card",children:"Loading"})}function nx({onSubmit:e}){const[t,n]=F.useState(""),[r,i]=F.useState(""),[s,l]=F.useState(""),[d,p]=F.useState("WORKING");return h.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr 1fr",alignItems:"end"},children:[h.jsxs("div",{children:[h.jsx("label",{children:"Reps"}),h.jsx("input",{inputMode:"numeric",value:t,onChange:y=>n(y.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{children:"Load"}),h.jsx("input",{inputMode:"decimal",value:r,onChange:y=>i(y.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{children:"RIR"}),h.jsx("input",{inputMode:"numeric",value:s,onChange:y=>l(y.target.value)})]}),h.jsxs("div",{className:"row",style:{gridColumn:"1 / -1",justifyContent:"space-between"},children:[h.jsxs("div",{className:"row",style:{gap:8},children:[h.jsx("button",{className:d==="WARMUP"?"primary":"",onClick:()=>p("WARMUP"),type:"button",children:"Warmup"}),h.jsx("button",{className:d==="WORKING"?"primary":"",onClick:()=>p("WORKING"),type:"button",children:"Working"})]}),h.jsx("button",{className:"primary",type:"button",onClick:()=>{const y={setType:d,reps:t===""?void 0:Number(t),load:r===""?void 0:Number(r),rir:s===""?void 0:Number(s)};e(y)},children:"Log set"})]})]})}function rx({mode:e,targetId:t,onClose:n,onPick:r}){const[i,s]=F.useState(""),[l,d]=F.useState([]),[p,y]=F.useState(!1),[S,w]=F.useState("");F.useEffect(()=>{(async()=>{const D=await R.exercises.where("archived").equals(0).toArray().catch(()=>R.exercises.toArray());d(D)})()},[]);const _=F.useMemo(()=>{const D=i.trim().toLowerCase();return D?l.filter(O=>O.name.toLowerCase().includes(D)):l},[i,l]);return h.jsx(Eo,{title:e==="ADD"?"Add exercise":"Swap exercise",onClose:n,actions:h.jsx("button",{className:"ghost",onClick:n,children:"Close"}),children:h.jsxs("div",{className:"grid",children:[h.jsxs("div",{children:[h.jsx("label",{children:"Search"}),h.jsx("input",{value:i,onChange:D=>s(D.target.value),placeholder:"Type to filter"})]}),h.jsxs("div",{className:"card",style:{boxShadow:"none"},children:[_.slice(0,20).map(D=>h.jsx("button",{className:"ghost",style:{width:"100%",textAlign:"left"},onClick:()=>r(D.id),children:D.name},D.id)),_.length===0?h.jsx("div",{className:"muted",children:"No matches."}):null]}),h.jsx("button",{className:"primary",onClick:()=>y(D=>!D),children:p?"Cancel new exercise":"New exercise"}),p?h.jsxs("div",{className:"card",style:{boxShadow:"none"},children:[h.jsx("label",{children:"Name"}),h.jsx("input",{value:S,onChange:D=>w(D.target.value)}),h.jsx("div",{className:"row",style:{marginTop:10,justifyContent:"flex-end"},children:h.jsx("button",{className:"primary",onClick:async()=>{const D=S.trim();if(!D)return;const O=crypto.randomUUID().replace(/-/g,"").slice(0,26).toUpperCase();await R.exercises.put({id:O,name:D,type:"STRENGTH",defaultUnit:"KG",archived:!1,createdAt:Date.now(),updatedAt:Date.now()}),r(O)},children:"Create + select"})})]}):null]})})}async function ix(e){const t=await R.dayTemplates.get(e);return(t==null?void 0:t.title)??"Workout"}function ox(){const{sessionId:e}=Ic(),t=yi(),[n,r]=F.useState(3),[i,s]=F.useState(3),[l,d]=F.useState(3),[p,y]=F.useState(""),[S,w]=F.useState("");async function _(){const D={performance:n,energy:i,mindMuscle:l,mentalState:p.trim()||void 0,preWorkoutUsed:S.trim()||void 0};await V0(e,D);try{const O=await B0(e),K=URL.createObjectURL(O),L=document.createElement("a");L.href=K,L.download=`ApexBust-backup-${new Date().toISOString().slice(0,10)}-${e}.json`,document.body.appendChild(L),L.click(),L.remove(),URL.revokeObjectURL(K)}catch{}t("/")}return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h1",children:"End Log"}),h.jsx("div",{className:"card",children:h.jsxs("div",{className:"grid",style:{gap:12},children:[h.jsx(bl,{label:"Performance (15)",value:n,setValue:r}),h.jsx(bl,{label:"Energy (15)",value:i,setValue:s}),h.jsx(bl,{label:"Mind-muscle (15)",value:l,setValue:d}),h.jsxs("div",{children:[h.jsx("label",{children:"Mental state"}),h.jsx("input",{value:p,onChange:D=>y(D.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{children:"Pre-workout used"}),h.jsx("input",{value:S,onChange:D=>w(D.target.value)})]}),h.jsx("button",{className:"primary",onClick:()=>void _(),children:"Submit"})]})})]})}function bl({label:e,value:t,setValue:n}){return h.jsxs("div",{children:[h.jsx("label",{children:e}),h.jsx("input",{inputMode:"numeric",value:t,onChange:r=>n(Math.max(1,Math.min(5,Number(r.target.value||3))))})]})}function sx(){const[e,t]=F.useState([]),[n,r]=F.useState(null),[i,s]=F.useState([]),[l,d]=F.useState([]),[p,y]=F.useState(()=>{const L=new Date;return`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`}),[S,w]=F.useState(null),[_,D]=F.useState(!1);F.useEffect(()=>{O()},[]);async function O(){t(await R.prs.toArray()),r(await R.stats.get("GLOBAL")),s(await R.bodyweights.orderBy("date").reverse().limit(30).toArray()),d(await R.sessions.orderBy("date").reverse().toArray())}const K=F.useMemo(()=>l.filter(L=>L.date.startsWith(p)),[l,p]);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h1",children:"Data"}),h.jsxs("div",{className:"grid",children:[h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Lifetime stats"}),h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:"Total sessions"}),h.jsx("span",{children:(n==null?void 0:n.totalSessionsCompleted)??0})]}),h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:"Total sets"}),h.jsx("span",{children:(n==null?void 0:n.totalSetsLogged)??0})]}),h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:"Total load"}),h.jsx("span",{children:Math.round((n==null?void 0:n.totalVolumeLoad)??0)})]}),h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:"Total duration"}),h.jsxs("span",{children:[Math.round(((n==null?void 0:n.totalWorkoutDurationSec)??0)/60)," min"]})]})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Bodyweight"}),i.length?i.map(L=>h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:yr(L.date)}),h.jsxs("span",{children:[L.weight," ",L.unit]})]},L.id)):h.jsx("div",{className:"muted",children:"No entries."}),h.jsx("div",{className:"hr"}),h.jsx(ax,{onAdded:O})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"PRs"}),e.length?e.map(L=>h.jsxs("div",{className:"row between",children:[h.jsx("span",{className:"muted",children:L.exerciseId.slice(0,6)}),h.jsx("span",{children:L.value})]},L.id)):h.jsx("div",{className:"muted",children:"No PRs yet."})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"row between",children:[h.jsx("div",{className:"h2",children:"Session history"}),h.jsx("input",{value:p,onChange:L=>y(L.target.value),placeholder:"YYYY-MM",style:{width:120}})]}),K.length?K.map(L=>h.jsx("button",{className:"ghost",style:{width:"100%",textAlign:"left"},onClick:async()=>{const E=await R.sessionExercises.where("sessionId").equals(L.id).sortBy("order"),x=await R.sets.where("sessionId").equals(L.id).toArray();w({session:L,ex:E,sets:x}),D(!1)},children:h.jsxs("div",{className:"row between",children:[h.jsx("span",{children:yr(L.date)}),h.jsx("span",{className:"badge",children:L.state})]})},L.id)):h.jsx("div",{className:"muted",children:"No sessions in this month."})]})]}),S?h.jsx(Eo,{title:`Session ${yr(S.session.date)}`,onClose:()=>w(null),actions:h.jsxs(h.Fragment,{children:[S.session.state==="ARCHIVED"?h.jsx("button",{className:"ghost",onClick:()=>D(L=>!L),children:_?"Stop editing":"Edit past session"}):null,_?h.jsx("button",{className:"primary",onClick:async()=>{await q0(S.session.id),await O(),w(null)},children:"Save"}):null,h.jsx("button",{className:"ghost",onClick:()=>w(null),children:"Close"})]}),children:h.jsx(lx,{view:S,editable:_,onChange:async()=>{const L=await R.sessionExercises.where("sessionId").equals(S.session.id).sortBy("order"),E=await R.sets.where("sessionId").equals(S.session.id).toArray();w({...S,ex:L,sets:E})}})}):null]})}function ax({onAdded:e}){const[t,n]=F.useState(""),[r,i]=F.useState(""),[s,l]=F.useState("KG");return h.jsxs("div",{className:"grid",style:{gridTemplateColumns:"1fr 1fr",gap:10},children:[h.jsxs("div",{children:[h.jsx("label",{children:"Date (YYYY-MM-DD)"}),h.jsx("input",{value:t,onChange:d=>n(d.target.value),placeholder:"2026-02-24"})]}),h.jsxs("div",{children:[h.jsx("label",{children:"Weight"}),h.jsx("input",{inputMode:"decimal",value:r,onChange:d=>i(d.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{children:"Unit"}),h.jsxs("select",{value:s,onChange:d=>l(d.target.value),children:[h.jsx("option",{value:"KG",children:"KG"}),h.jsx("option",{value:"LB",children:"LB"})]})]}),h.jsx("div",{className:"row",style:{justifyContent:"flex-end"},children:h.jsx("button",{className:"primary",onClick:async()=>{const d=Number(r);if(!t||!Number.isFinite(d))return;const p=Date.now(),y=await R.bodyweights.get({date:t}).catch(()=>null);y?await R.bodyweights.put({...y,weight:d,unit:s,updatedAt:p}):await R.bodyweights.put({id:crypto.randomUUID().replace(/-/g,"").slice(0,26).toUpperCase(),date:t,weight:d,unit:s,createdAt:p,updatedAt:p}),n(""),i(""),e()},children:"Add"})})]})}function lx({view:e,editable:t,onChange:n}){return new Map(e.sets.reduce((r,i)=>r,[])),h.jsxs("div",{children:[h.jsxs("div",{className:"muted",children:["State: ",e.session.state]}),h.jsx("div",{className:"hr"}),e.ex.map(r=>{const i=e.sets.filter(s=>s.sessionExerciseId===r.id).sort((s,l)=>s.order-l.order);return h.jsxs("div",{className:"card",style:{boxShadow:"none",marginBottom:10},children:[h.jsx("div",{className:"h2",children:r.exerciseId}),i.length?i.map((s,l)=>h.jsxs("div",{className:"row between",style:{padding:"6px 0"},children:[h.jsxs("div",{className:"muted",style:{fontSize:12},children:["#",l+1," ",s.setType,"  reps ",s.reps??"","  load ",s.load??"","  RIR ",s.rir??""]}),t?h.jsxs("div",{className:"row",style:{gap:6},children:[h.jsx("button",{className:"ghost",style:{minHeight:34},onClick:async()=>{const d=prompt("Reps",String(s.reps??""))??"",p=prompt("Load",String(s.load??""))??"",y=prompt("RIR",String(s.rir??""))??"",S=prompt("Set type (WARMUP|WORKING|CARDIO|OTHER)",String(s.setType??"WORKING"))??"WORKING";await H0(s.id,{reps:d===""?void 0:Number(d),load:p===""?void 0:Number(p),rir:y===""?void 0:Number(y),setType:S}),n()},children:"Edit"}),h.jsx("button",{className:"ghost",style:{minHeight:34},onClick:async()=>{confirm("Delete set?")&&(await Q0(s.id),n())},children:"Del"})]}):null]},s.id)):h.jsx("div",{className:"muted",children:"No sets."})]},r.id)})]})}const ux=/^#\s+.*Day\s+(\d+)\s+\s+(.+)$/mi;function Ff(e){return e.replace(/^[^A-Za-z0-9]+\s*/,"").trim()}function cx(e){var i;const t=e.split(/\r?\n/),n=[];for(let s=0;s<t.length;s++){const l=(i=t[s])==null?void 0:i.match(ux);l&&n.push({dayNum:Number(l[1]),title:Ff(l[2]??`Day ${l[1]}`),start:s})}if(n.length===0){const s=e.match(/^#\s+(.+)$/m);if(!s)return[];const l=s[1].match(/Day\s+(\d+)/i);return[{dayNum:l?Number(l[1]):1,title:Ff(s[1]),body:e}]}const r=[];for(let s=0;s<n.length;s++){const l=n[s].start,d=s+1<n.length?n[s+1].start:t.length;r.push({dayNum:n[s].dayNum,title:n[s].title,body:t.slice(l,d).join(`
`)})}return r}function dx(e,t){var i;const r=[...e.slice(0,t).matchAll(/^###\s+(.+)$/gm)];return((i=r.length?r[r.length-1][1]:"Sets")==null?void 0:i.trim())??"Sets"}function fx(e){const t=[...e.matchAll(/\n\|\s*Set\s*\|[\s\S]*?\n\|[-:\s|]+\n([\s\S]*?)(?=\n\n|\n---|\n###\s+|\Z)/g)];let n=0,r;const i=[];for(const l of t){const d=(l[1]??"").trim();if(!d)continue;const p=d.split(/\r?\n/).filter(_=>/^\|/.test(_));if(!p.length)continue;const S=p[0].split("|").map(_=>_.trim()).filter(Boolean)[1];!r&&S&&(r=S);const w=dx(e,l.index??0);i.push(`${w}: ${p.length} sets`),/warm-?up/i.test(w)||(n+=p.length)}const s={};return n>0&&(s.targetSets=n),r&&(s.targetReps=r),i.length&&(s.notes=i.join("  ")),Object.keys(s).length?s:void 0}function px(e){const t=e.split(/\r?\n/),n=[];let r=1,i=!1;for(let s=0;s<t.length;s++){const l=(t[s]??"").trim();/^#\s+General Warm-Up\s*$/i.test(l)&&(i=!0),/^#\s+Accessories\s*$/i.test(l)&&(i=!1),/^#\s+Cooldown\s*$/i.test(l)&&(i=!0);const d=l.match(/^##\s+(.+)$/);if(!d)continue;const p=(d[1]??"").trim();if(!p||/^Intro$/i.test(p))continue;let y=t.length;for(let w=s+1;w<t.length;w++)if(/^##\s+/.test((t[w]??"").trim())){y=w;break}const S=t.slice(s+1,y).join(`
`);n.push({name:p.replace(/\s+\(.+\)\s*$/,"").trim(),order:r++,prescription:fx(S),isWarmupDefault:i})}return n}function hx(e,t){const n=cx(e).filter(d=>d.dayNum>=1&&d.dayNum<=6).sort((d,p)=>d.dayNum-p.dayNum);if(!n.length)throw new Error("No Day 1Day 6 blocks detected.");const r=d=>Math.min(6,Math.max(1,d)),i=n.map(d=>({weekday:r(d.dayNum),title:d.title,exercises:px(d.body)})),s=[],l=new Set;for(const d of i)for(const p of d.exercises){const y=p.name.toLowerCase();l.has(y)||(l.add(y),s.push({name:p.name,type:"STRENGTH",defaultUnit:"KG"}))}return{schemaVersion:1,program:{name:t,weekTemplate:{name:"BASE_Workout",days:i.map(d=>({weekday:d.weekday,title:d.title,exercises:d.exercises.map(p=>({name:p.name,order:p.order,prescription:p.prescription,isWarmupDefault:p.isWarmupDefault??!1}))}))}},exercises:s}}async function mx(){const e=await R.sessions.orderBy("date").toArray(),t=await R.bodyweights.orderBy("date").toArray(),n=await R.prs.toArray(),r=await R.exercises.toArray(),i=new Map(r.map(d=>[d.id,d.name])),s=[];if(s.push("# Workout History Export"),s.push(""),s.push(`Generated: ${new Date().toISOString()}`),s.push(""),s.push("## PR Summary"),n.length===0)s.push("- (none)");else for(const d of n.sort((p,y)=>(i.get(p.exerciseId)??"").localeCompare(i.get(y.exerciseId)??"")))s.push(`- **${i.get(d.exerciseId)??d.exerciseId}**: ${d.value} (max load)  ${new Date(d.achievedAt).toLocaleDateString()}`);if(s.push(""),s.push("## Bodyweight"),t.length===0)s.push("- (none)");else for(const d of t)s.push(`- ${yr(d.date)}: ${d.weight} ${d.unit}`);s.push(""),s.push("## Sessions");const l=new Map;for(const d of e){const p=l.get(d.date)??[];p.push(d),l.set(d.date,p)}for(const[d,p]of[...l.entries()].sort((y,S)=>y[0].localeCompare(S[0]))){s.push(`### ${yr(d)}`);for(const y of p){s.push(`- **Session** (${y.state})${y.dayTemplateId?"":" (ad-hoc)"}`),y.startedAt&&s.push(`  - Started: ${new Date(y.startedAt).toLocaleTimeString()}`),y.finishedAt&&s.push(`  - Finished: ${new Date(y.finishedAt).toLocaleTimeString()}`),y.durationSec!=null&&s.push(`  - Duration: ${Math.round(y.durationSec/60)} min`);const S=await R.sessionExercises.where("sessionId").equals(y.id).sortBy("order");for(const w of S){s.push(`  - **${i.get(w.exerciseId)??w.exerciseId}**`);const _=await R.sets.where("sessionExerciseId").equals(w.id).sortBy("order");for(const D of _){const O=[];O.push(D.setType),typeof D.reps=="number"&&O.push(`${D.reps} reps`),typeof D.load=="number"&&O.push(`${D.load} load`),typeof D.rir=="number"&&O.push(`RIR ${D.rir}`),typeof D.durationSec=="number"&&O.push(`${D.durationSec}s`),typeof D.distance=="number"&&O.push(`${D.distance} dist`),s.push(`    - ${O.join("  ")}`)}}y.endLog&&(s.push("  - **End Log**"),s.push(`    - Performance: ${y.endLog.performance}/5`),s.push(`    - Energy: ${y.endLog.energy}/5`),s.push(`    - Mind-muscle: ${y.endLog.mindMuscle}/5`),y.endLog.mentalState&&s.push(`    - Mental: ${y.endLog.mentalState}`),y.endLog.preWorkoutUsed&&s.push(`    - Pre-workout: ${y.endLog.preWorkoutUsed}`))}s.push("")}return new Blob([s.join(`
`)],{type:"text/markdown;charset=utf-8"})}function yx(e,t){const n=URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),r.remove(),URL.revokeObjectURL(n)}async function vx(){const e=Date.now();await R.exports.put({id:rt(),type:"MARKDOWN_FULL_HISTORY",createdAt:e});const t=await R.settings.get("USER");t&&await R.settings.put({...t,backupReminder:{...t.backupReminder,lastExportAt:e},updatedAt:e})}function gx(){const e=Jt(L=>L.settings),t=Jt(L=>L.load),n=Jt(L=>L.setThemeMode),r=Jt(L=>L.setAnchorWeekday),i=Jt(L=>L.setDefaultRestWeekdays),s=Jt(L=>L.setWeightUnit),l=Jt(L=>L.setBackupReminder),[d,p]=F.useState(""),[y,S]=F.useState(""),[w,_]=F.useState(""),[D,O]=F.useState(null);F.useEffect(()=>{t()},[t]);const K=F.useMemo(()=>{if(!(e!=null&&e.backupReminder.enabled))return!1;const L=e.backupReminder.lastExportAt??0,E=e.backupReminder.remindAfterDays;return Date.now()-L>E*24*3600*1e3},[e]);return e?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"h1",children:"Settings"}),h.jsxs("div",{className:"grid",children:[h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Theme"}),h.jsxs("select",{value:e.themeMode,onChange:L=>void n(L.target.value),children:[h.jsx("option",{value:"SYSTEM",children:"System"}),h.jsx("option",{value:"LIGHT",children:"Light"}),h.jsx("option",{value:"DARK",children:"Dark"}),h.jsx("option",{value:"AMOLED",children:"AMOLED"})]})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Units"}),h.jsxs("select",{value:e.units.weightUnit,onChange:L=>void s(L.target.value),children:[h.jsx("option",{value:"KG",children:"KG"}),h.jsx("option",{value:"LB",children:"LB"})]})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Schedule"}),h.jsx("label",{children:"Anchor weekday (0=Sun  6=Sat)"}),h.jsx("input",{inputMode:"numeric",value:e.anchorWeekday,onChange:L=>void r(wx(Number(L.target.value)))}),h.jsx("div",{className:"hr"}),h.jsx("label",{children:"Default rest weekdays (comma-separated, 0..6)"}),h.jsx("input",{value:e.defaultRestWeekdays.join(","),onChange:L=>{const E=L.target.value.split(",").map(x=>Number(x.trim())).filter(x=>Number.isFinite(x)&&x>=0&&x<=6);i(E)}}),h.jsx("div",{className:"row",style:{marginTop:10},children:h.jsx("button",{className:"primary",onClick:()=>void Qr(Ut(new Date)).then(()=>alert("Week generated (non-destructive).")),children:"Generate current week"})})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Program import"}),h.jsx("div",{className:"muted",style:{fontSize:12,marginBottom:8},children:"Paste JSON for: full program, single day, or single exercise (v1 implements full program import)."}),h.jsx("textarea",{rows:8,value:d,onChange:L=>p(L.target.value)}),h.jsx("div",{className:"row",style:{justifyContent:"flex-end",marginTop:10},children:h.jsx("button",{className:"primary",onClick:async()=>{const L=d.trim();if(!L)return;const E=JSON.parse(L),x=await N0(E);p(""),typeof x.importedAnchorWeekday=="number"?O(x.importedAnchorWeekday):(await Qr(Ut(new Date)),alert("Imported."))},children:"Import"})}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Markdown  JSON"}),h.jsx("div",{className:"muted",style:{fontSize:12,marginBottom:8},children:"Paste BASE_Workout markdown (weekly or a single day). Generates a Program JSON template you can import."}),h.jsx("textarea",{rows:8,value:y,onChange:L=>S(L.target.value)}),h.jsx("div",{className:"row",style:{justifyContent:"flex-end",marginTop:10},children:h.jsx("button",{className:"primary",onClick:()=>{try{const L=hx(y,"BASE_Workout");_(JSON.stringify(L,null,2))}catch(L){alert((L==null?void 0:L.message)??"Failed to convert.")}},children:"Convert"})}),w?h.jsxs("div",{style:{marginTop:10},children:[h.jsx("label",{children:"Generated JSON"}),h.jsx("textarea",{rows:10,value:w,readOnly:!0}),h.jsxs("div",{className:"row",style:{justifyContent:"flex-end",marginTop:10,gap:10},children:[h.jsx("button",{className:"ghost",onClick:()=>navigator.clipboard.writeText(w),children:"Copy"}),h.jsx("button",{className:"primary",onClick:()=>{const L=new Blob([w],{type:"application/json;charset=utf-8"}),E=URL.createObjectURL(L),x=document.createElement("a");x.href=E,x.download="BASE_Workout.json",document.body.appendChild(x),x.click(),x.remove(),URL.revokeObjectURL(E)},children:"Download"})]})]}):null]})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Backup reminder"}),K?h.jsx("div",{className:"chip",children:" Backup recommended"}):h.jsx("div",{className:"muted",style:{fontSize:12},children:"OK"}),h.jsx("div",{className:"hr"}),h.jsx("label",{children:"Enabled"}),h.jsxs("select",{value:String(e.backupReminder.enabled),onChange:L=>void l({enabled:L.target.value==="true"}),children:[h.jsx("option",{value:"true",children:"On"}),h.jsx("option",{value:"false",children:"Off"})]}),h.jsxs("div",{style:{marginTop:10},children:[h.jsx("label",{children:"Remind after days"}),h.jsx("input",{inputMode:"numeric",value:e.backupReminder.remindAfterDays,onChange:L=>void l({remindAfterDays:Math.max(1,Number(L.target.value||14))})})]}),h.jsxs("div",{className:"muted",style:{fontSize:12,marginTop:8},children:["Last export: ",e.backupReminder.lastExportAt?new Date(e.backupReminder.lastExportAt).toLocaleString():"never"]})]}),h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"h2",children:"Export"}),h.jsx("button",{className:"primary",onClick:async()=>{const L=await mx();yx(L,`workout-history-${new Date().toISOString().slice(0,10)}.md`),await vx(),await t()},children:"Export Markdown (full history)"})]})]}),D!=null?h.jsx(Eo,{title:"Import includes anchor weekday",onClose:()=>O(null),actions:h.jsxs(h.Fragment,{children:[h.jsx("button",{className:"ghost",onClick:async()=>{O(null),await Qr(Ut(new Date)),alert("Imported (anchor ignored).")},children:"Ignore"}),h.jsx("button",{className:"primary",onClick:async()=>{await r(D),O(null),await Qr(Ut(new Date)),alert("Imported + anchor applied.")},children:"Apply"})]}),children:h.jsxs("div",{className:"muted",children:["Use imported anchor weekday ",h.jsx("span",{className:"kbd",children:D})," as the global setting?"]})}):null]}):h.jsx("div",{className:"card",children:"Loading"})}function wx(e){return Number.isFinite(e)?Math.min(6,Math.max(0,Math.floor(e))):0}function xx(){return h.jsxs(ww,{children:[h.jsx(In,{path:"/",element:h.jsx(R0,{})}),h.jsx(In,{path:"/workout/:date",element:h.jsx(Y0,{})}),h.jsx(In,{path:"/tracker/:sessionId",element:h.jsx(tx,{})}),h.jsx(In,{path:"/endlog/:sessionId",element:h.jsx(ox,{})}),h.jsx(In,{path:"/data",element:h.jsx(sx,{})}),h.jsx(In,{path:"/settings",element:h.jsx(gx,{})}),h.jsx(In,{path:"*",element:h.jsx(vw,{to:"/",replace:!0})})]})}function Sx(){const e=Jt(t=>t.load);return F.useEffect(()=>{e()},[e]),h.jsx(f0,{children:h.jsx(xx,{})})}async function kx(){const e=Date.now();await R.transaction("rw",R.settings,R.stats,async()=>{await R.settings.get("USER")||await R.settings.put({id:"USER",themeMode:"SYSTEM",anchorWeekday:0,defaultRestWeekdays:[0],units:{weightUnit:"KG"},backupReminder:{enabled:!0,remindAfterDays:14},createdAt:e,updatedAt:e}),await R.stats.get("GLOBAL")||await R.stats.put({id:"GLOBAL",totalSessionsCompleted:0,totalSetsLogged:0,totalVolumeLoad:0,totalWorkoutDurationSec:0,lastUpdatedAt:e})})}const Ex="watt_instance_lock",Oc="watt_active_instance",_x=2e3,Nx=6e3,Gr=crypto.randomUUID();let Zt=null,js=null,ps=!1;function Sm(){return Date.now()}function km(){try{const e=localStorage.getItem(Oc);if(!e)return null;const t=JSON.parse(e);return!t.instanceId||!t.ts?null:t}catch{return null}}function Uf(){localStorage.setItem(Oc,JSON.stringify({instanceId:Gr,ts:Sm()}))}function jx(e){return Sm()-e.ts>Nx}async function Cx(){Zt=new BroadcastChannel(Ex),Zt.onmessage=t=>{const n=t.data;!n||typeof n!="object"||(n.type==="HELLO"&&(ps||Zt==null||Zt.postMessage({type:"I_AM_ACTIVE",instanceId:Gr})),n.type==="I_AM_ACTIVE"&&n.instanceId!==Gr&&(ps=!0,pn.getState().setLock(!0)))};const e=km();if(e&&e.instanceId!==Gr&&!jx(e)){ps=!0,pn.getState().setLock(!0);return}Zt.postMessage({type:"HELLO",instanceId:Gr}),await new Promise(t=>setTimeout(t,120)),!pn.getState().lock&&(Uf(),js=window.setInterval(()=>{ps||Uf()},_x))}function Px(){js&&window.clearInterval(js),js=null,Zt==null||Zt.close(),Zt=null;try{const e=km();(e==null?void 0:e.instanceId)===Gr&&localStorage.removeItem(Oc)}catch{}}window.addEventListener("beforeunload",()=>Px());async function Ix(){const e=Ut(new Date),t=kr(e,-1),n=await R.schedule.get({date:t});n&&n.type==="WORKOUT"&&n.state==="PLANNED"&&pn.getState().setSkipPrompt({open:!0,date:t})}async function Tx(){await Cx(),await kx(),await Ix()}Tx().then(()=>{l0(),Rl.createRoot(document.getElementById("root")).render(h.jsx(Lu.StrictMode,{children:h.jsx(Cw,{children:h.jsx(Sx,{})})}))});
